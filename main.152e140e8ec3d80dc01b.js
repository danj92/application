(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+ezf":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{register(t){this.select=t}getSelect(){return this.select}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},"+rOU":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return l});var r=n("fXoL");n("ofXK");class i{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class s extends i{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class o extends i{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class a extends i{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class c extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof s?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof o?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof a?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let u=(()=>{class t extends o{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.M),r.Nb(r.R))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[r.zb]}),t})(),l=(()=>{class t extends u{}return t.\u0275fac=function(e){return h(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[r.Bb([{provide:u,useExisting:t}]),r.zb]}),t})();const h=r.Vb(l);let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})()},"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService({instanceIdentifier:i});if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?o:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s)),s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"1DKR":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(0,"p"),r.uc(1,"Copyright \u24b8 2021"),r.Sb())},styles:["[_nghost-%COMP%]{background:var(--primary);color:var(--content-very-light);text-align:center;padding:5px 0}"]}),t})()},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return At}),n.d(e,"d",function(){return lt}),n.d(e,"e",function(){return Ct}),n.d(e,"f",function(){return xt}),n.d(e,"g",function(){return Et}),n.d(e,"h",function(){return kt}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return U}),n.d(e,"k",function(){return B}),n.d(e,"l",function(){return H}),n.d(e,"m",function(){return gt}),n.d(e,"n",function(){return _t}),n.d(e,"o",function(){return Pt}),n.d(e,"p",function(){return C}),n.d(e,"q",function(){return mt});var r=n("fXoL"),i=n("ofXK"),s=n("Cfvw"),o=n("HDdC"),a=n("DH7j"),c=n("lJxs"),u=n("XoHu");function l(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,a=0;for(let c=0;c<r;c++){const u=Object(s.a)(t[c]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,a++),i[c]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(a===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class h{}const d=new r.r("NgValueAccessor"),f={provide:d,useExisting:Object(r.V)(()=>p),multi:!0};let p=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Bb([f]),r.zb]}),t})();const g={provide:d,useExisting:Object(r.V)(()=>y),multi:!0},m=new r.r("CompositionEventMode");let y=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.t)()?Object(i.t)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l),r.Nb(m,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([g])]}),t})();function v(t){return null==t||0===t.length}function b(t){return null!=t&&"number"==typeof t.length}const _=new r.r("NgValidators"),w=new r.r("NgAsyncValidators"),O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class C{static min(t){return function(t){return e=>{if(v(e.value)||v(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(v(e.value)||v(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return v(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return v(t.value)||O.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>v(e.value)||!b(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>b(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return S;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(v(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return P(t)}static composeAsync(t){return j(t)}}function S(t){return null}function E(t){return null!=t}function T(t){const e=Object(r.tb)(t)?Object(s.a)(t):t;return Object(r.sb)(e),e}function x(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function I(t,e){return e.map(e=>e(t))}function k(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function P(t){if(!t)return null;const e=t.filter(E);return 0==e.length?null:function(t){return x(I(t,e))}}function A(t){return null!=t?P(k(t)):null}function j(t){if(!t)return null;const e=t.filter(E);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(a.a)(e))return l(e,null);if(Object(u.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(c.a)(t=>e(...t)))}return l(t,null)}(I(t,e).map(T)).pipe(Object(c.a)(x))}}function D(t){return null!=t?j(k(t)):null}function N(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function R(t){return t._rawValidators}function M(t){return t._rawAsyncValidators}let L=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=A(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),F=(()=>{class t extends L{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return V(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const V=r.Vb(F);class U extends L{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let B=(()=>{class t extends q{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(U,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),H=(()=>{class t extends q{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(F,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function z(t,e){return[...e.path,t]}function K(t,e){G(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Q(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Q(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function X(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),W(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function G(t,e,n){const r=R(t);null!==e.validator?t.setValidators(N(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=M(t);if(null!==e.asyncValidator?t.setAsyncValidators(N(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();$(e._rawValidators,n),$(e._rawAsyncValidators,n)}}function W(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=R(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=M(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};$(e._rawValidators,t),$(e._rawAsyncValidators,t)}return r}function Q(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Y(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function J(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===y?n=t:Object.getPrototypeOf(t.constructor)===h?r=t:i=t}),i||r||n||null}function Z(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tt="VALID",et="INVALID",nt="PENDING",rt="DISABLED";function it(t){return(ct(t)?t.validators:t)||null}function st(t){return Array.isArray(t)?A(t):t||null}function ot(t,e){return(ct(e)?e.asyncValidators:t)||null}function at(t){return Array.isArray(t)?D(t):t||null}function ct(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ut{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=st(this._rawValidators),this._composedAsyncValidatorFn=at(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tt}get invalid(){return this.status===et}get pending(){return this.status==nt}get disabled(){return this.status===rt}get enabled(){return this.status!==rt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=st(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=at(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tt&&this.status!==nt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rt:tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nt,this._hasOwnPendingAsyncValidator=!0;const e=T(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ht?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof dt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?rt:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nt)?nt:this._anyControlsHaveStatus(et)?et:tt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ct(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lt extends ut{constructor(t=null,e,n){super(it(e),ot(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Z(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Z(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ht extends ut{constructor(t,e,n){super(it(e),ot(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof lt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dt extends ut{constructor(t,e,n){super(it(e),ot(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof lt?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ft={provide:U,useExisting:Object(r.V)(()=>gt)},pt=(()=>Promise.resolve(null))();let gt=(()=>{class t extends U{constructor(t,e,n,i){super(),this.control=new lt,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=J(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Y(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?z(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;pt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(F,9),r.Nb(_,10),r.Nb(w,10),r.Nb(d,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([ft]),r.zb,r.Ab]}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const yt={provide:d,useExisting:Object(r.V)(()=>_t),multi:!0};let vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})(),bt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:vt}),t})(),_t=(()=>{class t extends h{constructor(t,e,n,r){super(),this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(U),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l),r.Nb(bt),r.Nb(r.s))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([yt]),r.zb]}),t})();const wt=new r.r("NgModelWithFormControlWarning"),Ot={provide:U,useExisting:Object(r.V)(()=>Ct)};let Ct=(()=>{class t extends U{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=J(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&X(e,this,!1),K(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Y(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&X(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(_,10),r.Nb(w,10),r.Nb(d,10),r.Nb(wt,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Bb([Ot]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})();const St={provide:F,useExisting:Object(r.V)(()=>Et)};let Et=(()=>{class t extends F{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(W(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return K(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){X(t.control||null,t,!1),Z(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(X(e||null,t),n instanceof lt&&(K(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){G(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return W(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G(this.form,this,!1),this._oldForm&&W(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(_,10),r.Nb(w,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([St]),r.zb,r.Ab]}),t})();const Tt={provide:U,useExisting:Object(r.V)(()=>xt)};let xt=(()=>{class t extends U{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=J(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Y(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(F,13),r.Nb(_,10),r.Nb(w,10),r.Nb(d,10),r.Nb(wt,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Tt]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})(),It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[vt]]}),t})(),kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[It]}),t})(),Pt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:wt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[It]}),t})(),At=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new ht(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new lt(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new dt(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof lt||t instanceof ht||t instanceof dt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:Pt}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4SXP":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n("J8y7"),n("EHvl");var r=n("kzYg"),i=(n("R8Gn"),n("fXoL"));let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:[r.a]}),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51hj":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("fXoL"),i=n("3Pt+"),s=n("MnCw");const o=["input"],a=["*"];let c=(()=>{class t{constructor(t,e){this._renderer=t,this.injector=e,this.required=!1,this.onChange=t=>{},this.onTouched=()=>{}}ngAfterViewInit(){const t=this.injector.get(i.j,null);t&&(this.control=t.control,setTimeout(()=>{this.required=Object(s.a)(this.control)}))}writeValue(t){this._renderer.setProperty(this.inputElementRef.nativeElement,"value",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this.inputElementRef.nativeElement,"disabled",t)}onBlur(){this.onTouched()}onInputChange(){this.onChange(this.inputElementRef.nativeElement.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.s))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-custom-input"]],viewQuery:function(t,e){if(1&t&&r.xc(o,7,r.l),2&t){let t;r.kc(t=r.bc())&&(e.inputElementRef=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("required",e.required)},features:[r.Bb([{provide:i.i,useExisting:t,multi:!0}])],ngContentSelectors:a,decls:5,vars:0,consts:[["type","text",3,"blur","input"],["input",""]],template:function(t,e){1&t&&(r.hc(),r.Tb(0,"label"),r.Tb(1,"span"),r.gc(2),r.Sb(),r.Tb(3,"input",0,1),r.ac("blur",function(){return e.onBlur()})("input",function(){return e.onInputChange()}),r.Sb(),r.Sb())},styles:['[_nghost-%COMP%]{display:block;margin-bottom:var(--input-bottom-space);width:100%}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;width:100%}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-bottom:10px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;padding:0 10px;outline:none;border:1px solid var(--input-border-color);color:var(--input-text)}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.required[_nghost-%COMP%]   span[_ngcontent-%COMP%]{color:var(--content-very-dark)}.required[_nghost-%COMP%]   span[_ngcontent-%COMP%]:after{color:var(--danger);content:"*";margin-left:5px}.ng-touched.ng-invalid[_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:var(--danger)}.ng-touched.ng-invalid[_nghost-%COMP%]   input[_ngcontent-%COMP%]{border-width:1px;border-color:var(--danger)}']}),t})()},"583G":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{required(){return"This field is required."}min(t){return`No less than ${t.min}`}email(){return"Incorrect email address."}minlength(t){return`Required at least ${t.requiredLength}, but given ${t.actualLength}`}maxlength(t){return`No more than ${t.requiredLength}, but given ${t.actualLength}`}true(){return"Required True"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},"68if":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7KQv"),i=n("fXoL"),s=n("ofXK"),o=n("3Pt+"),a=n("lED/");function c(t,e){if(1&t&&(i.Tb(0,"div",4),i.uc(1),i.Sb()),2&t){const t=i.dc();i.ic("title",t.label),i.Cb(1),i.wc(" ",t.label," ")}}function u(t,e){if(1&t&&i.Ob(0,"app-form-errors",5),2&t){const t=i.dc();i.ic("control",t.formControl)}}let l=(()=>{class t extends r.a{constructor(){super(...arguments),this.type="text",this.placeholder=""}}return t.\u0275fac=function(e){return h(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder"},features:[i.zb],decls:5,vars:6,consts:[["class","label",3,"title",4,"ngIf"],[1,"input",3,"type","name","formControl","placeholder","focus","blur"],["input",""],[3,"control",4,"ngIf"],[1,"label",3,"title"],[3,"control"]],template:function(t,e){1&t&&(i.Tb(0,"label"),i.sc(1,c,2,2,"div",0),i.Tb(2,"input",1,2),i.ac("focus",function(t){return e.emitFocus(t)})("blur",function(t){return e.emitBlur(t)}),i.Sb(),i.Sb(),i.sc(4,u,1,1,"app-form-errors",3)),2&t&&(i.Cb(1),i.ic("ngIf",e.label),i.Cb(1),i.ic("type",e.type)("name",e.name)("formControl",e.formControl)("placeholder",e.placeholder),i.Cb(2),i.ic("ngIf",e.isErrorVisible))},directives:[s.k,o.b,o.k,o.e,a.a],styles:['.touched.invalid[_nghost-%COMP%]{--input-border-color:var(--danger)}.focused[_nghost-%COMP%]{--input-border-color:var(--input-border-color-active)}.required[_nghost-%COMP%]   .label[_ngcontent-%COMP%]:after{content:"*";color:var(--danger)}.disabled[_nghost-%COMP%]{cursor:not-allowed;opacity:.6}',"[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;height:30px;padding:0 10px;outline:none;border:1px solid var(--input-border-color);color:var(--input-text)}"]}),t})();const h=i.Vb(l)},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7KQv":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL"),i=n("MnCw");let s=(()=>{class t{constructor(){this.name="",this.blur=new r.n,this.focus=new r.n,this.change=new r.n,this.isFocused=!1}ngOnInit(){this.formControl||(this.formControl=this.formGroup.controls[this.name],this.formControl||console.error(`Unknown field: ${this.name}`))}get isInvalid(){return this.formControl.invalid}get isTouched(){return this.formControl.touched}get isFilled(){return!!this.formControl.value}get isRequired(){return Object(i.a)(this.formControl)}get isErrorVisible(){return this.isTouched&&this.isInvalid&&this.isFocused}emitFocus(t){this.isFocused||(this.isFocused=!0,this.focus.next(t))}emitBlur(t){this.isFocused&&(this.isFocused=!1,this.blur.next(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,hostVars:10,hostBindings:function(t,e){2&t&&r.Fb("focused",e.isFocused)("invalid",e.isInvalid)("touched",e.isTouched)("filled",e.isFilled)("required",e.isRequired)},inputs:{formGroup:["form","formGroup"],formControl:["control","formControl"],name:"name"},outputs:{blur:"blur",focus:"focus",change:"change"}}),t})()},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8LU1":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return s});var r=n("fXoL");function i(t){return null!=t&&"false"!=`${t}`}function s(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function o(t){return Array.isArray(t)?t:[t]}function a(t){return null==t?"":"string"==typeof t?t:`${t}px`}function c(t){return t instanceof r.l?t.nativeElement:t}},"93s0":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7KQv"),i=n("fXoL"),s=n("ofXK"),o=n("lED/");function a(t,e){1&t&&(i.Tb(0,"i",5),i.uc(1,"check"),i.Sb())}const c=["*"];let u=(()=>{class t extends r.a{toggleCheckbox(){if(this.formControl.disabled)return;const t=!this.formControl.value;this.formControl.markAsDirty(),this.formControl.markAsTouched(),this.formControl.setValue(t),this.change.next(t)}get isInvalid(){return this.formControl.touched&&this.formControl.invalid}get isDisabled(){return this.formControl.disabled}get isSelected(){return!0===this.formControl.value}onKeyDown(t){this.isKeyboardPressed(t)&&t.preventDefault()}onKeyUp(t){this.isKeyboardPressed(t)&&(this.toggleCheckbox(),t.preventDefault())}isKeyboardPressed(t){return" "===t.key}}return t.\u0275fac=function(e){return l(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-checkbox"]],hostVars:6,hostBindings:function(t,e){1&t&&i.ac("click",function(){return e.toggleCheckbox()}),2&t&&i.Fb("invalid",e.isInvalid)("disabled",e.isDisabled)("selected",e.isSelected)},features:[i.zb],ngContentSelectors:c,decls:6,vars:2,consts:[[1,"checkbox-field",3,"keyup","keydown"],["tabindex","0",1,"checkbox"],["class","material-icons",4,"ngIf"],[1,"label"],[3,"control"],[1,"material-icons"]],template:function(t,e){1&t&&(i.hc(),i.Tb(0,"div",0),i.ac("keyup",function(t){return e.onKeyUp(t)})("keydown",function(t){return e.onKeyDown(t)}),i.Tb(1,"div",1),i.sc(2,a,2,0,"i",2),i.Sb(),i.Tb(3,"span",3),i.gc(4),i.Sb(),i.Sb(),i.Ob(5,"app-form-errors",4)),2&t&&(i.Cb(2),i.ic("ngIf",e.formControl.value),i.Cb(3),i.ic("control",e.formControl))},directives:[s.k,o.a],styles:['.touched.invalid[_nghost-%COMP%]{--input-border-color:var(--danger)}.focused[_nghost-%COMP%]{--input-border-color:var(--input-border-color-active)}.required[_nghost-%COMP%]   .label[_ngcontent-%COMP%]:after{content:"*";color:var(--danger)}.disabled[_nghost-%COMP%]{cursor:not-allowed;opacity:.6}',"[_nghost-%COMP%]{--checkbox-background:var(--input-background);margin-bottom:20px;display:block}[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;display:flex;align-items:center;justify-content:center;border:1px solid var(--input-border-color);background:var(--checkbox-background)}[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:focus{border-width:2px;--input-border-color:var(--input-border-color-active);outline:none}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{margin-left:15px;padding-top:5px}.filled[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{--checkbox-background:var(--primary)}.filled[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--content-very-light);font-size:15px}.disabled[_nghost-%COMP%]{color:var(--content)}.disabled[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{--input-border-color:var(--content)}.disabled[_nghost-%COMP%]   .checkbox-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:focus{--input-border-color:none}.disabled.selected[_nghost-%COMP%]   .checkbox[_ngcontent-%COMP%]{--checkbox-background:var(--content)}.disabled.selected[_nghost-%COMP%]   .checkbox[_ngcontent-%COMP%]:focus{--input-border-color:var(--conten)}"]}),t})();const l=i.Vb(u)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r={production:!0,features:{playground:!0},dbUrl:"http://localhost:3000",firebaseConfig:{apiKey:"AIzaSyCKtcOoCGNPO8A1p6W4fqjUMWhCk6DUTfM",authDomain:"applicationfirebase-41eae.firebaseapp.com",databaseURL:"https://applicationfirebase-41eae-default-rtdb.firebaseio.com",projectId:"applicationfirebase-41eae",storageBucket:"applicationfirebase-41eae.appspot.com",messagingSenderId:"478950316972",appId:"1:478950316972:web:e2c80aa9fd610ef62ab809",measurementId:"G-NKEQMP6ZZ8"}}},C2jZ:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("fXoL"),i=n("3Pt+"),s=n("MnCw"),o=n("ofXK"),a=n("DYkS"),c=n("tUC8");const u=["select"];function l(t,e){if(1&t&&(r.Rb(0),r.Ob(1,"app-custom-select-option",9),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.ic("key",t)("value",t)}}function h(t,e){if(1&t){const t=r.Ub();r.Tb(0,"app-custom-select",6,7),r.ac("blurInput",function(){return r.oc(t),r.dc().onTouchedSelect()}),r.sc(2,l,2,2,"ng-container",8),r.Sb()}if(2&t){const t=r.dc();r.ic("showIcon",!1)("disabledControl",t.disabled),r.Cb(2),r.ic("ngForOf",t.hours)}}function d(t,e){if(1&t&&(r.Rb(0),r.Ob(1,"app-custom-select-option",9),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.ic("key",t)("value",t)}}function f(t,e){if(1&t){const t=r.Ub();r.Tb(0,"app-custom-select",10),r.ac("blur",function(){return r.oc(t),r.dc().onTouchedSelect()}),r.sc(1,d,2,2,"ng-container",8),r.Sb()}if(2&t){const t=r.dc();r.ic("showIcon",!1)("disabledControl",t.disabled),r.Cb(1),r.ic("ngForOf",t.minutes)}}let p=(()=>{class t{constructor(t,e){this.fb=t,this.injector=e,this.disabled=!1,this.label="Godzina",this.minuteStep=1,this.required=!1,this.onChange=t=>{},this.onTouched=()=>{}}get minutes(){return t.minutes.filter(t=>Number(t)%this.minuteStep==0)}get hours(){return t.hours}focusSelect(){this.select.first.focusInput()}ngOnInit(){this.formGroup=this.fb.group({hour:[""],minutes:[""]}),this.formGroup.valueChanges.subscribe(t=>{""!==t.hour&&""!==t.minutes&&this.onChange(`${t.hour}:${t.minutes}`),this.onTouched()})}ngAfterViewInit(){const t=this.injector.get(i.j,null);t&&(this.control=t.control,setTimeout(()=>{this.required=Object(s.a)(this.control)}))}onTouchedSelect(){this.onTouched()}writeValue(t){if(t){const e=t.trim().slice(0,2),n=t.trim().slice(-2);this.formGroup.setValue({hour:e,minutes:n})}else this.formGroup.setValue({hour:"",minutes:""})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.minutes=[...Array(60).keys()].map(t=>t.toString().padStart(2,"0")),t.hours=[...Array(24).keys()].map(t=>t.toString().padStart(2,"0")),t.\u0275fac=function(e){return new(e||t)(r.Nb(i.c),r.Nb(r.s))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-timepicker"]],viewQuery:function(t,e){if(1&t&&r.xc(u,5),2&t){let t;r.kc(t=r.bc())&&(e.select=t)}},hostVars:2,hostBindings:function(t,e){1&t&&r.ac("focus",function(){return e.focusSelect()}),2&t&&r.Fb("required",e.required)},inputs:{label:"label",minuteStep:"minuteStep"},features:[r.Bb([{provide:i.i,useExisting:Object(r.V)(()=>t),multi:!0}])],decls:8,vars:6,consts:[[3,"formGroup"],[1,"timepicker-label"],[1,"timepicker"],["formControlName","hour","placeholder","--","overlayClass","timepicker-overlay",3,"showIcon","disabledControl","blurInput",4,"ngIf"],[1,"colon"],["formControlName","minutes","placeholder","--","overlayClass","timepicker-overlay",3,"showIcon","disabledControl","blur",4,"ngIf"],["formControlName","hour","placeholder","--","overlayClass","timepicker-overlay",3,"showIcon","disabledControl","blurInput"],["select",""],[4,"ngFor","ngForOf"],[3,"key","value"],["formControlName","minutes","placeholder","--","overlayClass","timepicker-overlay",3,"showIcon","disabledControl","blur"]],template:function(t,e){1&t&&(r.Tb(0,"form",0),r.Tb(1,"label",1),r.uc(2),r.Sb(),r.Tb(3,"div",2),r.sc(4,h,3,3,"app-custom-select",3),r.Tb(5,"div",4),r.uc(6,":"),r.Sb(),r.sc(7,f,2,3,"app-custom-select",5),r.Sb(),r.Sb()),2&t&&(r.ic("formGroup",e.formGroup),r.Cb(2),r.vc(e.label),r.Cb(2),r.ic("ngIf",e.hours.length),r.Cb(1),r.Fb("disabled",e.disabled),r.Cb(2),r.ic("ngIf",e.minutes.length))},directives:[i.q,i.l,i.g,o.k,a.a,i.k,i.f,o.j,c.a],styles:['[_nghost-%COMP%]{--timepicker-height:30px;display:block;margin-bottom:var(--input-bottom-space);outline:none;font-family:Roboto;max-width:300px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;color:var(--content-very-dark);position:relative;top:2px}[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid var(--divider-color)}[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]   app-custom-select[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]   app-custom-select[_ngcontent-%COMP%]     .select-view input{border-bottom:none;padding:0;text-align:center;width:100%;height:var(--timepicker-height);margin-bottom:0}[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]   app-custom-select[_ngcontent-%COMP%]     .select-view input:focus{background:var(--content-light)}[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]   app-custom-select[_ngcontent-%COMP%]     .select-view input:disabled{background:transparent}[_nghost-%COMP%]   .colon.disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.38);height:var(--timepicker-height);display:flex;align-items:center;cursor:default}.required[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;color:var(--content-very-dark);margin-bottom:3px}.required[_nghost-%COMP%]   label[_ngcontent-%COMP%]:after{color:var(--danger);content:"*";margin-left:5px}.ng-invalid[_nghost-%COMP%]   .ng-touched[_ngcontent-%COMP%]  input::placeholder{color:var(--danger)}.ng-invalid.ng-touched[_nghost-%COMP%]   .timepicker[_ngcontent-%COMP%]{border-bottom:1px solid var(--danger)}.ng-invalid.ng-touched[_nghost-%COMP%]   .timepicker-label[_ngcontent-%COMP%]{color:var(--danger)}']}),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DYkS:function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n("ofXK"),i=n("fXoL"),s=n("XNiG"),o=n("quSY"),a=(n("LRne"),n("FtGj")),c=n("vkgz"),u=n("7o/Q"),l=n("D0XW");class h{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new d(t,this.dueTime,this.scheduler))}}class d extends u.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function f(t){t.debouncedNext()}var p=n("pLZG"),g=n("lJxs");n("IzEk"),n("8LU1"),n("nLfN"),n("HDdC");class m extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new s.a,this._typeaheadSubscription=o.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new s.a,this.change=new s.a,t instanceof i.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(c.a)(t=>this._pressedLetters.push(t)),function(t,e=l.a){return n=>n.lift(new h(t,e))}(t),Object(p.a)(()=>this._pressedLetters.length>0),Object(g.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case a.i:return void this.tabOut.next();case a.b:if(this._vertical&&n){this.setNextItemActive();break}return;case a.j:if(this._vertical&&n){this.setPreviousItemActive();break}return;case a.h:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case a.f:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case a.e:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case a.c:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Object(a.m)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=a.a&&e<=a.k||e>=a.l&&e<=a.g)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;var y=n("3Pt+"),v=n("MnCw"),b=n("+ezf"),_=n("tUC8"),w=n("Hb2C");const O=["input"],C=["dropdownRef"];function S(t,e){if(1&t&&(i.Tb(0,"label"),i.uc(1),i.Sb()),2&t){const t=i.dc();i.Cb(1),i.vc(t.label)}}function E(t,e){if(1&t){const t=i.Ub();i.Tb(0,"i",9),i.ac("click",function(e){return i.oc(t),i.dc().onDropMenuIconClick(e)}),i.uc(1," expand_more "),i.Sb()}}const T=["*"];let x=(()=>{class t{constructor(t,e,n){this.customDropdownService=t,this.injector=e,this.renderer=n,this.disabledControl=!1,this.showIcon=!0,this.required=!1,this.blurInput=new i.n,this.onChangeFn=t=>{},this.onTouchedFn=()=>{},this.customDropdownService.register(this)}get isDisabled(){return this.disabledControl}clickout(t){this.input.nativeElement.contains(t.target)?this.renderer.addClass(this.input.nativeElement,"highlighted-selection"):this.renderer.removeClass(this.input.nativeElement,"highlighted-selection")}registerOnChange(t){this.onChangeFn=t}registerOnTouched(t){this.onTouchedFn=t}setDisabledState(t){this.disabledControl=t}writeValue(t){this.selected=t,this.displaySelectOptionText()}onTouched(){this.onTouchedFn()}onChange(){this.onChangeFn(this.selected)}displaySelectOptionText(){this.options&&(this.selectedOption=this.options.toArray().find(t=>t.key.toString()===this.selected.toString())),this.displayText=this.selectedOption?this.selectedOption.value:""}ngAfterViewInit(){setTimeout(()=>{this.displaySelectOptionText(),this.keyManager=new m(this.options).withHorizontalOrientation("ltr").withVerticalOrientation().withWrap()});const t=this.injector.get(y.j,null);t&&(this.control=t.control,setTimeout(()=>{this.required=Object(v.a)(this.control)}))}focusInput(){this.input.nativeElement.focus()}onHideDropdown(){this.blurInput.next(),this.onTouched()}showDropdown(){this.dropdown.show(),this.renderer.addClass(this.input.nativeElement,"highlighted-selection"),this.options.length&&(this.selected?(this.keyManager.setActiveItem(this.selectedOption),this.updateScrollTop()):this.keyManager.setFirstItemActive())}onDropMenuIconClick(t){t.stopPropagation(),this.input.nativeElement.focus(),this.input.nativeElement.click()}selectOption(t){this.keyManager.setActiveItem(t),this.selected=t.key,this.selectedOption=t,this.displayText=this.selectedOption?this.selectedOption.value:"",this.onChange(),this.hideDropdown(),this.input.nativeElement.focus()}hideDropdown(){this.renderer.removeClass(this.input.nativeElement,"highlighted-selection"),this.dropdown.hide()}getOptionComponentHeight(){return this.options.toArray()[0].optionComponentHeight}calculateNewScrollTop(t,e,n,r){const i=r*n,s=i+n;return i>=e&&s<=e+t?e:i>=e?i:s-t}updateScrollTop(){const t=this.dropdown.instance,e=this.keyManager.activeItemIndex,n=this.getOptionComponentHeight();t.scrollTop=this.calculateNewScrollTop(t.offsetHeight,t.scrollTop,n,e)}onKeyDown(t){switch(t.key){case"Enter":case" ":if(!this.dropdown.showing){this.showDropdown();break}this.selectedOption=this.keyManager.activeItem,this.selected=this.keyManager.activeItem.key,this.displayText=this.selectedOption?this.selectedOption.value:"",this.hideDropdown(),this.onChange();break;case"Escape":this.dropdown.showing&&(this.hideDropdown(),t.stopPropagation());break;case"Tab":this.dropdown.showing&&this.hideDropdown();break;case"ArrowUp":this.keyManager.setPreviousItemActive(),this.updateScrollTop();break;case"ArrowDown":if(!this.dropdown.showing){this.showDropdown();break}this.keyManager.setNextItemActive(),this.updateScrollTop()}}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(b.a),i.Nb(i.s),i.Nb(i.F))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-custom-select"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,_.a,4),2&t){let t;i.kc(t=i.bc())&&(e.options=t)}},viewQuery:function(t,e){if(1&t&&(i.xc(O,5),i.xc(w.a,5),i.xc(C,5)),2&t){let t;i.kc(t=i.bc())&&(e.input=t.first),i.kc(t=i.bc())&&(e.dropdown=t.first),i.kc(t=i.bc())&&(e.dropdownRef=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&i.ac("click",function(t){return e.clickout(t)},!1,i.mc),2&t&&i.Fb("disabled",e.isDisabled)("required",e.required)},inputs:{label:"label",placeholder:"placeholder",selected:"selected",overlayClass:"overlayClass",disabledControl:"disabledControl",showIcon:"showIcon"},outputs:{blurInput:"blurInput"},features:[i.Bb([{provide:y.i,useExisting:Object(i.V)(()=>t),multi:!0},b.a])],ngContentSelectors:T,decls:11,vars:7,consts:[[4,"ngIf"],[1,"select-view"],["readonly","","autocomplete","off","tabindex","1",3,"disabled","value","placeholder","click","keydown"],["input",""],["class","material-icons",3,"click",4,"ngIf"],[3,"reference","hideDropdown"],["dropdownRef",""],[1,"triangle"],[1,"wrapper-overlay",3,"ngClass"],[1,"material-icons",3,"click"]],template:function(t,e){if(1&t&&(i.hc(),i.Tb(0,"div"),i.sc(1,S,2,1,"label",0),i.Tb(2,"div",1),i.Tb(3,"input",2,3),i.ac("click",function(){return e.showDropdown()})("keydown",function(t){return e.onKeyDown(t)}),i.Sb(),i.sc(5,E,2,0,"i",4),i.Sb(),i.Tb(6,"app-dropdown",5,6),i.ac("hideDropdown",function(){return e.onHideDropdown()}),i.Ob(8,"div",7),i.Tb(9,"div",8),i.gc(10),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.lc(4);i.Cb(1),i.ic("ngIf",e.label),i.Cb(2),i.jc("placeholder",e.placeholder),i.ic("disabled",e.disabledControl)("value",e.displayText),i.Cb(2),i.ic("ngIf",e.showIcon),i.Cb(1),i.ic("reference",t),i.Cb(3),i.ic("ngClass",e.overlayClass?e.overlayClass:"")}},directives:[r.k,w.a,r.i],styles:['[_nghost-%COMP%]{display:block;margin-bottom:var(--input-bottom-space);width:100%}.required[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;color:var(--content-very-dark);margin-bottom:3px}.required[_nghost-%COMP%]   label[_ngcontent-%COMP%]:after{color:var(--danger);content:"*";margin-left:5px}.disabled[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:rgba(0,0,0,.38);cursor:default}.disabled[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--content-light);opacity:.4}.ng-touched.ng-invalid[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--danger)}.ng-touched.ng-invalid[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .ng-touched.ng-invalid[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--danger)}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]{display:flex;position:relative;cursor:pointer}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;width:100%;padding-left:15px;padding-bottom:13px;padding-top:13px;border-bottom:1px solid var(--divider-color);font-size:15px;cursor:pointer}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input.highlighted-selection[_ngcontent-%COMP%]{box-shadow:var(--box-shadow)}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{box-shadow:none}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;color:var(--content-very-dark);top:20%;background:var(--content-very-light)}[_nghost-%COMP%]   .select-view[_ngcontent-%COMP%]   input.highlighted-selection[_ngcontent-%COMP%] + mat-icon[_ngcontent-%COMP%]{background:var(--content-light)}[_nghost-%COMP%]   app-dropdown[_ngcontent-%COMP%]{width:100%;position:relative}']}),t})()},EHvl:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("fXoL"),s=n("kzYg");let o=(()=>{class t{constructor(t,e){this.menuService=t,this.elementRef=e,this.widthStrategy="fixed",this.size="small",this.animationsEnabled=!0,this.scrollStrategy="close"}onClick(t){return Object(r.b)(this,void 0,void 0,function*(){if(t.stopPropagation(),this.menuComponent)return void this.menuComponent.hide();this.menuOptions||(this.menuOptions={size:this.size,widthStrategy:this.widthStrategy,animationsEnabled:this.animationsEnabled,scrollStrategy:this.scrollStrategy,overlayConfig:{width:this.width,height:this.height}});const e=Object.assign({connectTo:this.elementRef.nativeElement},this.menuOptions);this.menuComponent=this.menuService.open(this.templateRef,e),yield this.menuComponent.closingPromise,this.menuComponent=null})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(s.a),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","appMenu",""]],hostBindings:function(t,e){1&t&&i.ac("click",function(t){return e.onClick(t)})},inputs:{templateRef:["appMenu","templateRef"],menuOptions:"menuOptions",widthStrategy:"widthStrategy",size:"size",width:"width",height:"height",animationsEnabled:"animationsEnabled",scrollStrategy:"scrollStrategy"}}),t})()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},FtGj:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return d}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return r}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return g});const r=9,i=27,s=35,o=36,a=37,c=38,u=39,l=40,h=48,d=57,f=65,p=90;function g(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},G7vn:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("fXoL"),i=n("ofXK");function s(t,e){if(1&t){const t=r.Ub();r.Tb(0,"span",2),r.ac("click",function(e){return r.oc(t),r.dc().toggle(e)}),r.Tb(1,"i",3),r.uc(2),r.Sb(),r.Sb()}if(2&t){const t=r.dc();r.Eb("toggle ",t.position,""),r.Cb(2),r.wc(" ",t.isCollapsed?"expand_more":"expand_less"," ")}}let o=(()=>{class t{constructor(){this.maxLength=120,this.position="center",this.isCollapsed=!0,this.punctuations=new Set([" ","\n",".",",",":",";","!","?","-"])}get needsToBeCut(){return this.text.length>this.maxLength}get transformedText(){if(!this.isCollapsed||!this.needsToBeCut)return this.text;let t=!1,e=this.maxLength;for(;!t&&e>0;){if(this.punctuations.has(this.text[e])){t=!0;break}e--}for(;t&&e>0;){if(!this.punctuations.has(this.text[e])){t=!1;break}e--}return this.text.substring(0,e+1)+"\u2026"}toggle(t){this.isCollapsed=!this.isCollapsed,t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-collapsable-text"]],inputs:{text:"text",maxLength:"maxLength",position:"position"},decls:3,vars:2,consts:[[1,"transformed-text"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"material-icons"]],template:function(t,e){1&t&&(r.Tb(0,"p",0),r.uc(1),r.Sb(),r.sc(2,s,3,4,"span",1)),2&t&&(r.Cb(1),r.vc(e.transformedText),r.Cb(1),r.ic("ngIf",e.needsToBeCut))},directives:[i.k],styles:["[_nghost-%COMP%]   .transformed-text[_ngcontent-%COMP%]{line-height:25px}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{width:100%;display:flex}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:35px;width:17px;height:17px;color:#bcbcbc;cursor:pointer}[_nghost-%COMP%]   .toggle.left[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .toggle.right[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   .toggle.center[_ngcontent-%COMP%]{justify-content:center}"]}),t})()},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("bHdf");function s(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},Hb2C:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("rDax"),i=n("+rOU"),s=n("fXoL");function o(t,e){1&t&&s.gc(0)}const a=["*"];let c=(()=>{class t{constructor(t){this.overlay=t,this.showing=!1,this.hideDropdown=new s.n}show(){this.overlayRef=this.overlay.create(this.getOverlayConfig());const t=this.overlayRef.attach(this.contentTemplate);this.syncWidth(),this.overlayRef.backdropClick().subscribe(()=>this.hide()),this.showing=!0,this.instance=t.rootNodes[1]}hide(){this.overlayRef.detach(),this.showing=!1,this.hideDropdown.next()}onWinResize(){this.syncWidth()}getOverlayConfig(){const t=this.overlay.position().flexibleConnectedTo(this.reference).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]),e=this.overlay.scrollStrategies.block();return new r.b({width:"100%",height:"200px",positionStrategy:t,scrollStrategy:e,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"})}syncWidth(){if(!this.overlayRef)return;const t=this.reference.getBoundingClientRect();this.overlayRef.updateSize({width:t.width})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(r.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-dropdown"]],viewQuery:function(t,e){if(1&t&&s.xc(i.a,5),2&t){let t;s.kc(t=s.bc())&&(e.contentTemplate=t.first)}},hostBindings:function(t,e){1&t&&s.ac("resize",function(){return e.onWinResize()},!1,s.nc)},inputs:{reference:"reference"},outputs:{hideDropdown:"hideDropdown"},ngContentSelectors:a,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(t,e){1&t&&(s.hc(),s.sc(0,o,1,0,"ng-template",0))},directives:[i.f],styles:[""]}),t})()},HyEY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("tk/3"),i=n("AytR"),s=n("fXoL");class o{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}let a=(()=>{class t{constructor(t){this.http=t,this.URL_PATH=i.a.dbUrl}buildParams(t={}){t=t||{};let e=new r.d({encoder:new o});for(const[n,r]of Object.entries(t))if(Array.isArray(r))for(const t of r)e=e.append(n,t);else void 0!==r&&(e=e.set(n,r));return e}get(t,e={}){const n=this.buildParams(e);return this.http.get(`${this.URL_PATH}${t}`,{params:n}).toPromise()}post(t,e=null,n={}){const r=this.buildParams(n);return this.http.post(`${this.URL_PATH}${t}`,e,{params:r}).toPromise()}patch(t,e){return this.http.patch(`${this.URL_PATH}${t}`,e).toPromise()}put(t,e){return this.http.put(`${this.URL_PATH}${t}`,e).toPromise()}delete(t){return this.http.delete(`${this.URL_PATH}${t}`).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(r.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t})()},"I/3d":function(t,e,n){"use strict";n.d(e,"a",function(){return up}),n.d(e,"b",function(){return lp});var r=n("fXoL"),i=n("D0XW"),s=n("HDdC"),o=n("Cfvw"),a=n("LRne"),c=n("JX91"),u=n("Zy1z"),l=n("lJxs"),h=n("Kqap"),d=n("/uUt"),f=n("pLZG"),p=n("pxpQ"),g=n("spgP"),m=n("ofXK"),y=n("Jgta"),v=n("zIRd"),b=n("qOnz"),_=n("q/0M"),w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function O(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var C,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},E=E||{},T=S||self;function x(){}function I(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function k(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var P="closure_uid_"+(1e9*Math.random()>>>0),A=0;function j(t,e,n){return t.call.apply(t.bind,arguments)}function D(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function N(t,e,n){return(N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:D).apply(null,arguments)}function R(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function M(){return Date.now()}function L(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function F(){this.j=this.j,this.i=this.i}F.prototype.j=!1,F.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,P)&&t[P]||(t[P]=++A)}(this)},F.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function q(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function H(t){return/^[\s\xa0]*$/.test(t)}var z,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function X(t,e){return-1!=t.indexOf(e)}function $(t,e){return t<e?-1:t>e?1:0}t:{var G=T.navigator;if(G){var W=G.userAgent;if(W){z=W;break t}}z=""}function Q(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Y(t){var e={};for(var n in t)e[n]=t[n];return e}var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<J.length;s++)n=J[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tt(t){return tt[" "](t),t}tt[" "]=x;var et,nt,rt=X(z,"Opera"),it=X(z,"Trident")||X(z,"MSIE"),st=X(z,"Edge"),ot=st||it,at=X(z,"Gecko")&&!(X(z.toLowerCase(),"webkit")&&!X(z,"Edge"))&&!(X(z,"Trident")||X(z,"MSIE"))&&!X(z,"Edge"),ct=X(z.toLowerCase(),"webkit")&&!X(z,"Edge");function ut(){var t=T.document;return t?t.documentMode:void 0}t:{var lt="",ht=(nt=z,at?/rv:([^\);]+)(\)|;)/.exec(nt):st?/Edge\/([\d\.]+)/.exec(nt):it?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(nt):ct?/WebKit\/(\S+)/.exec(nt):rt?/(?:Version)[ \/]?(\S+)/.exec(nt):void 0);if(ht&&(lt=ht?ht[1]:""),it){var dt=ut();if(null!=dt&&dt>parseFloat(lt)){et=String(dt);break t}}et=lt}var ft={};function pt(t){return function(t,e){var n=ft;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=K(String(et)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=$(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||$(0==o[2].length,0==a[2].length)||$(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var gt=T.document&&it&&(ut()||parseInt(et,10))||void 0,mt=!it||9<=Number(gt),yt=it&&!pt("9"),vt=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{T.addEventListener("test",x,e),T.removeEventListener("test",x,e)}catch(n){}return t}();function bt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _t(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(at){t:{try{tt(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bt.prototype.b=function(){this.defaultPrevented=!0},L(_t,bt);var wt={2:"touch",3:"pen",4:"mouse"};_t.prototype.b=function(){_t.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function St(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ct,this.Y=this.Z=!1}function Et(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Tt(t){this.src=t,this.a={},this.b=0}function xt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=V(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Et(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function It(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Tt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=It(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new St(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var kt="closure_lm_"+(1e6*Math.random()|0),Pt={};function At(t,e,n,r,i){if(r&&r.once)return Dt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)At(t,e[s],n,r,i);return null}return n=qt(n),t&&t[Ot]?t.va(e,n,k(r)?!!r.capture:!!r,i):jt(t,e,n,!1,r,i)}function jt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=k(i)?!!i.capture:!!i;if(o&&!mt)return null;var a=Vt(t);if(a||(t[kt]=a=new Tt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ft,e=mt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Dt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Dt(t,e[s],n,r,i);return null}return n=qt(n),t&&t[Ot]?t.wa(e,n,k(r)?!!r.capture:!!r,i):jt(t,e,n,!0,r,i)}function Nt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Nt(t,e[s],n,r,i);else r=k(r)?!!r.capture:!!r,n=qt(n),t&&t[Ot]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=It(s=t.a[e],n,r,i))&&(Et(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Vt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=It(e,n,r,i)),(n=-1<t?e[t]:null)&&Rt(n))}function Rt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ot])xt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vt(e))?(xt(n,t),0==n.b&&(n.src=null,e[kt]=null)):Et(t)}}}function Mt(t){return t in Pt?Pt[t]:Pt[t]="on"+t}function Lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Rt(t),n.call(r,e)}function Ft(t,e){if(t.Y)return!0;if(!mt){if(!e)t:{e=["window","event"];for(var n=T,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lt(t,e=new _t(e,this))}return Lt(t,new _t(e,this))}function Vt(t){return(t=t[kt])instanceof Tt?t:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(t){return"function"==typeof t?t:(t[Ut]||(t[Ut]=function(e){return t.handleEvent(e)}),t[Ut])}function Bt(){F.call(this),this.c=new Tt(this),this.J=this,this.C=null}function Ht(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var i=e;Z(e=new bt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=zt(o,r,!0,e)&&i}if(i=zt(o=e.a=t,r,!0,e)&&i,i=zt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=zt(o=e.a=n[s],r,!1,e)&&i}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&xt(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}L(Bt,F),Bt.prototype[Ot]=!0,(C=Bt.prototype).addEventListener=function(t,e,n,r){At(this,t,e,n,r)},C.removeEventListener=function(t,e,n,r){Nt(this,t,e,n,r)},C.G=function(){if(Bt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Et(n[r]);delete e.a[t],e.b--}}this.C=null},C.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},C.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Kt=T.JSON.stringify;function Xt(){this.b=this.a=null}var $t,Gt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Qt},function(t){t.reset()});function Wt(){var t=te,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qt(){this.next=this.b=this.a=null}function Yt(t){T.setTimeout(function(){throw t},0)}function Jt(t,e){$t||function(){var t=T.Promise.resolve(void 0);$t=function(){t.then(ee)}}(),Zt||($t(),Zt=!0),te.add(t,e)}Xt.prototype.add=function(t,e){var n=Gt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qt.prototype.reset=function(){this.next=this.b=this.a=null};var Zt=!1,te=new Xt;function ee(){for(var t;t=Wt();){try{t.a.call(t.b)}catch(n){Yt(n)}var e=Gt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Zt=!1}function ne(t,e){Bt.call(this),this.b=t||1,this.a=e||T,this.f=N(this.Za,this),this.g=M()}function re(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ie(t,e,n){if("function"==typeof t)n&&(t=N(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=N(t.handleEvent,t)}return 2147483647<Number(e)?-1:T.setTimeout(t,e||0)}function se(t){t.a=ie(function(){t.a=null,t.c&&(t.c=!1,se(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}L(ne,Bt),(C=ne.prototype).aa=!1,C.M=null,C.Za=function(){if(this.aa){var t=M()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ht(this,"tick"),this.aa&&(re(this),this.start()))}},C.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=M())},C.G=function(){ne.X.G.call(this),re(this),delete this.a};var oe=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:se(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(T.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(F);function ae(t){F.call(this),this.b=t,this.a={}}L(ae,F);var ce=[];function ue(t,e,n,r){Array.isArray(n)||(n&&(ce[0]=n.toString()),n=ce);for(var i=0;i<n.length;i++){var s=At(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function le(t){Q(t.a,function(t,e){this.a.hasOwnProperty(e)&&Rt(t)},t),t.a={}}function he(){this.a=!0}function de(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Kt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ae.prototype.G=function(){ae.X.G.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},he.prototype.info=function(){};var fe={},pe=null;function ge(){return pe=pe||new Bt}function me(t){bt.call(this,fe.Fa,t)}function ye(t){var e=ge();Ht(e,new me(e,t))}function ve(t,e){bt.call(this,fe.STAT_EVENT,t),this.stat=e}function be(t){var e=ge();Ht(e,new ve(e,t))}function _e(t){bt.call(this,fe.Ga,t)}function we(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){t()},e)}fe.Fa="serverreachability",L(me,bt),fe.STAT_EVENT="statevent",L(ve,bt),fe.Ga="timingevent",L(_e,bt);var Oe={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ce={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Se(){}function Ee(){}Se.prototype.a=null;var Te,xe={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ie(){bt.call(this,"d")}function ke(){bt.call(this,"c")}function Pe(){}function Ae(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ae(this),this.P=je,this.R=new ne(t=ot?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}L(Ie,bt),L(ke,bt),L(Pe,Se),Te=new Pe;var je=45e3,De={},Ne={};function Re(t,e,n){t.H=1,t.i=rn(Ye(e)),t.j=n,t.I=!0,Me(t,null)}function Me(t,e){t.u=M(),Ve(t),t.l=Ye(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),yn(n.b,"t",r),t.D=0,t.a=hr(t.g,t.g.C?e:null),0<t.O&&(t.F=new oe(N(t.Ca,t,t.a),t.O)),ue(t.J,t.a,"readystatechange",t.Xa),e=t.B?Y(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ye(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Le(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Fe(t,n);if(i==Ne){4==e&&(t.h=4,be(14),r=!1),de(t.c,t.f,null,"[Incomplete Response]");break}if(i==De){t.h=4,be(15),de(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}de(t.c,t.f,i,null),ze(t,i)}4==e&&0==n.length&&(t.h=1,be(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rr(e),e.F=!0,be(11))):(de(t.c,t.f,n,"[Invalid Chunked Response]"),He(t),Be(t))}function Fe(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ne:(n=Number(e.substring(n,r)),isNaN(n)?De:(r+=1)+n>e.length?Ne:(e=e.substr(r,n),t.D=r+n,e))}function Ve(t){t.T=M()+t.P,Ue(t,t.P)}function Ue(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=we(N(t.Va,t),e)}function qe(t){t.o&&(T.clearTimeout(t.o),t.o=null)}function Be(t){0==t.g.v||t.A||or(t.g,t)}function He(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,re(t.R),le(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ze(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Sn(n.b,t)))if(n.I=t.N,!t.C&&Sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Gd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sr(n),Gn(n)}nr(n),be(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=we(N(n.Sa,n),6e3));if(1>=Cn(n.b)&&n.ea){try{n.ea()}catch(Gd){}n.ea=void 0}}else cr(n,11)}else if((t.C||n.a==t)&&sr(n),!H(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(X(l,"spdy")||X(l,"quic")||X(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(En(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,nn(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=M()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=lr(c,c.C?c.ga:null,c.fa),f.C){Tn(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(qe(p),Ve(p)),c.a=f}else er(c);0<n.g.length&&Yn(n)}else"stop"!=i[0]&&"close"!=i[0]||cr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cr(n,7):$n(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ye(4)}catch(Gd){}}function Ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(I(t)||"string"==typeof t)U(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(I(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(I(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Xe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $e(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ge(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ge(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(C=Ae.prototype).setTimeout=function(t){this.P=t},C.Xa=function(t){t=t.target;var e=this.F;e&&3==Hn(t)?e.f():this.Ca(t)},C.Ca=function(t){try{if(t==this.a)t:{var e=Hn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ot&&!this.a.$())){this.A||4!=e||7==n||ye(8==n||0>=r?3:2),qe(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,be(12),He(this),Be(this);break t}de(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ze(this,c)}this.I?(Le(this,e,s),ot&&this.b&&3==e&&(ue(this.J,this.R,"tick",this.Wa),this.R.start())):(de(this.c,this.f,s,null),ze(this,s)),4==e&&He(this),this.b&&!this.A&&(4==e?or(this.g,this):(this.b=!1,Ve(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,be(12)):(this.h=0,be(13)),He(this),Be(this)}}}catch(u){}},C.Wa=function(){if(this.a){var t=Hn(this.a),e=this.a.$();this.D<e.length&&(qe(this),Le(this,t,e),this.b&&4!=t&&Ve(this))}},C.cancel=function(){this.A=!0,He(this)},C.Va=function(){this.o=null;var t=M();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ye(3),be(17)),He(this),this.h=2,Be(this)):Ue(this,this.T-t)},(C=Xe.prototype).K=function(){$e(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},C.L=function(){return $e(this),this.a.concat()},C.get=function(t,e){return Ge(this.b,t)?this.b[t]:e},C.set=function(t,e){Ge(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},C.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qe){this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,Ze(this,t.c),tn(this,t.h),this.g=t.g,e=t.b;var n=new fn;n.c=e.c,e.a&&(n.a=new Xe(e.a),n.b=e.b),en(this,n),this.i=t.i}else t&&(n=String(t).match(We))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=sn(n[2]||""),Ze(this,n[3]||"",!0),tn(this,n[4]),this.g=sn(n[5]||"",!0),en(this,n[6]||"",!0),this.i=sn(n[7]||"")):(this.a=!!e,this.b=new fn(null,this.a))}function Ye(t){return new Qe(t)}function Je(t,e,n){t.f=n?sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ze(t,e,n){t.c=n?sn(e,!0):e}function tn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function en(t,e,n){e instanceof fn?(t.b=e,function(t,e){e&&!t.f&&(pn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),yn(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=on(e,hn)),t.b=new fn(e,t.a))}function nn(t,e,n){t.b.set(e,n)}function rn(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^M()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,an),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function an(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,cn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(on(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?ln:un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,dn)),t.join("")};var cn=/[#\/\?@]/g,un=/[#\?:]/g,ln=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pn(t){t.a||(t.a=new Xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gn(t,e){pn(t),e=vn(t,e),Ge(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ge((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$e(t)))}function mn(t,e){return pn(t),e=vn(t,e),Ge(t.a.b,e)}function yn(t,e,n){gn(t,e),0<n.length&&(t.c=null,t.a.set(vn(t,e),B(n)),t.b+=n.length)}function vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(C=fn.prototype).add=function(t,e){pn(this),this.c=null,t=vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},C.forEach=function(t,e){pn(this),this.a.forEach(function(n,r){U(n,function(n){t.call(e,n,r,this)},this)},this)},C.L=function(){pn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},C.K=function(t){pn(this);var e=[];if("string"==typeof t)mn(this,t)&&(e=q(e,this.a.get(vn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},C.set=function(t,e){return pn(this),this.c=null,mn(this,t=vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},C.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},C.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var bn=function(){return function(t,e){this.b=t,this.a=e}}();function _n(t){this.g=t||wn,t=T.PerformanceNavigationTiming?0<(t=T.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(T.ia&&T.ia.ya&&T.ia.ya()&&T.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wn=10;function On(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Cn(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function En(t,e){t.a?t.a.add(e):t.b=e}function Tn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function xn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=O(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return B(t.c)}function In(){}function kn(){this.a=new In}function Pn(t,e,n){var r=n||"";try{Ke(t,function(t,n){var i=t;k(t)&&(i=Kt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Pf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pf}}function An(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}_n.prototype.cancel=function(){var t,e;if(this.c=xn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=O(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},In.prototype.stringify=function(t){return T.JSON.stringify(t,void 0)},In.prototype.parse=function(t){return T.JSON.parse(t,void 0)};var jn=T.JSON.parse;function Dn(t){Bt.call(this),this.headers=new Xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Nn,this.D=this.F=!1}L(Dn,Bt);var Nn="",Rn=/^https?$/i,Mn=["POST","PUT"];function Ln(t){return"content-type"==t.toLowerCase()}function Fn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Vn(t),qn(t)}function Vn(t){t.u||(t.u=!0,Ht(t,"complete"),Ht(t,"error"))}function Un(t){if(t.b&&void 0!==E&&(!t.s[1]||4!=Hn(t)||2!=t.W()))if(t.l&&4==Hn(t))ie(t.za,0,t);else if(Ht(t,"readystatechange"),4==Hn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(We)[1]||null;if(!s&&T.self&&T.self.location){var o=T.self.location.protocol;s=o.substr(0,o.length-1)}i=!Rn.test(s?s.toLowerCase():"")}e=i}if(e)Ht(t,"complete"),Ht(t,"success");else{t.h=6;try{var a=2<Hn(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Vn(t)}}finally{qn(t)}}}function qn(t,e){if(t.a){Bn(t);var n=t.a,r=t.s[0]?x:null;t.a=null,t.s=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch(Pf){}}}function Bn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(T.clearTimeout(t.m),t.m=null)}function Hn(t){return t.a?t.a.readyState:0}function zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Q(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nn(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xn(t){this.pa=0,this.g=[],this.c=new he,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Kn("baseRetryDelayMs",5e3,t),this.Ra=Kn("retryDelaySeedMs",1e4,t),this.Ma=Kn("forwardChannelMaxRetries",2,t),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _n(t&&t.concurrentRequestLimit),this.ka=new kn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $n(t){if(Wn(t),3==t.v){var e=t.R++,n=Ye(t.B);nn(n,"SID",t.J),nn(n,"RID",e),nn(n,"TYPE","terminate"),Zn(t,n),(e=new Ae(t,t.c,e,void 0)).H=2,e.i=rn(Ye(n)),n=!1,T.navigator&&T.navigator.sendBeacon&&(n=T.navigator.sendBeacon(e.i.toString(),"")),!n&&T.Image&&((new Image).src=e.i,n=!0),n||(e.a=hr(e.g,null),e.a.ba(e.i)),e.u=M(),Ve(e)}ur(t)}function Gn(t){t.a&&(rr(t),t.a.cancel(),t.a=null)}function Wn(t){Gn(t),t.j&&(T.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&T.clearTimeout(t.h),t.h=null)}function Qn(t,e){t.g.push(new bn(t.Oa++,e)),3==t.v&&Yn(t)}function Yn(t){On(t.b)||t.h||(t.h=!0,Jt(t.Ba,t),t.u=0)}function Jn(t,e){var n;n=e?e.f:t.R++;var r=Ye(t.B);nn(r,"SID",t.J),nn(r,"RID",n),nn(r,"AID",t.P),Zn(t,r),t.i&&t.l&&zn(r,t.i,t.l),n=new Ae(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=tr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),En(t.b,n),Re(n,r,e)}function Zn(t,e){t.f&&Ke({},function(t,n){nn(e,n,t)})}function tr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?N(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Pn(l,o,"req"+u+"_")}catch(Hr){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function er(t){t.a||t.j||(t.T=1,Jt(t.Aa,t),t.o=0)}function nr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=we(N(t.Aa,t),ar(t,t.o)),t.o++,0))}function rr(t){null!=t.s&&(T.clearTimeout(t.s),t.s=null)}function ir(t){t.a=new Ae(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ye(t.la);nn(e,"RID","rpc"),nn(e,"SID",t.J),nn(e,"CI",t.H?"0":"1"),nn(e,"AID",t.P),Zn(t,e),nn(e,"TYPE","xmlhttp"),t.i&&t.l&&zn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=rn(Ye(e)),n.j=null,n.I=!0,Me(n,t)}function sr(t){null!=t.m&&(T.clearTimeout(t.m),t.m=null)}function or(t,e){var n=null;if(t.a==e){sr(t),rr(t),t.a=null;var r=2}else{if(!Sn(t.b,e))return;n=e.s,Tn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=M()-e.u;var i=t.u;Ht(r=ge(),new _e(r,n,e,i)),Yn(t)}else er(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=we(N(t.Ba,t,e),ar(t,t.u)),t.u++,0)))}(t,e)||2==r&&nr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:cr(t,5);break;case 4:cr(t,10);break;case 3:cr(t,6);break;default:cr(t,2)}}function ar(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function cr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=N(t.Ya,t);n||(n=new Qe("//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Je(n,"https"),rn(n)),function(t,e){var n=new he;if(T.Image){var r=new Image;r.onload=R(An,n,r,"TestLoadImage: loaded",!0,e),r.onerror=R(An,n,r,"TestLoadImage: error",!1,e),r.onabort=R(An,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=R(An,n,r,"TestLoadImage: timeout",!1,e),T.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else be(2);t.v=0,t.f&&t.f.ra(e),ur(t),Wn(t)}function ur(t){t.v=0,t.I=-1,t.f&&(0==xn(t.b).length&&0==t.g.length||(t.b.c.length=0,B(t.g),t.g.length=0),t.f.qa())}function lr(t,e,n){var r=function(t){return t instanceof Qe?Ye(t):new Qe(t,void 0)}(n);if(""!=r.c)e&&Ze(r,e+"."+r.c),tn(r,r.h);else{var i=T.location;r=function(t,e,n,r){var i=new Qe(null,void 0);return t&&Je(i,t),e&&Ze(i,e),n&&tn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Q(t.V,function(t,e){nn(r,e,t)}),n=t.na,(e=t.A)&&n&&nn(r,e,n),nn(r,"VER",t.ha),Zn(t,r),r}function hr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dn(t.Na)).F=t.C,e}function dr(){}function fr(){if(it&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function pr(t,e){Bt.call(this),this.a=new Xn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!H(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!H(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new yr(this)}function gr(t){Ie.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function mr(){ke.call(this),this.status=1}function yr(t){this.a=t}(C=Dn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Te),this.a.onreadystatechange=N(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Fn(this,s)}t=n||"";var i=new Xe(this.headers);r&&Ke(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ln,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=T.FormData&&t instanceof T.FormData,!(0<=V(Mn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.D=function(t){return it&&pt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=N(this.xa,this)):this.m=ie(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Fn(this,s)}},C.xa=function(){void 0!==E&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ht(this,"timeout"),this.abort(8))},C.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ht(this,"complete"),Ht(this,"abort"),qn(this))},C.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),Dn.X.G.call(this)},C.za=function(){this.j||(this.A||this.l||this.g?Un(this):this.Ua())},C.Ua=function(){Un(this)},C.W=function(){try{return 2<Hn(this)?this.a.status:-1}catch(nt){return-1}},C.$=function(){try{return this.a?this.a.responseText:""}catch(nt){return""}},C.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jn(e)}},C.ua=function(){return this.h},C.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(C=Xn.prototype).ha=8,C.v=1,C.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ae(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Z(r=Y(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=tr(this,n,e),nn(i=Ye(this.B),"RID",t),nn(i,"CVER",22),this.A&&nn(i,"X-HTTP-Session-Id",this.A),Zn(this,i),this.i&&r&&zn(i,this.i,r),En(this.b,n),this.Ia&&nn(i,"TYPE","init"),this.da?(nn(i,"$req",e),nn(i,"SID","null"),n.U=!0,Re(n,i,null)):Re(n,i,e),this.v=2}}else 3==this.v&&(t?Jn(this,t):0==this.g.length||On(this.b)||Jn(this))},C.Aa=function(){if(this.j=null,ir(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=we(N(this.Ta,this),t)}},C.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,be(10),Gn(this),ir(this))},C.Sa=function(){null!=this.m&&(this.m=null,Gn(this),nr(this),be(19))},C.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),be(2)):(this.c.info("Failed to ping google.com"),be(1))},(C=dr.prototype).ta=function(){},C.sa=function(){},C.ra=function(){},C.qa=function(){},C.Ja=function(){},fr.prototype.a=function(t,e){return new pr(t,e)},L(pr,Bt),pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;be(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=lr(t,null,t.fa),Yn(t)},pr.prototype.close=function(){$n(this.a)},pr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Qn(this.a,e)}else this.l?((e={}).__data__=Kt(t),Qn(this.a,e)):Qn(this.a,t)},pr.prototype.G=function(){this.a.f=null,delete this.f,$n(this.a),delete this.a,pr.X.G.call(this)},L(gr,Ie),L(mr,ke),L(yr,dr),yr.prototype.ta=function(){Ht(this.a,"a")},yr.prototype.sa=function(t){Ht(this.a,new gr(t))},yr.prototype.ra=function(t){Ht(this.a,new mr(t))},yr.prototype.qa=function(){Ht(this.a,"b")},fr.prototype.createWebChannel=fr.prototype.a,pr.prototype.send=pr.prototype.h,pr.prototype.open=pr.prototype.g,pr.prototype.close=pr.prototype.close,Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Ce.COMPLETE="complete",Ee.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Bt.prototype.listen=Bt.prototype.va,Dn.prototype.listenOnce=Dn.prototype.wa,Dn.prototype.getLastError=Dn.prototype.Qa,Dn.prototype.getLastErrorCode=Dn.prototype.ua,Dn.prototype.getStatus=Dn.prototype.W,Dn.prototype.getResponseJson=Dn.prototype.Pa,Dn.prototype.getResponseText=Dn.prototype.$,Dn.prototype.send=Dn.prototype.ba;var vr=Oe,br=Ce,_r=fe,wr=Ee,Or=Dn,Cr=n("mrSG"),Sr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Sr.o=-1;var Er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Cr.c)(e,t),e}(Error),xr=new _.b("@firebase/firestore");function Ir(){return xr.logLevel}function kr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xr.logLevel<=_.a.DEBUG){var r=e.map(jr);xr.debug.apply(xr,Object(Cr.f)(["Firestore (8.3.2): "+t],r))}}function Pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xr.logLevel<=_.a.ERROR){var r=e.map(jr);xr.error.apply(xr,Object(Cr.f)(["Firestore (8.3.2): "+t],r))}}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xr.logLevel<=_.a.WARN){var r=e.map(jr);xr.warn.apply(xr,Object(Cr.f)(["Firestore (8.3.2): "+t],r))}}function jr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pf){return t}}function Dr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.2) INTERNAL ASSERTION FAILED: "+t;throw Pr(e),new Error(e)}function Nr(t,e){t||Dr()}function Rr(t,e){return t}function Mr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Mr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Fr(t,e){return t<e?-1:t>e?1:0}function Vr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ur(t){return t+"\0"}var qr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Tr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Fr(this.nanoseconds,t.nanoseconds):Fr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Br=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new qr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Hr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dr(),void 0===n?n=t.length-e:n>t.length-e&&Dr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Tr(Er.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Xr),Gr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Tr(Er.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Tr(Er.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Tr(Er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Tr(Er.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Xr),Qr=function(){function t(t){this.fields=t,t.sort(Wr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Vr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Yr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Fr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Yr.EMPTY_BYTE_STRING=new Yr("");var Jr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Nr(!!t),"string"==typeof t){var e=0,n=Jr.exec(t);if(Nr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ti(t.seconds),nanos:ti(t.nanos)}}function ti(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ei(t){return"string"==typeof t?Yr.fromBase64String(t):Yr.fromUint8Array(t)}function ni(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ri(t){var e=t.mapValue.fields.__previous_value__;return ni(e)?ri(e):e}function ii(t){var e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}function si(t){return null==t}function oi(t){return 0===t&&1/t==-1/0}function ai(t){return"number"==typeof t&&Number.isInteger(t)&&!oi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ci=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t($r.fromString(e))},t.fromName=function(e){return new t($r.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$r.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return $r.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new $r(e.slice()))},t}();function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ni(t)?4:10:Dr()}function li(t,e){var n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ii(t).isEqual(ii(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zr(t.timestampValue),r=Zr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ei(t.bytesValue).isEqual(ei(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ti(t.geoPointValue.latitude)===ti(e.geoPointValue.latitude)&&ti(t.geoPointValue.longitude)===ti(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ti(t.integerValue)===ti(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ti(t.doubleValue),r=ti(e.doubleValue);return n===r?oi(n)===oi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Vr(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Hr(n)!==Hr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!li(n[i],r[i])))return!1;return!0}(t,e);default:return Dr()}}function hi(t,e){return void 0!==(t.values||[]).find(function(t){return li(t,e)})}function di(t,e){var n=ui(t),r=ui(e);if(n!==r)return Fr(n,r);switch(n){case 0:return 0;case 1:return Fr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ti(t.integerValue||t.doubleValue),r=ti(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fi(t.timestampValue,e.timestampValue);case 4:return fi(ii(t),ii(e));case 5:return Fr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ei(t),r=ei(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Fr(n[i],r[i]);if(0!==s)return s}return Fr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fr(ti(t.latitude),ti(e.latitude));return 0!==n?n:Fr(ti(t.longitude),ti(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=di(n[i],r[i]);if(s)return s}return Fr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Fr(r[o],s[o]);if(0!==a)return a;var c=di(n[r[o]],i[s[o]]);if(0!==c)return c}return Fr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Dr()}}function fi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fr(t,e);var n=Zr(t),r=Zr(e),i=Fr(n.seconds,r.seconds);return 0!==i?i:Fr(n.nanos,r.nanos)}function pi(t){return gi(t)}function gi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Zr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ei(t.bytesValue).toBase64():"referenceValue"in t?ci.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=gi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+gi(t.fields[s])}return e+"}"}(t.mapValue):Dr();var e}function mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function yi(t){return!!t&&"integerValue"in t}function vi(t){return!!t&&"arrayValue"in t}function bi(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wi(t){return!!t&&"mapValue"in t}var Oi=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Wr.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return li(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ui(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=wi(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Wr.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!wi(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Ci(t){var e=[];return zr(t.fields||{},function(t,n){var r=new Wr([t]);if(wi(n)){var i=Ci(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Qr(e)}var Si=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Br.min(),Oi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Oi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Oi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ei=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Ti(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ei(t,e,n,r,i,s,o)}function xi(t){var e=Rr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),si(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ui(e.startAt)),e.endAt&&(n+="|ub:",n+=Ui(e.endAt)),e.h=n}return e.h}function Ii(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!li(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zi(t.startAt,e.startAt)&&zi(t.endAt,e.endAt)}function ki(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Cr.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ai(t,n,r):"array-contains"===n?new Ri(t,r):"in"===n?new Mi(t,r):"not-in"===n?new Li(t,r):"array-contains-any"===n?new Fi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ji(t,n):new Di(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(di(e,this.value)):null!==e&&ui(this.value)===ui(e)&&this.m(di(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ai=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ci.fromName(r.referenceValue),i}return Object(Cr.c)(e,t),e.prototype.matches=function(t){var e=ci.comparator(t.key,this.key);return this.m(e)},e}(Pi),ji=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ni(0,n),r}return Object(Cr.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Pi),Di=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ni(0,n),r}return Object(Cr.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Pi);function Ni(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ci.fromName(t.referenceValue)})}var Ri=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Cr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return vi(e)&&hi(e.arrayValue,this.value)},e}(Pi),Mi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Cr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&hi(this.value.arrayValue,e)},e}(Pi),Li=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Cr.c)(e,t),e.prototype.matches=function(t){if(hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!hi(this.value.arrayValue,e)},e}(Pi),Fi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Cr.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!vi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return hi(e.value.arrayValue,t)})},e}(Pi),Vi=function(t,e){this.position=t,this.before=e};function Ui(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return pi(t)}).join(",")}var qi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ci.comparator(ci.fromName(o.referenceValue),n.key):di(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}var Ki=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Xi(t,e,n,r,i,s,o,a){return new Ki(t,e,n,r,i,s,o,a)}function $i(t){return new Ki(t)}function Gi(t){return!si(t.limit)&&"F"===t.limitType}function Wi(t){return!si(t.limit)&&"L"===t.limitType}function Qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ji(t){return null!==t.collectionGroup}function Zi(t){var e=Rr(t);if(null===e.p){e.p=[];var n=Yi(e),r=Qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qi(n)),e.p.push(new qi(Wr.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qi(Wr.keyField(),c))}}}return e.p}function ts(t){var e=Rr(t);if(!e.T)if("F"===e.limitType)e.T=Ti(e.path,e.collectionGroup,Zi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zi(e);r<i.length;r++){var s=i[r];n.push(new qi(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Vi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Vi(e.startAt.position,!e.startAt.before):null;e.T=Ti(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function es(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ns(t,e){return Ii(ts(t),ts(e))&&t.limitType===e.limitType}function rs(t){return xi(ts(t))+"|lt:"+t.limitType}function is(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pi(e.value);var e}).join(", ")+"]"),si(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ui(t.startAt)),t.endAt&&(e+=", endAt: "+Ui(t.endAt)),"Target("+e+")"}(ts(t))+"; limitType="+t.limitType+")"}function ss(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ci.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hi(t.startAt,Zi(t),e)||t.endAt&&Hi(t.endAt,Zi(t),e))}(t,e)}function os(t){return function(e,n){for(var r=!1,i=0,s=Zi(t);i<s.length;i++){var o=s[i],a=as(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function as(t,e,n){var r=t.field.isKeyField()?ci.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?di(r,i):Dr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dr()}}function cs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oi(e)?"-0":e}}function us(t){return{integerValue:""+t}}function ls(t,e){return ai(e)?us(e):cs(t,e)}var hs=function(){this._=void 0};function ds(t,e,n){return t instanceof gs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ms?ys(t,e):t instanceof vs?bs(t,e):function(t,e){var n=ps(t,e),r=ws(n)+ws(t.A);return yi(n)&&yi(t.A)?us(r):cs(t.R,r)}(t,e)}function fs(t,e,n){return t instanceof ms?ys(t,e):t instanceof vs?bs(t,e):n}function ps(t,e){return t instanceof _s?yi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e}(hs),ms=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Cr.c)(e,t),e}(hs);function ys(t,e){for(var n=Os(e),r=function(t){n.some(function(e){return li(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var vs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Cr.c)(e,t),e}(hs);function bs(t,e){for(var n=Os(e),r=function(t){n=n.filter(function(e){return!li(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var _s=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Cr.c)(e,t),e}(hs);function ws(t){return ti(t.integerValue||t.doubleValue)}function Os(t){return vi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Cs=function(t,e){this.field=t,this.transform=e},Ss=function(t,e){this.version=t,this.transformResults=e},Es=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ts(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var xs=function(){};function Is(t,e,n){t instanceof Ds?function(t,e,n){var r=t.value.clone(),i=Ms(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(t,e,n){if(Ts(t.precondition,e)){var r=Ms(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Rs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ks(t,e,n){t instanceof Ds?function(t,e,n){if(Ts(t.precondition,e)){var r=t.value.clone(),i=Ls(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(js(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ns?function(t,e,n){if(Ts(t.precondition,e)){var r=Ls(t.fieldTransforms,n,e),i=e.data;i.setAll(Rs(t)),i.setAll(r),e.convertToFoundDocument(js(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ts(t.precondition,e)&&e.convertToNoDocument(Br.min())}(t,e)}function Ps(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=ps(s.transform,o||null);null!=a&&(null==n&&(n=Oi.empty()),n.set(s.field,a))}return n||null}function As(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Vr(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ms&&e instanceof ms||t instanceof vs&&e instanceof vs?Vr(t.elements,e.elements,li):t instanceof _s&&e instanceof _s?li(t.A,e.A):t instanceof gs&&e instanceof gs}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function js(t){return t.isFoundDocument()?t.version:Br.min()}var Ds=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Cr.c)(e,t),e}(xs),Ns=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Cr.c)(e,t),e}(xs);function Rs(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ms(t,e,n){var r=new Map;Nr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fs(o,a,n[i]))}return r}function Ls(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,ds(a,c,e))}return r}var Fs,Vs,Us=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Cr.c)(e,t),e}(xs),qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Cr.c)(e,t),e}(xs),Bs=function(t){this.count=t};function Hs(t){switch(t){case Er.OK:return Dr();case Er.CANCELLED:case Er.UNKNOWN:case Er.DEADLINE_EXCEEDED:case Er.RESOURCE_EXHAUSTED:case Er.INTERNAL:case Er.UNAVAILABLE:case Er.UNAUTHENTICATED:return!1;case Er.INVALID_ARGUMENT:case Er.NOT_FOUND:case Er.ALREADY_EXISTS:case Er.PERMISSION_DENIED:case Er.FAILED_PRECONDITION:case Er.ABORTED:case Er.OUT_OF_RANGE:case Er.UNIMPLEMENTED:case Er.DATA_LOSS:return!0;default:return Dr()}}function zs(t){if(void 0===t)return Pr("GRPC error has no .code"),Er.UNKNOWN;switch(t){case Fs.OK:return Er.OK;case Fs.CANCELLED:return Er.CANCELLED;case Fs.UNKNOWN:return Er.UNKNOWN;case Fs.DEADLINE_EXCEEDED:return Er.DEADLINE_EXCEEDED;case Fs.RESOURCE_EXHAUSTED:return Er.RESOURCE_EXHAUSTED;case Fs.INTERNAL:return Er.INTERNAL;case Fs.UNAVAILABLE:return Er.UNAVAILABLE;case Fs.UNAUTHENTICATED:return Er.UNAUTHENTICATED;case Fs.INVALID_ARGUMENT:return Er.INVALID_ARGUMENT;case Fs.NOT_FOUND:return Er.NOT_FOUND;case Fs.ALREADY_EXISTS:return Er.ALREADY_EXISTS;case Fs.PERMISSION_DENIED:return Er.PERMISSION_DENIED;case Fs.FAILED_PRECONDITION:return Er.FAILED_PRECONDITION;case Fs.ABORTED:return Er.ABORTED;case Fs.OUT_OF_RANGE:return Er.OUT_OF_RANGE;case Fs.UNIMPLEMENTED:return Er.UNIMPLEMENTED;case Fs.DATA_LOSS:return Er.DATA_LOSS;default:return Dr()}}(Vs=Fs||(Fs={}))[Vs.OK=0]="OK",Vs[Vs.CANCELLED=1]="CANCELLED",Vs[Vs.UNKNOWN=2]="UNKNOWN",Vs[Vs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vs[Vs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vs[Vs.NOT_FOUND=5]="NOT_FOUND",Vs[Vs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vs[Vs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vs[Vs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vs[Vs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vs[Vs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vs[Vs.ABORTED=10]="ABORTED",Vs[Vs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vs[Vs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vs[Vs.INTERNAL=13]="INTERNAL",Vs[Vs.UNAVAILABLE=14]="UNAVAILABLE",Vs[Vs.DATA_LOSS=15]="DATA_LOSS";var Ks=function(){function t(t,e){this.comparator=t,this.root=e||$s.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$s.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Xs(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Xs(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Xs(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Xs(this.root,t,this.comparator,!0)},t}(),Xs=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),$s=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Dr();if(this.right.isRed())throw Dr();var t=this.left.check();if(t!==this.right.check())throw Dr();return t+(this.isRed()?0:1)},t}();$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new $s(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Gs=function(){function t(t){this.comparator=t,this.data=new Ks(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ws(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ws(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ws=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Qs=new Ks(ci.comparator);function Ys(){return Qs}var Js=new Ks(ci.comparator);function Zs(){return Js}var to=new Ks(ci.comparator);function eo(){return to}var no=new Gs(ci.comparator);function ro(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=no,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var io=new Gs(Fr);function so(){return io}var oo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ao.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Br.min(),r,so(),Ys(),ro())},t}(),ao=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Yr.EMPTY_BYTE_STRING,n,ro(),ro(),ro())},t}(),co=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},uo=function(t,e){this.targetId=t,this.V=e},lo=function(t,e,n,r){void 0===n&&(n=Yr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ho=function(){function t(){this.S=0,this.D=go(),this.C=Yr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ro(),e=ro(),n=ro();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dr()}}),new ao(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=go()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),fo=function(){function t(t){this.W=t,this.G=new Map,this.H=Ys(),this.J=po(),this.Y=new Gs(Fr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Dr()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ki(i))if(0===n){var s=new ci(i.path);this.tt(e,s,Si.newNoDocument(s,Br.min()))}else Nr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&ki(s.target)){var o=new ci(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Si.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=ro();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new oo(t,n,this.Y,this.H,r);return this.H=Ys(),this.J=po(),this.Y=new Gs(Fr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ho,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Gs(Fr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||kr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ho),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function po(){return new Ks(ci.comparator)}function go(){return new Ks(ci.comparator)}var mo={asc:"ASCENDING",desc:"DESCENDING"},yo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vo=function(t,e){this.databaseId=t,this.I=e};function bo(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _o(t,e){return t.I?e.toBase64():e.toUint8Array()}function wo(t,e){return bo(t,e.toTimestamp())}function Oo(t){return Nr(!!t),Br.fromTimestamp(function(t){var e=Zr(t);return new qr(e.seconds,e.nanos)}(t))}function Co(t,e){return function(t){return new $r(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function So(t){var e=$r.fromString(t);return Nr(Go(e)),e}function Eo(t,e){return Co(t.databaseId,e.path)}function To(t,e){var n=So(e);if(n.get(1)!==t.databaseId.projectId)throw new Tr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Tr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ci(Po(n))}function xo(t,e){return Co(t.databaseId,e)}function Io(t){var e=So(t);return 4===e.length?$r.emptyPath():Po(e)}function ko(t){return new $r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Po(t){return Nr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ao(t,e,n){return{name:Eo(t,e),fields:n.toProto().mapValue.fields}}function jo(t,e,n){var r=To(t,e.name),i=Oo(e.updateTime),s=new Oi({mapValue:{fields:e.fields}}),o=Si.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Do(t,e){var n;if(e instanceof Ds)n={update:Ao(t,e.key,e.value)};else if(e instanceof Us)n={delete:Eo(t,e.key)};else if(e instanceof Ns)n={update:Ao(t,e.key,e.data),updateMask:$o(e.fieldMask)};else{if(!(e instanceof qs))return Dr();n={verify:Eo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof gs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ms)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _s)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Dr()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wo(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dr()}(t,e.precondition)),n}function No(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Es.updateTime(Oo(t.updateTime)):void 0!==t.exists?Es.exists(t.exists):Es.none()}(e.currentDocument):Es.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Nr("REQUEST_TIME"===e.setToServerValue),n=new gs):"appendMissingElements"in e?n=new ms(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new vs(e.removeAllFromArray.values||[]):"increment"in e?n=new _s(t,e.increment):Dr();var r=Wr.fromServerFormat(e.fieldPath);return new Cs(r,n)}(t,e)}):[];if(e.update){var i=To(t,e.update.name),s=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Qr((t.fieldPaths||[]).map(function(t){return Wr.fromServerFormat(t)}))}(e.updateMask);return new Ns(i,s,o,n,r)}return new Ds(i,s,n,r)}if(e.delete){var a=To(t,e.delete);return new Us(a,n)}if(e.verify){var c=To(t,e.verify);return new qs(c,n)}return Dr()}function Ro(t,e){return{documents:[xo(t,e.path)]}}function Mo(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xo(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(bi(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(bi(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Bo(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ho(t.field),direction:qo(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||si(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Vo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Vo(e.endAt)),n}function Lo(t){var e=Io(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Fo(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new qi(zo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return si(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Uo(n.startAt));var l=null;return n.endAt&&(l=Uo(n.endAt)),Xi(e,i,a,o,c,"F",u,l)}function Fo(t){return t?void 0!==t.unaryFilter?[Xo(t)]:void 0!==t.fieldFilter?[Ko(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Fo(t)}).reduce(function(t,e){return t.concat(e)}):Dr():[]}function Vo(t){return{before:t.before,values:t.position}}function Uo(t){return new Vi(t.values||[],!!t.before)}function qo(t){return mo[t]}function Bo(t){return yo[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function zo(t){return Wr.fromServerFormat(t.fieldPath)}function Ko(t){return Pi.create(zo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xo(t){switch(t.unaryFilter.op){case"IS_NAN":var e=zo(t.unaryFilter.field);return Pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=zo(t.unaryFilter.field);return Pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zo(t.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zo(t.unaryFilter.field);return Pi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dr()}}function $o(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Go(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Wo(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Yo(e)),e=Qo(t.get(n),e);return Yo(e)}function Qo(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Yo(t){return t+"\x01\x01"}function Jo(t){var e=t.length;if(Nr(e>=2),2===e)return Nr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$r.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Dr(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Dr()}s=o+2}return new $r(r)}var Zo=function(t,e){this.seconds=t,this.nanoseconds=e},ta=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ta.store="owner",ta.key="owner";var ea=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ea.store="mutationQueues",ea.keyPath="userId";var na=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};na.store="mutations",na.keyPath="batchId",na.userMutationsIndex="userMutationsIndex",na.userMutationsKeyPath=["userId","batchId"];var ra=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wo(e)]},t.key=function(t,e,n){return[t,Wo(e),n]},t}();ra.store="documentMutations",ra.PLACEHOLDER=new ra;var ia=function(t,e){this.path=t,this.readTime=e},sa=function(t,e){this.path=t,this.version=e},oa=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};oa.store="remoteDocuments",oa.readTimeIndex="readTimeIndex",oa.readTimeIndexPath="readTime",oa.collectionReadTimeIndex="collectionReadTimeIndex",oa.collectionReadTimeIndexPath=["parentPath","readTime"];var aa=function(t){this.byteSize=t};aa.store="remoteDocumentGlobal",aa.key="remoteDocumentGlobalKey";var ca=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ca.store="targets",ca.keyPath="targetId",ca.queryTargetsIndexName="queryTargetsIndex",ca.queryTargetsKeyPath=["canonicalId","targetId"];var ua=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ua.store="targetDocuments",ua.keyPath=["targetId","path"],ua.documentTargetsIndex="documentTargetsIndex",ua.documentTargetsKeyPath=["path","targetId"];var la=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};la.key="targetGlobalKey",la.store="targetGlobal";var ha=function(t,e){this.collectionId=t,this.parent=e};ha.store="collectionParents",ha.keyPath=["collectionId","parent"];var da=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};da.store="clientMetadata",da.keyPath="clientId";var fa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fa.store="bundles",fa.keyPath="bundleId";var pa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pa.store="namedQueries",pa.keyPath="name";var ga=Object(Cr.f)(Object(Cr.f)([],Object(Cr.f)(Object(Cr.f)([],Object(Cr.f)(Object(Cr.f)([],Object(Cr.f)(Object(Cr.f)([],[ea.store,na.store,ra.store,oa.store,ca.store,ta.store,la.store,ua.store]),[da.store])),[aa.store])),[ha.store])),[fa.store,pa.store]),ma="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ya=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),va=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ba=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Dr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),_a=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new va,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ca(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ia(e.target.error);n.ft.reject(new Ca(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ca(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(kr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ea(e)},t}(),wa=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(b.h)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return kr("SimpleDb","Removing database:",t),Ta(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(b.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(kr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ca(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Tr(Er.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ca(t,n))},i.onupgradeneeded=function(t){kr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){kr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Cr.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Cr.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=_a.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),ba.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return kr("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Oa=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ta(this.Pt.delete())},t}(),Ca=function(t){function e(e,n){var r=this;return(r=t.call(this,Er.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Cr.c)(e,t),e}(Tr);function Sa(t){return"IndexedDbTransactionError"===t.name}var Ea=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(kr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(kr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ta(n)},t.prototype.add=function(t){return kr("SimpleDb","ADD",this.store.name,t,t),Ta(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ta(this.store.get(t)).next(function(n){return void 0===n&&(n=null),kr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return kr("SimpleDb","DELETE",this.store.name,t),Ta(this.store.delete(t))},t.prototype.count=function(){return kr("SimpleDb","COUNT",this.store.name),Ta(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){kr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new ba(function(n,r){e.onerror=function(t){var e=Ia(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new ba(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Oa(i),o=e(i.primaryKey,i.value,s);if(o instanceof ba){var a=o.catch(function(t){return s.done(),ba.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return ba.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ta(t){return new ba(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ia(t.target.error);n(e)}})}var xa=!1;function Ia(t){var e=wa._t(Object(b.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Tr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xa||(xa=!0,setTimeout(function(){throw r},0)),r}}return t}var ka=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Cr.c)(e,t),e}(ya);function Pa(t,e){var n=Rr(t);return wa.It(n.Mt,e)}var Aa=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Is(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&ks(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&ks(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Br.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ro())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Vr(this.mutations,t.mutations,function(t,e){return As(t,e)})&&Vr(this.baseMutations,t.baseMutations,function(t,e){return As(t,e)})},t}(),ja=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Nr(e.mutations.length===r.length);for(var i=eo(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Da=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Br.min()),void 0===s&&(s=Br.min()),void 0===o&&(o=Yr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Na=function(t){this.Lt=t};function Ra(t,e){if(e.document)return jo(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ci.fromSegments(e.noDocument.path),r=Ua(e.noDocument.readTime),i=Si.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ci.fromSegments(e.unknownDocument.path);return r=Ua(e.unknownDocument.version),Si.newUnknownDocument(s,r)}return Dr()}function Ma(t,e,n){var r=La(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Eo(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:bo(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new oa(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Va(e.version);return o=e.hasCommittedMutations,new oa(null,new ia(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Va(e.version);return new oa(new sa(u,l),null,null,!0,r,i)}return Dr()}function La(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fa(t){var e=new qr(t[0],t[1]);return Br.fromTimestamp(e)}function Va(t){var e=t.toTimestamp();return new Zo(e.seconds,e.nanoseconds)}function Ua(t){var e=new qr(t.seconds,t.nanoseconds);return Br.fromTimestamp(e)}function qa(t,e){for(var n=(e.baseMutations||[]).map(function(e){return No(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return No(t.Lt,e)}),s=qr.fromMillis(e.localWriteTimeMs);return new Aa(e.batchId,s,n,i)}function Ba(t){var e,n,r=Ua(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ua(t.lastLimboFreeSnapshotVersion):Br.min();return void 0!==t.query.documents?(Nr(1===(n=t.query).documents.length),e=ts($i(Io(n.documents[0])))):e=function(t){return ts(Lo(t))}(t.query),new Da(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yr.fromBase64String(t.resumeToken))}function Ha(t,e){var n,r=Va(e.snapshotVersion),i=Va(e.lastLimboFreeSnapshotVersion);n=ki(e.target)?Ro(t.Lt,e.target):Mo(t.Lt,e.target);var s=e.resumeToken.toBase64();return new ca(e.targetId,xi(e.target),r,s,e.sequenceNumber,i,n)}function za(t){var e=Lo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?es(e,e.limit,"L"):e}var Ka=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xa(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ua(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Xa(t).put({bundleId:(n=e).id,createTime:Va(Oo(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return $a(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:za(e.bundledQuery),readTime:Ua(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return $a(t).put(function(t){return{name:t.name,readTime:Va(Oo(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xa(t){return Pa(t,fa.store)}function $a(t){return Pa(t,pa.store)}var Ga=function(){function t(){this.Bt=new Wa}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ba.resolve()},t.prototype.getCollectionParents=function(t,e){return ba.resolve(this.Bt.getEntries(e))},t}(),Wa=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Gs($r.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Gs($r.comparator)).toArray()},t}(),Qa=function(){function t(){this.qt=new Wa}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Wo(i)};return Ya(t).put(s)}return ba.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ur(e),""],!1,!0);return Ya(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Jo(s.parent))}return n})},t}();function Ya(t){return Pa(t,ha.store)}var Ja={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Za=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function tc(t,e,n){var r=t.store(na.store),i=t.store(ra.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Nr(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=ra.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return ba.waitFor(s).next(function(){return u})}function ec(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dr();e=t.noDocument}return JSON.stringify(e).length}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);var nc=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Nr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ic(t).Ot({index:na.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=sc(t),o=ic(t);return o.add({}).next(function(a){Nr("number"==typeof a);for(var c=new Aa(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Do(t.Lt,e)}),i=n.mutations.map(function(e){return Do(t.Lt,e)});return new na(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Gs(function(t,e){return Fr(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=ra.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(g,ra.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),ba.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ic(t).get(e).next(function(t){return t?(Nr(t.userId===n.userId),qa(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?ba.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return ic(t).Ot({index:na.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Nr(e.batchId>=r),s=qa(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ic(t).Ot({index:na.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ic(t).Nt(na.userMutationsIndex,n).next(function(t){return t.map(function(t){return qa(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ra.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return sc(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],u=Jo(r[1]);if(a===n.userId&&e.path.isEqual(u))return ic(t).get(c).next(function(t){if(!t)throw Dr();Nr(t.userId===n.userId),s.push(qa(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gs(Fr),i=[];return e.forEach(function(e){var s=ra.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=sc(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=Jo(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),ba.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=ra.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Gs(Fr);return sc(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],u=Jo(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ic(t).get(e).next(function(t){if(null===t)throw Dr();Nr(t.userId===n.userId),r.push(qa(n.R,t))}))}),ba.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return tc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),ba.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ba.resolve();var r=IDBKeyRange.lowerBound(ra.prefixForUser(e.userId)),i=[];return sc(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Jo(t[1]);i.push(s)}else r.done()}).next(function(){Nr(0===i.length)})})},t.prototype.containsKey=function(t,e){return rc(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return oc(t).get(this.userId).next(function(t){return t||new ea(e.userId,-1,"")})},t}();function rc(t,e,n){var r=ra.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return sc(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function ic(t){return Pa(t,na.store)}function sc(t){return Pa(t,ra.store)}function oc(t){return Pa(t,ea.store)}var ac=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),cc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ac(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Br.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return uc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Nr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return uc(t).Ot(function(o,a){var c=Ba(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return ba.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return uc(t).Ot(function(t,n){var r=Ba(n);e(r)})},t.prototype.Xt=function(t){return lc(t).get(la.key).next(function(t){return Nr(null!==t),t})},t.prototype.Zt=function(t,e){return lc(t).put(la.key,e)},t.prototype.te=function(t,e){return uc(t).put(Ha(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=xi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uc(t).Ot({range:r,index:ca.queryTargetsIndexName},function(t,n,r){var s=Ba(n);Ii(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=hc(t);return e.forEach(function(e){var o=Wo(e.path);i.push(s.put(new ua(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),ba.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=hc(t);return ba.forEach(e,function(e){var s=Wo(e.path);return ba.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=hc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hc(t),i=ro();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Jo(t[1]),s=new ci(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Wo(e.path),r=IDBKeyRange.bound([n],[Ur(n)],!1,!0),i=0;return hc(t).Ot({index:ua.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return uc(t).get(e).next(function(t){return t?Ba(t):null})},t}();function uc(t){return Pa(t,ca.store)}function lc(t){return Pa(t,la.store)}function hc(t){return Pa(t,ua.store)}function dc(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){if(t.code!==Er.FAILED_PRECONDITION||t.message!==ma)throw t;return kr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fc(t,e){var n=t[1],r=e[1],i=Fr(t[0],e[0]);return 0===i?Fr(n,r):i}var pc=function(){function t(t){this.ne=t,this.buffer=new Gs(fc),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;kr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Cr.b)(e,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Sa(e=n.sent())?(kr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),mc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ba.resolve(Sr.o);var r=new pc(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kr("LruGarbageCollector","Garbage collection skipped; disabled"),ba.resolve(Ja)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(kr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ja):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(kr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),Ir()<=_.a.DEBUG&&kr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),ba.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),yc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new mc(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return vc(t,n)},t.prototype.removeReference=function(t,e,n){return vc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return vc(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return oc(t).$t(function(r){return rc(t,r,e).next(function(t){return t&&(n=!0),ba.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),hc(t).delete([0,Wo(o.path)])})});i.push(c)}}).next(function(){return ba.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return vc(t,e)},t.prototype.we=function(t,e){var n,r=hc(t),i=Sr.o;return r.Ot({index:ua.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Sr.o&&e(new ci(Jo(n)),i),i=o,n=s):i=Sr.o}).next(function(){i!==Sr.o&&e(new ci(Jo(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function vc(t,e){return hc(t).put(function(t,e){return new ua(0,Wo(t.path),e)}(e,t.currentSequenceNumber))}var bc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){zr(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Kr(this.inner)},t}(),_c=function(){function t(){this.changes=new bc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Br.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Si.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ba.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wc=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Sc(t).put(Ec(e),n)},t.prototype.removeEntry=function(t,e){var n=Sc(t),r=Ec(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Sc(t).get(Ec(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Sc(t).get(Ec(e)).next(function(t){return{document:n.ye(e,t),size:ec(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ys();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ys(),i=new Ks(ci.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,ec(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ba.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Sc(t).Ot({range:r},function(t,e,r){for(var o=ci.fromSegments(t);s&&ci.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ys(),s=e.path.length+1,o={};if(n.isEqual(Br.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=La(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=oa.collectionReadTimeIndex}return Sc(t).Ot(o,function(t,n,o){if(t.length===s){var a=Ra(r.R,n);e.path.isPrefixOf(a.key.path)?ss(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Oc(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Cc(t).get(aa.key).next(function(t){return Nr(!!t),t})},t.prototype.me=function(t,e){return Cc(t).put(aa.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ra(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Br.min()))return n}return Si.newInvalidDocument(t)},t}(),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new bc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Cr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Gs(function(t,e){return Fr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=Ma(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=ec(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=Ma(e.Ie.R,Si.newNoDocument(s,Br.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),ba.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(_c);function Cc(t){return Pa(t,aa.store)}function Sc(t){return Pa(t,oa.store)}function Ec(t){return t.path.toArray()}var Tc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Nr(n<r&&n>=0&&r<=11);var s=new _a("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ta.store)}(t),function(t){t.createObjectStore(ea.store,{keyPath:ea.keyPath}),t.createObjectStore(na.store,{keyPath:na.keyPath,autoIncrement:!0}).createIndex(na.userMutationsIndex,na.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ra.store)}(t),xc(t),function(t){t.createObjectStore(oa.store)}(t));var o=ba.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ua.store),t.deleteObjectStore(ca.store),t.deleteObjectStore(la.store)}(t),xc(t)),o=o.next(function(){return function(t){var e=t.store(la.store),n=new la(0,0,Br.min().toTimestamp(),0);return e.put(la.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(na.store).Nt().next(function(n){t.deleteObjectStore(na.store),t.createObjectStore(na.store,{keyPath:na.keyPath,autoIncrement:!0}).createIndex(na.userMutationsIndex,na.userMutationsKeyPath,{unique:!0});var r=e.store(na.store),i=n.map(function(t){return r.put(t)});return ba.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(da.store,{keyPath:da.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(aa.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(oa.store);e.createIndex(oa.readTimeIndex,oa.readTimeIndexPath,{unique:!1}),e.createIndex(oa.collectionReadTimeIndex,oa.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(fa.store,{keyPath:fa.keyPath})}(t),function(t){t.createObjectStore(pa.store,{keyPath:pa.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(oa.store).Ot(function(t,n){e+=ec(n)}).next(function(){var n=new aa(e);return t.store(aa.store).put(aa.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ea.store),r=t.store(na.store);return n.Nt().next(function(n){return ba.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(na.userMutationsIndex,i).next(function(r){return ba.forEach(r,function(r){Nr(r.userId===n.userId);var i=qa(e.R,r);return tc(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ua.store),n=t.store(oa.store);return t.store(la.store).get(la.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new $r(n),o=function(t){return[0,Wo(t)]}(s);r.push(e.get(o).next(function(n){return n?ba.resolve():function(n){return e.put(new ua(0,Wo(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ba.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ha.store,{keyPath:ha.keyPath});var n=e.store(ha.store),r=new Wa,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Wo(i)})}};return e.store(oa.store).Ot({kt:!0},function(t,e){var n=new $r(t);return i(n.popLast())}).next(function(){return e.store(ra.store).Ot({kt:!0},function(t,e){var n=Jo(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ca.store);return n.Ot(function(t,r){var i=Ba(r),s=Ha(e.R,i);return n.put(s)})},t}();function xc(t){t.createObjectStore(ua.store,{keyPath:ua.keyPath}).createIndex(ua.documentTargetsIndex,ua.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ca.store,{keyPath:ca.keyPath}).createIndex(ca.queryTargetsIndexName,ca.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(la.store)}var Ic="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kc=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Tr(Er.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yc(this,i),this.Le=n+"main",this.R=new Na(c),this.Be=new wa(this.Le,11,new Tc(this.R)),this.qe=new cc(this.referenceDelegate,this.R),this.Ut=new Qa,this.Ue=function(t,e){return new wc(t,e)}(this.R,this.Ut),this.Qe=new Ka,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Tr(Er.FAILED_PRECONDITION,Ic);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Sr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Cr.b)(e,void 0,void 0,function(){return Object(Cr.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Cr.b)(e,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Cr.b)(e,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ac(e).put(new da(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Sa(e))return kr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return kr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Pc(t).get(ta.key).next(function(t){return ba.resolve(e.tn(t))})},t.prototype.en=function(t){return Ac(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Pa(t,da.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ba.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ba.resolve(!0):Pc(t).get(ta.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Tr(Er.FAILED_PRECONDITION,Ic);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ac(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&kr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t=this;return Object(Cr.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ta.store,da.store],function(e){var n=new ka(e,Sr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ac(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return nc.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return kr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ga,function(s){return r=new ka(s,i.Ne?i.Ne.next():Sr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Pr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Tr(Er.FAILED_PRECONDITION,ma);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Pc(t).get(ta.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Tr(Er.FAILED_PRECONDITION,Ic)})},t.prototype.Ze=function(t){var e=new ta(this.clientId,this.allowTabSynchronization,Date.now());return Pc(t).put(ta.key,e)},t.yt=function(){return wa.yt()},t.prototype.Xe=function(t){var e=this,n=Pc(t);return n.get(ta.key).next(function(t){return e.tn(t)?(kr("IndexedDbPersistence","Releasing primary lease."),n.delete(ta.key)):ba.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Pr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return kr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Pr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Pr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Pc(t){return Pa(t,ta.store)}function Ac(t){return Pa(t,da.store)}function jc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Dc=function(t,e){this.progress=t,this.wn=e},Nc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ji(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ci(e)).next(function(t){var e=Zs();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Zs();return this.Ut.getCollectionParents(t,i).next(function(o){return ba.forEach(o,function(o){var a=function(t,e){return new Ki(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=Si.newInvalidDocument(u),r=r.insert(u,l)),ks(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){ss(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=ro(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof Ns&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),Rc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ro(),i=ro(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Br.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Gi(e)||Wi(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Ir()<=_.a.DEBUG&&kr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),is(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Gs(os(t));return e.forEach(function(e,r){ss(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ir()<=_.a.DEBUG&&kr("QueryEngine","Using full collection scan to execute query:",is(e)),this.Sn.getDocumentsMatchingQuery(t,e,Br.min())},t}(),Lc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ks(Fr),this.kn=new bc(function(t){return xi(t)},Ii),this.On=Br.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Nc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Fc(t,e,n,r){return new Lc(t,e,n,r)}function Vc(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Cr.d)(this,function(o){switch(o.label){case 0:return n=Rr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Nc(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=ro(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Uc(t,e){var n=Rr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ba.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Nr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function qc(t){var e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Bc(t,e){var n=Rr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return Nr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=Ys();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Hc(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Br.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return ba.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Hc(t,e,n,r,i){var s=ro();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ys();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Br.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):kr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function zc(t,e){var n=Rr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Kc(t,e){var n=Rr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?ba.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Da(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Xc(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:r=Rr(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Sa(o=a.sent()))throw o;return kr("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function $c(t,e,n){var r=Rr(t),i=Br.min(),s=ro();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Rr(t),i=r.kn.get(n);return void 0!==i?ba.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ts(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Br.min(),n?s:ro())}).next(function(t){return{documents:t,Bn:s}})})}function Gc(t,e){var n=Rr(t),r=Rr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Wc(t){var e=Rr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Rr(t),i=Ys(),s=La(n),o=Sc(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:oa.readTimeIndex,range:a},function(t,e){var n=Ra(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Fa(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Qc(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){return[2,(e=Rr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Sc(t),n=Br.min();return e.Ot({index:oa.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Fa(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Yc(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Cr.d)(this,function(p){switch(p.label){case 0:for(i=Rr(t),s=ro(),o=Ys(),a=eo(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Kc(i,function(t){return ts($i($r.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Hc(t,d,o,Br.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Jc(t,e,n){return void 0===n&&(n=ro()),Object(Cr.b)(this,void 0,void 0,function(){var r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return[4,Kc(t,ts(za(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Rr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Oo(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Yr.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Zc=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ba.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Oo(n.createTime)}),ba.resolve()},t.prototype.getNamedQuery=function(t,e){return ba.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:za(t.bundledQuery),readTime:Oo(t.readTime)}}(e)),ba.resolve()},t}(),tu=function(){function t(){this.Wn=new Gs(eu.Gn),this.zn=new Gs(eu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new eu(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new eu(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ci(new $r([])),r=new eu(n,t),i=new eu(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ci(new $r([])),n=new eu(e,t),r=new eu(e,t+1),i=ro();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new eu(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),eu=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ci.comparator(t.key,e.key)||Fr(t.ns,e.ns)},t.Hn=function(t,e){return Fr(t.ns,e.ns)||ci.comparator(t.key,e.key)},t}(),nu=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Gs(eu.Gn)}return t.prototype.checkEmpty=function(t){return ba.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Aa(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new eu(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return ba.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return ba.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ba.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ba.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ba.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new eu(e,0),i=new eu(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),ba.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gs(Fr);return e.forEach(function(t){var e=new eu(t,0),i=new eu(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),ba.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ci.isDocumentKey(i)||(i=i.child(""));var s=new eu(new ci(i),0),o=new Gs(Fr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),ba.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Nr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ba.forEach(e.mutations,function(i){var s=new eu(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new eu(e,0),r=this.rs.firstAfterOrEqual(n);return ba.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ba.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ru=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ks(ci.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ba.resolve(n?n.document.clone():Si.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ys();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Si.newInvalidDocument(t))}),ba.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ys(),i=new ci(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||ss(e,c)&&(r=r.insert(c.key,c.clone()))}return ba.resolve(r)},t.prototype.fs=function(t,e){return ba.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new iu(this)},t.prototype.getSize=function(t){return ba.resolve(this.size)},t}(),iu=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Cr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),ba.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(_c),su=function(){function t(t){this.persistence=t,this.ds=new bc(function(t){return xi(t)},Ii),this.lastRemoteSnapshotVersion=Br.min(),this.highestTargetId=0,this.ws=0,this._s=new tu,this.targetCount=0,this.ys=ac.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),ba.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ba.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ba.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ba.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ba.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ac(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ba.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ba.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ba.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ba.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return ba.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ba.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ba.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),ba.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ba.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ba.resolve(n)},t.prototype.containsKey=function(t,e){return ba.resolve(this._s.containsKey(e))},t}(),ou=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Sr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new su(this),this.Ut=new Ga,this.Ue=function(t,e){return new ru(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Na(e),this.Qe=new Zc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new nu(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;kr("MemoryPersistence","Starting transaction:",t);var i=new au(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return ba.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),au=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Cr.c)(e,t),e}(ya),cu=function(){function t(t){this.persistence=t,this.As=new tu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Dr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ba.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ba.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ba.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ba.forEach(this.vs,function(r){var i=ci.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ba.or([function(){return ba.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),uu=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lu(t,e){return"firestore_clients_"+t+"_"+e}function hu(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function du(t,e){return"firestore_targets_"+t+"_"+e}uu.UNAUTHENTICATED=new uu(null),uu.GOOGLE_CREDENTIALS=new uu("google-credentials-uid"),uu.FIRST_PARTY=new uu("first-party-uid");var fu=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Tr(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Pr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pu=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tr(i.error.code,i.error.message)),s?new t(e,i.state,r):(Pr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gu=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=so(),o=0;i&&o<r.activeTargetIds.length;++o)i=ai(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Pr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),mu=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Pr("SharedClientState","Failed to parse online state: "+e),null)},t}(),yu=function(){function t(){this.activeTargetIds=so()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),vu=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ks(Fr),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=lu(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new yu),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Cr.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lu(this.persistenceKey,r)))&&(s=gu.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(du(this.persistenceKey,t));if(n){var r=pu.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(du(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return kr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){kr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){kr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(kr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Cr.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Cr.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Sr.o;if(null!=t)try{var n=JSON.parse(t);Nr("number"==typeof n),e=n}catch(t){Pr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Sr.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fu(this.currentUser,t,e,n),i=hu(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=hu(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=du(this.persistenceKey,t),i=new pu(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return gu.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fu.Vs(new uu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return pu.Vs(r,e)},t.prototype.js=function(t){return mu.Vs(t)},t.prototype.ii=function(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(kr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=so();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),bu=function(){function t(){this.li=new yu,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new yu,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),_u=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wu=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){kr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){kr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ou={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cu=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Su=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Cr.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Or;o.listenOnce(br.COMPLETE,function(){try{switch(o.getLastErrorCode()){case vr.NO_ERROR:var e=o.getResponseJson();kr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vr.TIMEOUT:kr("Connection",'RPC "'+t+'" timed out'),s(new Tr(Er.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:var n=o.getStatus();if(kr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Er).indexOf(e)>=0?e:Er.UNKNOWN}(r.status);s(new Tr(a,r.message))}else s(new Tr(Er.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Tr(Er.UNAVAILABLE,"Connection failed."));break;default:Dr()}}finally{kr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new fr,i=ge(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(b.m)()||Object(b.o)()||Object(b.k)()||Object(b.l)()||Object(b.p)()||Object(b.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");kr("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new Cu({Ei:function(t){u?kr("Connection","Not sending because WebChannel is closed:",t):(c||(kr("Connection","Opening WebChannel transport."),a.open(),c=!0),kr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,wr.EventType.OPEN,function(){u||kr("Connection","WebChannel transport opened.")}),h(a,wr.EventType.CLOSE,function(){u||(u=!0,kr("Connection","WebChannel transport closed"),l.Vi())}),h(a,wr.EventType.ERROR,function(t){u||(u=!0,Ar("Connection","WebChannel transport errored:",t),l.Vi(new Tr(Er.UNAVAILABLE,"The operation could not be completed")))}),h(a,wr.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Nr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){kr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Fs[t];if(void 0!==e)return zs(e)}(i),o=r.message;void 0===s&&(s=Er.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Tr(s,o)),a.close()}else kr("Connection","WebChannel received:",n),l.Si(n)}}),h(i,_r.STAT_EVENT,function(t){10===t.stat?kr("Connection","Detected buffering proxy"):11===t.stat&&kr("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);kr("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return kr("RestConnection","Received: ",t),t},function(e){throw Ar("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.2",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ou[t]},t}());function Eu(){return"undefined"!=typeof window?window:null}function Tu(){return"undefined"!=typeof document?document:null}function xu(t){return new vo(t,!0)}var Iu=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&kr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ku=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Iu(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Er.RESOURCE_EXHAUSTED?(Pr(e.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Er.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Tr(Er.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Cr.b)(t,void 0,void 0,function(){return Object(Cr.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return kr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(kr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Pu=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Cr.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Nr(void 0===e||"string"==typeof e),Yr.fromBase64String(e||"")):(Nr(void 0===e||e instanceof Uint8Array),Yr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Er.UNKNOWN:zs(t.code);return new Tr(e,t.message||"")}(a);n=new lo(r,i,s,o||null)}else if("documentChange"in e){i=To(t,(r=e.documentChange).document.name),s=Oo(r.document.updateTime);var a=new Oi({mapValue:{fields:r.document.fields}}),c=(o=Si.newFoundDocument(i,s,a),r.targetIds||[]);n=new co(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=To(t,(r=e.documentDelete).document),s=r.readTime?Oo(r.readTime):Br.min(),a=Si.newNoDocument(i,s),n=new co([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=To(t,(r=e.documentRemove).document),n=new co([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dr();var u=e.filter;i=new Bs(r=u.count||0),n=new uo(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Br.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Br.min():e.readTime?Oo(e.readTime):Br.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ko(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ki(r)?{documents:Ro(t,r)}:{query:Mo(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=_o(t,e.resumeToken):e.snapshotVersion.compareTo(Br.min())>0&&(n.readTime=bo(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ko(this.R),e.removeTarget=t,this.cr(e)},e}(ku),Au=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Cr.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Nr(void 0!==e),t.map(function(t){return function(t,e){var n=Oo(t.updateTime?t.updateTime:e);return n.isEqual(Br.min())&&(n=Oo(e)),new Ss(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Oo(t.commitTime);return this.listener.Tr(n,e)}return Nr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ko(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Do(e.R,t)})};this.cr(n)},e}(ku),ju=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Cr.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Tr(Er.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),Du=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pr(e),this.Vr=!1):kr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Nu=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Cr.b)(s,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return Hu(this)?(kr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return(e=Rr(t)).$r.add(4),[4,Mu(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Ru(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Du(n,r)};function Ru(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:if(!Hu(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mu(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lu(t,e){var n=Rr(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Bu(n)?qu(n):il(n).er()&&Vu(n,e))}function Fu(t,e){var n=Rr(t),r=il(n);n.Or.delete(e),r.er()&&Uu(n,e),0===n.Or.size&&(r.er()?r.ir():Hu(n)&&n.Br.set("Unknown"))}function Vu(t,e){t.qr.U(e.targetId),il(t).mr(e)}function Uu(t,e){t.qr.U(e),il(t).yr(e)}function qu(t){t.qr=new fo({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),il(t).start(),t.Br.Sr()}function Bu(t){return Hu(t)&&!il(t).tr()&&t.Or.size>0}function Hu(t){return 0===Rr(t).$r.size}function zu(t){t.qr=void 0}function Ku(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){return t.Or.forEach(function(e,n){Vu(t,e)}),[2]})})}function Xu(t,e){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(n){return zu(t),Bu(t)?(t.Br.Nr(e),qu(t)):t.Br.set("Unknown"),[2]})})}function $u(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s;return Object(Cr.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof lo&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Cr.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),kr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gu(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof co?t.qr.X(e):e instanceof uo?t.qr.rt(e):t.qr.et(e),n.isEqual(Br.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,qc(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Yr.EMPTY_BYTE_STRING,n.snapshotVersion)),Uu(t,e);var r=new Da(n.target,e,1,n.sequenceNumber);Vu(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return kr("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Gu(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Gu(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r=this;return Object(Cr.d)(this,function(i){switch(i.label){case 0:if(!Sa(e))throw e;return t.$r.add(1),[4,Mu(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return qc(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Cr.b)(r,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return kr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Ru(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Wu(t,e){return e().catch(function(n){return Gu(t,n,e)})}function Qu(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Cr.d)(this,function(o){switch(o.label){case 0:e=Rr(t),n=sl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Hu(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,zc(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=sl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Gu(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Yu(e)&&Ju(e),[2]}})})}function Yu(t){return Hu(t)&&!sl(t).tr()&&t.kr.length>0}function Ju(t){sl(t).start()}function Zu(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){return sl(t).Ar(),[2]})})}function tl(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n,r;return Object(Cr.d)(this,function(i){for(e=sl(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function el(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=ja.from(r,e,n),[4,Wu(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Qu(t)];case 2:return s.sent(),[2]}})})}function nl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e&&sl(t).pr?[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return Hs(r=e.code)&&r!==Er.ABORTED?(n=t.kr.shift(),sl(t).sr(),[4,Wu(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Qu(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Yu(t)&&Ju(t),[2]}})})}function rl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return n=Rr(t),e?(n.$r.delete(2),[4,Ru(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Mu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function il(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rr(t);return r.br(),new Pu(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ku.bind(null,t),Ri:Xu.bind(null,t),_r:$u.bind(null,t)}),t.Mr.push(function(n){return Object(Cr.b)(e,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Bu(t)?qu(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),zu(t),e.label=3;case 3:return[2]}})})})),t.Ur}function sl(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Rr(t);return r.br(),new Au(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zu.bind(null,t),Ri:nl.bind(null,t),Ir:tl.bind(null,t),Tr:el.bind(null,t)}),t.Mr.push(function(n){return Object(Cr.b)(e,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Qu(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(kr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var ol=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tr(Er.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function al(t,e){if(Pr("AsyncQueue",e+": "+t),Sa(t))return new Tr(Er.UNAVAILABLE,e+": "+t);throw t}var cl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ci.comparator(e.key,n.key)}:function(t,e){return ci.comparator(t.key,e.key)},this.keyedMap=Zs(),this.sortedSet=new Ks(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ul=function(){function t(){this.Kr=new Ks(ci.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Dr():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ll=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,cl.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ns(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hl=function(){this.Wr=void 0,this.listeners=[]},dl=function(){this.queries=new bc(function(t){return rs(t)},ns),this.onlineState="Unknown",this.Gr=new Set};function fl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Cr.d)(this,function(u){switch(u.label){case 0:if(n=Rr(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new hl),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=al(a,"Initialization of query '"+is(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&yl(n),[2]}})})}function pl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Cr.d)(this,function(a){return n=Rr(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function gl(t,e){for(var n=Rr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&yl(n)}function ml(t,e,n){var r=Rr(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function yl(t){t.Gr.forEach(function(t){t.next()})}var vl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ll(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),bl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_l=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return To(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?jo(this.R,t.document,!1):Si.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Oo(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new _l(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||ro()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return[4,Yc(this.localStore,new _l(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Jc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Dc(Object.assign({},this.progress),t))]}})})}}();var wl=function(t){this.key=t},Ol=function(t){this.key=t},Cl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ro(),this.mutatedKeys=ro(),this.lo=os(t),this.fo=new cl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ul,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=Gi(this.query)&&i.size===this.query.limit?i.last():null,u=Wi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ss(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Gi(this.query)||Wi(this.query))for(;o.size>this.query.limit;){var l=Gi(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new ll(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ul,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ro(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ol(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new wl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ro();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ll.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Sl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},El=function(t){this.key=t,this.bo=!1},Tl=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new bc(function(t){return rs(t)},ns),this.Vo=new Map,this.So=new Set,this.Do=new Ks(ci.comparator),this.Co=new Map,this.No=new tu,this.xo={},this.Fo=new Map,this.ko=ac.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function xl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:return n=nh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Kc(n.localStore,ts(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Il(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Lu(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Il(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Cr.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,$c(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(ql(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,$c(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Cl(e,i.Bn),o=s._o(i.documents),a=ao.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),ql(t,n,c.To),u=new Sl(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function kl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return n=Rr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ns(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Fu(n.remoteStore,r.targetId),Vl(n,r.targetId)}).catch(dc)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Vl(n,r.targetId),[4,Xc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Pl(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:r=rh(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rr(t),i=qr.now(),s=e.reduce(function(t,e){return t.add(e.key)},ro());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Ps(u,n.get(u.key));null!=l&&o.push(new Ns(u.key,l,Ci(l.toProto().mapValue),Es.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ks(Fr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,zl(r,i.changes)];case 3:return a.sent(),[4,Qu(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=al(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Al(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:n=Rr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Bc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Nr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Nr(r.bo):t.removedDocuments.size>0&&(Nr(r.bo),r.bo=!1))}),[4,zl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function jl(t,e,n){var r=Rr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Rr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&yl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dl(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Cr.d)(this,function(u){switch(u.label){case 0:return(r=Rr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Ks(ci.comparator)).insert(s,Si.newNoDocument(s,Br.min())),a=ro().add(s),c=new oo(Br.min(),new Map,new Gs(Fr),o,a),[4,Al(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Hl(r),[3,4];case 2:return[4,Xc(r.localStore,e,!1).then(function(){return Vl(r,e,n)}).catch(dc)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function Nl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:n=Rr(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Uc(n.localStore,e)];case 2:return i=s.sent(),Fl(n,r,null),Ll(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,zl(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,dc(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Rl(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:r=Rr(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Nr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Fl(r,e,n),Ll(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,zl(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,dc(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ml(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:Hu((n=Rr(t)).remoteStore)||kr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=al(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Ll(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Fl(t,e,n){var r=Rr(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Vl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ul(t,e)})}function Ul(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fu(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Hl(t))}function ql(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof wl?(t.No.addReference(s.key,e),Bl(t,s)):s instanceof Ol?(kr("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Ul(t,s.key)):Dr()}}function Bl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(kr("SyncEngine","New document in limbo: "+n),t.So.add(r),Hl(t))}function Hl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ci($r.fromString(e)),r=t.ko.next();t.Co.set(r,new El(n)),t.Do=t.Do.insert(n,r),Lu(t.remoteStore,new Da(ts($i(n.path)),r,2,Sr.o))}}function zl(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:return r=Rr(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rc.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Cr.d)(this,function(l){switch(l.label){case 0:n=Rr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ba.forEach(e,function(e){return ba.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return ba.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Sa(r=l.sent()))throw r;return kr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Kl(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return(n=Rr(t)).currentUser.isEqual(e)?[3,3]:(kr("SyncEngine","User change. New user:",e.toKey()),[4,Vc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Tr(Er.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,zl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Xl(t,e){var n=Rr(t),r=n.Co.get(e);if(r&&r.bo)return ro().add(r.key);var i=ro(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function $l(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return[4,$c((n=Rr(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ql(n,e.targetId,i.To),i)]}})})}function Gl(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){return[2,Wc((e=Rr(t)).localStore).then(function(t){return zl(e,t)})]})})}function Wl(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s;return Object(Cr.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Rr(t),r=Rr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):ba.resolve(null)})})}((i=Rr(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Qu(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fl(i,e,r||null),Ll(i,e),function(t,e){Rr(Rr(t)._n).Gt(e)}(i.localStore,e)):Dr(),o.label=4;case 4:return[4,zl(i,s)];case 5:return o.sent(),[3,7];case 6:kr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ql(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Cr.d)(this,function(u){switch(u.label){case 0:return nh(n=Rr(t)),rh(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Yl(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,rl(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)Lu(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return Vl(n,e),Xc(n.localStore,e,!0)}),Fu(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,Yl(n,a)];case 5:return u.sent(),function(t){var e=Rr(t);e.Co.forEach(function(t,n){Fu(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ks(ci.comparator)}(n),n.Oo=!1,[4,rl(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Yl(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Cr.d)(this,function(g){switch(g.label){case 0:n=Rr(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,Kc(n.localStore,ts(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,$l(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Gc(n.localStore,a)];case 8:return p=g.sent(),[4,Kc(n.localStore,p)];case 9:return c=g.sent(),[4,Il(n,Jl(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Jl(t){return Xi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zl(t){var e=Rr(t);return Rr(Rr(e.localStore).persistence).fn()}function th(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,function(){var i,s,o;return Object(Cr.d)(this,function(a){switch(a.label){case 0:return(i=Rr(t)).Oo?(kr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wc(i.localStore)];case 3:return s=a.sent(),o=oo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,zl(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Xc(i.localStore,e,!0)];case 6:return a.sent(),Vl(i,e,r),[3,8];case 7:Dr(),a.label=8;case 8:return[2]}})})}function eh(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Cr.d)(this,function(d){switch(d.label){case 0:if(!(r=nh(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(kr("SyncEngine","Adding an already active target "+o),[3,5]):[4,Gc(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Kc(r.localStore,a)];case 3:return c=d.sent(),[4,Il(r,Jl(a),c.targetId,!1)];case 4:d.sent(),Lu(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Xc(r.localStore,t,!1).then(function(){Fu(r.remoteStore,t),Vl(r,t)}).catch(dc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function nh(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Al.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dl.bind(null,e),e.vo._r=gl.bind(null,e.eventManager),e.vo.Mo=ml.bind(null,e.eventManager),e}function rh(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rl.bind(null,e),e}var ih=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return this.R=xu(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Fc(this.persistence,new Mc,t.initialUser,this.R)},t.prototype.qo=function(t){return new ou(cu.bs,this.R)},t.prototype.Bo=function(t){return new bu},t.prototype.terminate=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),sh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Cr.c)(e,t),e.prototype.initialize=function(e){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Qc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,rh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Qu(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Fc(this.persistence,new Mc,t.initialUser,this.R)},e.prototype.Uo=function(t){return new gc(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=jc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new kc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Eu(),Tu(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new bu},e}(ih),oh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Cr.c)(e,t),e.prototype.initialize=function(e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r=this;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof vu?(this.sharedClientState.syncEngine={ui:Wl.bind(null,n),ai:th.bind(null,n),hi:eh.bind(null,n),fn:Zl.bind(null,n),ci:Gl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Cr.b)(r,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return[4,Ql(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Eu();if(!vu.yt(e))throw new Tr(Er.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vu(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(sh),ah=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n=this;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return jl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kl.bind(null,this.syncEngine),[4,rl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new dl},t.prototype.createDatastore=function(t){var e=xu(t.databaseInfo.databaseId),n=new Su(t.databaseInfo);return function(t,e,n){return new ju(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return jl(o.syncEngine,t,0)},s=wu.yt()?new wu:new _u,new Nu(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Tl(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e=Rr(t),kr("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Mu(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),ch=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),uh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new va,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new bl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Cr.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Tr(Er.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Cr.d)(this,function(c){switch(c.label){case 0:return n=Rr(t),r=ko(n.R)+"/documents",i={documents:e.map(function(t){return Eo(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Nr(!!e.found);var n=To(t,e.found.name),r=Oo(e.found.updateTime),i=new Oi({mapValue:{fields:e.found.fields}});return Si.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Nr(!!e.missing),Nr(!!e.readTime);var n=To(t,e.missing),r=Oo(e.readTime);return Si.newNoDocument(n,r)}(t,e):Dr()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Nr(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Us(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Cr.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ci.fromPath(n);e.mutations.push(new qs(r,e.precondition(r)))}),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return n=Rr(t),r=ko(n.R)+"/documents",i={writes:e.map(function(t){return Do(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dr();e=Br.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Tr(Er.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Es.updateTime(e):Es.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Br.min()))throw new Tr(Er.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Es.updateTime(e)}return Es.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Iu(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Cr.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Cr.d)(this,function(r){return t=new uh(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!si(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hs(e)}return!1},t}(),hh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=uu.UNAUTHENTICATED,this.clientId=Lr.u(),this.credentialListener=function(){},this.receivedInitialUser=new va,this.credentials.setChangeListener(function(t){kr("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Tr(Er.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Cr.b)(t,void 0,void 0,function(){var t,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=al(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function dh(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),kr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Cr.b)(i,void 0,void 0,function(){return Object(Cr.d)(this,function(t){switch(t.label){case 0:return[4,Vc(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function fh(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ph(t)];case 1:return n=i.sent(),kr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Cr.b)(this,void 0,void 0,function(){var n,r;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return(n=Rr(t)).asyncQueue.verifyOperationInProgress(),kr("RemoteStore","RemoteStore received new credentials"),r=Hu(n),n.$r.add(3),[4,Mu(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Ru(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function ph(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(kr("FirestoreClient","Using default OfflineComponentProvider"),[4,dh(t,new ih)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function gh(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(kr("FirestoreClient","Using default OnlineComponentProvider"),[4,fh(t,new ah)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function mh(t){return ph(t).then(function(t){return t.persistence})}function yh(t){return ph(t).then(function(t){return t.localStore})}function vh(t){return gh(t).then(function(t){return t.remoteStore})}function bh(t){return gh(t).then(function(t){return t.syncEngine})}function _h(t){return Object(Cr.b)(this,void 0,void 0,function(){var e,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return[4,gh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=xl.bind(null,e.syncEngine),n.onUnlisten=kl.bind(null,e.syncEngine),n)]}})})}function wh(t,e,n){var r=this;void 0===n&&(n={});var i=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(r,void 0,void 0,function(){var r;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new ch({next:function(s){e.enqueueAndForget(function(){return pl(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Tr(Er.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Tr(Er.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new vl($i(n.path),s,{includeMetadataChanges:!0,so:!0});return fl(t,o)},[4,_h(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Oh(t,e,n){var r=this;void 0===n&&(n={});var i=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(r,void 0,void 0,function(){var r;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new ch({next:function(n){e.enqueueAndForget(function(){return pl(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Tr(Er.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new vl(n,s,{includeMetadataChanges:!0,so:!0});return fl(t,o)},[4,_h(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Ch=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Sh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Eh=new Map,Th=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},xh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(uu.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ih=function(){function t(t){var e=this;this.oc=null,this.currentUser=uu.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(kr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Nr("string"==typeof n.accessToken),new Th(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Nr(null===t||"string"==typeof t),new uu(t)},t}(),kh=function(){function t(t,e){this.ac=t,this.hc=e,this.type="FirstParty",this.user=uu.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ph=function(){function t(t,e){this.ac=t,this.hc=e}return t.prototype.getToken=function(){return Promise.resolve(new kh(this.ac,this.hc))},t.prototype.setChangeListener=function(t){t(uu.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ah(t,e,n){if(!n)throw new Tr(Er.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tr(Er.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Dh(t,e,n,r){if(!0===e&&!0===r)throw new Tr(Er.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Nh(t){if(!ci.isDocumentKey(t))throw new Tr(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Rh(t){if(ci.isDocumentKey(t))throw new Tr(Er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dr()}function Lh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tr(Er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mh(t);throw new Tr(Er.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fh(t,e){if(e<=0)throw new Tr(Er.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Tr(Er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tr(Er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Dh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Uh=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1,t instanceof Sh?(this._databaseId=t,this._credentials=new xh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Tr(Er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(t.options.projectId)}(t),this._credentials=new Ih(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Tr(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Tr(Er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new xh;switch(t.type){case"gapi":var e=t.client;return Nr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ph(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Tr(Er.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Eh.get(this))&&(kr("ComponentProvider","Removing Datastore"),Eh.delete(this),t.terminate()),Promise.resolve();var t},t}(),qh=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hh(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Bh=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,$i(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Cr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qh(this.firestore,null,new ci(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Bh);function zh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(b.g)(t),Ah("collection","path",e),t instanceof Uh)return Rh(n=$r.fromString.apply($r,Object(Cr.f)([e],r))),new Hh(t,null,n);if(!(t instanceof qh||t instanceof Hh))throw new Tr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rh(n=$r.fromString.apply($r,Object(Cr.f)([t.path],r)).child($r.fromString(e))),new Hh(t.firestore,null,n)}function Kh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(b.g)(t),1===arguments.length&&(e=Lr.u()),Ah("doc","path",e),t instanceof Uh)return Nh(n=$r.fromString.apply($r,Object(Cr.f)([e],r))),new qh(t,null,new ci(n));if(!(t instanceof qh||t instanceof Hh))throw new Tr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nh(n=t._path.child($r.fromString.apply($r,Object(Cr.f)([e],r)))),new qh(t.firestore,t instanceof Hh?t._converter:null,new ci(n))}function Xh(t,e){return t=Object(b.g)(t),e=Object(b.g)(e),(t instanceof qh||t instanceof Hh)&&(e instanceof qh||e instanceof Hh)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function $h(t,e){return t=Object(b.g)(t),e=Object(b.g)(e),t instanceof Bh&&e instanceof Bh&&t.firestore===e.firestore&&ns(t._query,e._query)&&t._converter===e._converter}var Gh=function(){function t(){var t=this;this.lc=Promise.resolve(),this.fc=[],this.dc=!1,this.wc=[],this._c=null,this.mc=!1,this.yc=[],this.Zi=new Iu(this,"async_queue_retry"),this.gc=function(){var e=Tu();e&&kr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Tu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.dc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ec(),this.Tc(t)},t.prototype.enterRestrictedMode=function(){if(!this.dc){this.dc=!0;var t=Tu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gc)}},t.prototype.enqueue=function(t){return this.Ec(),this.dc?new Promise(function(t){}):this.Tc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.fc.push(t),e.Ic()})},t.prototype.Ic=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Cr.d)(this,function(n){switch(n.label){case 0:if(0===this.fc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fc[0]()];case 2:return n.sent(),this.fc.shift(),this.Zi.reset(),[3,4];case 3:if(!Sa(t=n.sent()))throw t;return kr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.fc.length>0&&this.Zi.ji(function(){return e.Ic()}),n.label=5;case 5:return[2]}})})},t.prototype.Tc=function(t){var e=this,n=this.lc.then(function(){return e.mc=!0,t().catch(function(t){throw e._c=t,e.mc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.mc=!1,t})});return this.lc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ec(),this.yc.indexOf(t)>-1&&(e=0);var i=ol.createAndSchedule(this,t,e,n,function(t){return r.Ac(t)});return this.wc.push(i),i},t.prototype.Ec=function(){this._c&&Dr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Rc=function(){return Object(Cr.b)(this,void 0,void 0,function(){var t;return Object(Cr.d)(this,function(e){switch(e.label){case 0:return[4,t=this.lc];case 1:e.sent(),e.label=2;case 2:if(t!==this.lc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.bc=function(t){for(var e=0,n=this.wc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.vc=function(t){var e=this;return this.Rc().then(function(){e.wc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.wc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Rc()})},t.prototype.Pc=function(t){this.yc.push(t)},t.prototype.Ac=function(t){var e=this.wc.indexOf(t);this.wc.splice(e,1)},t}();function Wh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new va,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Gh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Cr.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Jh(this),this._firestoreClient.terminate()},e}(Uh);function Yh(t){return t._firestoreClient||Jh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ch(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hh(t._credentials,t._queue,r)}function Zh(t,e,n){var r=this,i=new va;return t.asyncQueue.enqueue(function(){return Object(Cr.b)(r,void 0,void 0,function(){var r;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,dh(t,n)];case 1:return s.sent(),[4,fh(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Er.FAILED_PRECONDITION||t.code===Er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function td(t){if(t._initialized||t._terminated)throw new Tr(Er.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ed=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Tr(Er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),nd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Yr.fromBase64String(e))}catch(e){throw new Tr(Er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),rd=function(t){this._methodName=t},id=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tr(Er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tr(Er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Fr(this._lat,t._lat)||Fr(this._long,t._long)},t}(),sd=/^__.*__$/,od=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ns(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ds(t,this.data,e,this.fieldTransforms)},t}(),ad=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ns(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function cd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dr()}}var ud=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Vc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Sc",{get:function(){return this.settings.Sc},enumerable:!1,configurable:!0}),t.prototype.Dc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Cc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.xc(t),r},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.Vc(),r},t.prototype.kc=function(t){return this.Dc({path:void 0,Nc:!0})},t.prototype.Oc=function(t){return kd(t,this.settings.methodName,this.settings.$c||!1,this.path,this.settings.Mc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Vc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.xc(this.path.get(t))},t.prototype.xc=function(t){if(0===t.length)throw this.Oc("Document fields must not be empty");if(cd(this.Sc)&&sd.test(t))throw this.Oc('Document fields cannot begin and end with "__"')},t}(),ld=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||xu(t)}return t.prototype.Lc=function(t,e,n,r){return void 0===r&&(r=!1),new ud({Sc:t,methodName:e,Mc:n,path:Wr.emptyPath(),Nc:!1,$c:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function hd(t){var e=t._freezeSettings(),n=xu(t._databaseId);return new ld(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dd(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Lc(s.merge||s.mergeFields?2:0,e,n,i);Ed("Data must be an object, but it was:",o,r);var a,c,u=Cd(r,o);if(s.merge)a=new Qr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Td(e,d[h],n);if(!o.contains(f))throw new Tr(Er.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Pd(l,f)||l.push(f)}a=new Qr(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new od(new Oi(u),a,c)}var fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Sc)throw t.Oc(1===t.Sc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rd);function pd(t,e,n){return new ud({Sc:3,Mc:e.settings.Mc,methodName:t._methodName,Nc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype._toFieldTransform=function(t){return new Cs(t.path,new gs)},e.prototype.isEqual=function(t){return t instanceof e},e}(rd),md=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(Cr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pd(this,t,!0),n=this.Bc.map(function(t){return Od(t,e)}),r=new ms(n);return new Cs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rd),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(Cr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pd(this,t,!0),n=this.Bc.map(function(t){return Od(t,e)}),r=new vs(n);return new Cs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rd),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Cr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new _s(t.R,ls(t.R,this.qc));return new Cs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rd);function bd(t,e,n,r){var i=t.Lc(1,e,n);Ed("Data must be an object, but it was:",i,r);var s=[],o=Oi.empty();zr(r,function(t,r){var a=Id(e,t,n);r=Object(b.g)(r);var c=i.Fc(a);if(r instanceof fd)s.push(a);else{var u=Od(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new Qr(s);return new ad(o,a,i.fieldTransforms)}function _d(t,e,n,r,i,s){var o=t.Lc(1,e,n),a=[Td(e,r,n)],c=[i];if(s.length%2!=0)throw new Tr(Er.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Td(e,s[u])),c.push(s[u+1]);for(var l=[],h=Oi.empty(),d=a.length-1;d>=0;--d)if(!Pd(l,a[d])){var f=a[d],p=c[d];p=Object(b.g)(p);var g=o.Fc(f);if(p instanceof fd)l.push(f);else{var m=Od(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Qr(l);return new ad(h,y,o.fieldTransforms)}function wd(t,e,n,r){return void 0===r&&(r=!1),Od(n,t.Lc(r?4:3,e))}function Od(t,e){if(Sd(t=Object(b.g)(t)))return Ed("Unsupported field value:",e,t),Cd(t,e);if(t instanceof rd)return function(t,e){if(!cd(e.Sc))throw e.Oc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Oc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nc&&4!==e.Sc)throw e.Oc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Od(s[i],e.kc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(b.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ls(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qr.fromDate(t);return{timestampValue:bo(e.R,n)}}if(t instanceof qr)return n=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:bo(e.R,n)};if(t instanceof id)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nd)return{bytesValue:_o(e.R,t._byteString)};if(t instanceof qh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Oc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Co(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Oc("Unsupported field value: "+Mh(t))}(t,e)}function Cd(t,e){var n={};return Kr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,function(t,r){var i=Od(r,e.Cc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Sd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qr||t instanceof id||t instanceof nd||t instanceof qh||t instanceof rd)}function Ed(t,e,n){if(!Sd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Mh(n);throw e.Oc("an object"===r?t+" a custom object":t+" "+r)}}function Td(t,e,n){if((e=Object(b.g)(e))instanceof ed)return e._internalPath;if("string"==typeof e)return Id(t,e);throw kd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xd=new RegExp("[~\\*/\\[\\]]");function Id(t,e,n){if(e.search(xd)>=0)throw kd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ed.bind.apply(ed,Object(Cr.f)([void 0],e.split(".")))))._internalPath}catch(r){throw kd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function kd(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Tr(Er.INVALID_ARGUMENT,(a+=". ")+t+c)}function Pd(t,e){return t.some(function(t){return t.isEqual(e)})}var Ad=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new jd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Dd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ad);function Dd(t,e){return"string"==typeof e?Id(t,e):e instanceof ed?e._internalPath:e._delegate._internalPath}var Nd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Rd=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Cr.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Dd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ad),Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Rd),Ld=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Md(n._firestore,n._userDataWriter,r.key,r,new Nd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tr(Er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Md(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Md(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fd(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Fd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dr()}}function Vd(t,e){return t instanceof Rd&&e instanceof Rd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ld&&e instanceof Ld&&t._firestore===e._firestore&&$h(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ud(t){if(Wi(t)&&0===t.explicitOrderBy.length)throw new Tr(Er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qd=function(){};function Bd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Hd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Uc=e,i.Qc=n,i.Kc=r,i.type="where",i}return Object(Cr.c)(e,t),e.prototype._apply=function(t){var e=hd(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Tr(Er.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Qd(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(Wd(r,t,l[u]));a={arrayValue:{values:c}}}else a=Wd(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qd(o,s),a=wd(n,"where",o,"in"===s||"not-in"===s);var h=Pi.create(i,s,a);return function(t,e){if(e.g()){var n=Yi(t);if(null!==n&&!n.isEqual(e.field))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Qi(t);null!==r&&Yd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Tr(Er.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Uc,this.Qc,this.Kc);return new Bh(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qd),zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Uc=e,r.jc=n,r.type="orderBy",r}return Object(Cr.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qi(e,n);return function(t,e){if(null===Qi(t)){var n=Yi(t);null!==n&&Yd(0,n,e.field)}}(t,r),r}(t._query,this.Uc,this.jc);return new Bh(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ki(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qd),Kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Wc=n,i.Gc=r,i}return Object(Cr.c)(e,t),e.prototype._apply=function(t){return new Bh(t.firestore,t._converter,es(t._query,this.Wc,this.Gc))},e}(qd),Xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Cr.c)(e,t),e.prototype._apply=function(t){var e=Gd(t,this.type,this.zc,this.Hc);return new Bh(t.firestore,t._converter,function(t,e){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qd),$d=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Cr.c)(e,t),e.prototype._apply=function(t){var e=Gd(t,this.type,this.zc,this.Hc);return new Bh(t.firestore,t._converter,function(t,e){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qd);function Gd(t,e,n,r){if(n[0]=Object(b.g)(n[0]),n[0]instanceof Ad)return function(t,e,n,r,i){if(!r)throw new Tr(Er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Zi(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(mi(e,r.key));else{var u=r.data.field(c.field);if(ni(u))throw new Tr(Er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Vi(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=hd(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Tr(Er.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Ji(t)&&-1!==u.indexOf("/"))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child($r.fromString(u));if(!ci.isDocumentKey(l))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ci(l);a.push(mi(e,h))}else{var d=wd(n,r,u);a.push(d)}}return new Vi(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Wd(t,e,n){if("string"==typeof(n=Object(b.g)(n))){if(""===n)throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ji(e)&&-1!==n.indexOf("/"))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($r.fromString(n));if(!ci.isDocumentKey(r))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return mi(t,new ci(r))}if(n instanceof qh)return mi(t,n._key);throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mh(n)+".")}function Qd(t,e){if(!Array.isArray(t)||0===t.length)throw new Tr(Er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Tr(Er.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yd(t,e,n){if(!n.isEqual(e))throw new Tr(Er.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ui(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ti(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ei(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return zr(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new id(ti(t.latitude),ti(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ri(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ii(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Zr(t);return new qr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=$r.fromString(t);Nr(Go(n));var r=new Sh(n.get(1),n.get(3)),i=new ci(n.popFirst(5));return r.isEqual(e)||Pr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.c)(e,t),e.prototype.convertBytes=function(t){return new nd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(Jd),ef=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=nf(t,this._firestore),i=Zd(r._converter,e,n),s=dd(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Es.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=nf(t,this._firestore);return s="string"==typeof(e=Object(b.g)(e))||e instanceof ed?_d(this._dataReader,"WriteBatch.update",o._key,e,n,r):bd(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Es.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=nf(t,this._firestore);return this._mutations=this._mutations.concat(new Us(e._key,Es.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Tr(Er.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nf(t,e){if((t=Object(b.g)(t)).firestore!==e)throw new Tr(Er.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.c)(e,t),e.prototype.convertBytes=function(t){return new nd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(Jd);function sf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Lh(t,qh);var s=Lh(t.firestore,Qh),o=hd(s);return af(s,[("string"==typeof(e=Object(b.g)(e))||e instanceof ed?_d(o,"updateDoc",t._key,e,n,r):bd(o,"updateDoc",t._key,e)).toMutation(t._key,Es.exists(!0))])}function of(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(b.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Wh(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Wh(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof qh)u=Lh(t.firestore,Qh),l=$i(t._key.path),c={next:function(e){i[a]&&i[a](cf(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Lh(t,Bh);u=Lh(f.firestore,Qh),l=f._query;var p=new rf(u);c={next:function(t){i[a]&&i[a](new Ld(u,p,f,t))},error:i[a+1],complete:i[a+2]},Ud(t._query)}return function(t,e,n,r){var i=this,s=new ch(r),o=new vl(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(i,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e=fl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(i,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e=pl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Yh(u),l,h,c)}function af(t,e){return function(t,e){var n=this,r=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var n;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return n=Pl,[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Yh(t),e)}function cf(t,e,n){var r=n.docs.get(e._key),i=new rf(t);return new Rd(t,i,e._key,r,new Nd(n.hasPendingWrites,n.fromCache),e._converter)}var uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Cr.c)(e,t),e.prototype.get=function(e){var n=this,r=nf(e,this._firestore),i=new rf(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Rd(n._firestore,i,r._key,t._document,new Nd(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hd(t)}return t.prototype.get=function(t){var e=this,n=nf(t,this._firestore),r=new tf(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Dr();var i=t[0];if(i.isFoundDocument())return new Ad(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Ad(e._firestore,r,n._key,null,n._converter);throw Dr()})},t.prototype.set=function(t,e,n){var r=nf(t,this._firestore),i=Zd(r._converter,e,n),s=dd(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=nf(t,this._firestore);return s="string"==typeof(e=Object(b.g)(e))||e instanceof ed?_d(this._dataReader,"Transaction.update",o._key,e,n,r):bd(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=nf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function lf(){if("undefined"==typeof Uint8Array)throw new Tr(Er.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hf(){if("undefined"==typeof atob)throw new Tr(Er.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var df=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hf(),new t(nd.fromBase64String(e))},t.fromUint8Array=function(e){return lf(),new t(nd.fromUint8Array(e))},t.prototype.toBase64=function(){return hf(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lf(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ff=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){td(t=Lh(t,Qh));var n=Yh(t),r=t._freezeSettings(),i=new ah;return Zh(n,i,new sh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){td(t=Lh(t,Qh));var e=Yh(t),n=t._freezeSettings(),r=new ah;return Zh(e,r,new oh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Tr(Er.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new va;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Cr.b)(e,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Cr.b)(this,void 0,void 0,function(){return Object(Cr.d)(this,function(e){switch(e.label){case 0:return wa.yt()?[4,wa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(jc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),pf=function(){function t(t,e,n){var r=this;this._delegate=e,this.Jc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sh||(this.Yc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Lh(t,Uh))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ar("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Cr.b)(e,void 0,void 0,function(){var e,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[4,vh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rr(t);return e.$r.delete(0),Ru(e)}(n))]}})})})}(Yh(Lh(this._delegate,Qh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Cr.b)(e,void 0,void 0,function(){var e,n;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[4,vh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Cr.b)(this,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return(e=Rr(t)).$r.add(0),[4,Mu(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Yh(Lh(this._delegate,Qh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Dh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Jc.enableMultiTabIndexedDbPersistence(this):this.Jc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Jc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Yc&&(this.Yc._removeServiceInstance("firestore"),this.Yc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(e,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(r){switch(r.label){case 0:return e=Ml,[4,bh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Yh(Lh(this._delegate,Qh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ch(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Gr.add(e),e.next()},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var e;return Object(Cr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Gr.delete(e)},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Yh(t=Lh(t,Qh)),Wh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yc)throw new Tr(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new If(this,zh(this._delegate,t))}catch(t){throw _f(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new bf(this,Kh(this._delegate,t))}catch(t){throw _f(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ef(this,function(t,e){if(t=Lh(t,Uh),Ah("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tr(Er.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bh(t,null,function(t){return new Ki($r.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw _f(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var n;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return gh(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new lh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Yh(t),function(n){return e(new uf(t,n))})}(this._delegate,function(n){return t(new mf(e,n))})},t.prototype.batch=function(){var t=this;return Yh(this._delegate),new yf(new ef(this._delegate,function(e){return af(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Tr(Er.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Tr(Er.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.c)(e,t),e.prototype.convertBytes=function(t){return new df(new nd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bf.Xc(e,this.firestore,null)},e}(Jd),mf=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.prototype.get=function(t){var e=this,n=kf(t);return this._delegate.get(n).then(function(t){return new Cf(e._firestore,new Rd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=kf(t);return n?(jh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=kf(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Cr.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=kf(t);return this._delegate.delete(e),this},t}(),yf=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=kf(t);return n?(jh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=kf(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Cr.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=kf(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),vf=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Md(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sf(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.Zc=function(e,n){var r=t.tu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new gf(e),n),i.set(n,s)),s},t}();vf.tu=new WeakMap;var bf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.eu=function(e,n,r){if(e.length%2!=0)throw new Tr(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qh(n._delegate,r,new ci(e)))},t.Xc=function(e,n,r){return new t(n,new qh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new If(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new If(this.firestore,zh(this._delegate,t))}catch(t){throw _f(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(b.g)(t))instanceof qh&&Xh(this._delegate,t)},t.prototype.set=function(t,e){e=jh("DocumentReference.set",e);try{return function(t,e,n){t=Lh(t,qh);var r=Lh(t.firestore,Qh),i=Zd(t._converter,e,n);return af(r,[dd(hd(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Es.none())])}(this._delegate,t,e)}catch(t){throw _f(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sf(this._delegate,t):sf.apply(void 0,Object(Cr.f)([this._delegate,t,e],n))}catch(t){throw _f(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return af(Lh((t=this._delegate).firestore,Qh),[new Us(t._key,Es.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wf(e),i=Of(e,function(e){return new Cf(t.firestore,new Rd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return of(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lh(t,qh);var e=Lh(t.firestore,Qh),n=Yh(e),r=new rf(e);return function(t,e){var n=this,r=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var n;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i;return Object(Cr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Tr(Er.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=al(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,yh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Rd(e,r,t._key,n,new Nd(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lh(t,qh);var e=Lh(t.firestore,Qh);return wh(Yh(e),t._key,{source:"server"}).then(function(n){return cf(e,t,n)})}(this._delegate):function(t){t=Lh(t,qh);var e=Lh(t.firestore,Qh);return wh(Yh(e),t._key).then(function(n){return cf(e,t,n)})}(this._delegate)).then(function(t){return new Cf(e.firestore,new Rd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?vf.Zc(this.firestore,e):null))},t}();function _f(t,e,n){return t.message=t.message.replace(e,n),t}function wf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Wh(r))return r}return{}}function Of(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Wh(t[0])?t[0]:Wh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new bf(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Vd(this._delegate,t._delegate)},t}(),Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Cf),Ef=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Bd(this._delegate,function(t,e,n){var r=e,i=Dd("where",t);return new Hd(i,r,n)}(e,n,r)))}catch(e){throw _f(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Bd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Dd("orderBy",t);return new zd(r,n)}(e,n)))}catch(e){throw _f(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Bd(this._delegate,function(t){return Fh("limit",t),new Kd("limit",t,"F")}(e)))}catch(e){throw _f(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Bd(this._delegate,function(t){return Fh("limitToLast",t),new Kd("limitToLast",t,"L")}(e)))}catch(e){throw _f(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw _f(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw _f(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $d("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw _f(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $d("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw _f(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return $h(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lh(t,Bh);var e=Lh(t.firestore,Qh),n=Yh(e),r=new rf(e);return function(t,e){var n=this,r=new va;return t.asyncQueue.enqueueAndForget(function(){return Object(Cr.b)(n,void 0,void 0,function(){var n;return Object(Cr.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Cr.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Cr.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,$c(t,e,!0)];case 1:return a=c.sent(),r=new Cl(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=al(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,yh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Ld(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lh(t,Bh);var e=Lh(t.firestore,Qh),n=Yh(e),r=new rf(e);return Oh(n,t._query,{source:"server"}).then(function(n){return new Ld(e,r,t,n)})}(this._delegate):function(t){t=Lh(t,Bh);var e=Lh(t.firestore,Qh),n=Yh(e),r=new rf(e);return Ud(t._query),Oh(n,t._query).then(function(n){return new Ld(e,r,t,n)})}(this._delegate)).then(function(t){return new xf(e.firestore,new Ld(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wf(e),i=Of(e,function(e){return new xf(t.firestore,new Ld(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return of(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?vf.Zc(this.firestore,e):null))},t}(),Tf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Sf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),xf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ef(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Sf(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Tf(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Sf(n._firestore,r))})},t.prototype.isEqual=function(t){return Vd(this._delegate,t._delegate)},t}(),If=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Cr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bf(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bf(this.firestore,void 0===t?Kh(this._delegate):Kh(this._delegate,t))}catch(t){throw _f(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Lh(t.firestore,Qh),r=Kh(t),i=Zd(t._converter,e);return af(n,[dd(hd(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Es.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new bf(e.firestore,t)})},e.prototype.isEqual=function(t){return Xh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?vf.Zc(this.firestore,t):null))},e}(Ef);function kf(t){return Lh(t,qh)}var Pf,Af=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ed.bind.apply(ed,Object(Cr.f)([void 0],t)))}return t.documentId=function(){return new t(Wr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(b.g)(t))instanceof ed&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),jf=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new fd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new md("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new vd("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Df=n("/6Yf"),Nf={Firestore:pf,GeoPoint:id,Timestamp:qr,Blob:df,Transaction:mf,WriteBatch:yf,DocumentReference:bf,DocumentSnapshot:Cf,Query:Ef,QueryDocumentSnapshot:Sf,QuerySnapshot:xf,CollectionReference:If,FieldPath:Af,FieldValue:jf,setLogLevel:function(t){xr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Df.a("firestore",function(t){return function(t,e){return new pf(t,new Qh(t,e),new ff)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Nf)))})(Pf=v.a),Pf.registerVersion("@firebase/firestore","2.2.2");var Rf=n("XNiG"),Mf=n("VRyK"),Lf=n("eIep"),Ff=n("UXun"),Vf=n("SxV6");function Uf(t,e){return e?Object(Lf.a)(()=>t,e):Object(Lf.a)(()=>t)}var qf=n("tf+s");const Bf=new r.r("angularfire2.auth.use-emulator"),Hf=new r.r("angularfire2.auth.settings"),zf=new r.r("angularfire2.auth.tenant-id"),Kf=new r.r("angularfire2.auth.langugage-code"),Xf=new r.r("angularfire2.auth.use-device-language"),$f=new r.r("angularfire.auth.persistence");let Gf=(()=>{class t{constructor(t,e,r,i,c,u,h,d,y,v){const b=new g.d(i),_=Object(g.h)(b),w=new Rf.a,O=Object(a.a)(void 0).pipe(Object(p.b)(b.outsideAngular),Object(Lf.a)(()=>i.runOutsideAngular(()=>n.e(6).then(n.bind(null,"6nsN")))),Object(l.a)(()=>Object(g.g)(t,i,e)),Object(l.a)(t=>i.runOutsideAngular(()=>{const e=c,n=u;return Object(g.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),h&&(r.tenantId=h),r.languageCode=d,y&&r.useDeviceLanguage(),n&&(r.settings=n),v&&r.setPersistence(v),r},[e,h,d,y,n,v])})),Object(Ff.a)({bufferSize:1,refCount:!1}));if(Object(m.q)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(a.a)(null);else{O.pipe(Object(Vf.a)()).subscribe();const t=O.pipe(Object(Lf.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),_,Object(Ff.a)({bufferSize:1,refCount:!1})),e=t=>new s.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=O.pipe(Object(Lf.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=O.pipe(Object(Lf.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Uf(n),Object(qf.a)(b.outsideAngular),Object(p.b)(b.insideAngular)),this.user=t.pipe(Uf(r),Object(qf.a)(b.outsideAngular),Object(p.b)(b.insideAngular)),this.idToken=this.user.pipe(Object(Lf.a)(t=>t?Object(o.a)(t.getIdToken()):Object(a.a)(null))),this.idTokenResult=this.user.pipe(Object(Lf.a)(t=>t?Object(o.a)(t.getIdTokenResult()):Object(a.a)(null))),this.credential=Object(Mf.a)(t,w,this.authState.pipe(Object(f.a)(t=>!t))).pipe(Object(l.a)(t=>(null==t?void 0:t.user)?t:null),Object(qf.a)(b.outsideAngular),Object(p.b)(b.insideAngular))}return Object(g.i)(this,O,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>w.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(g.c),r.Xb(g.b,8),r.Xb(r.C),r.Xb(r.A),r.Xb(Bf,8),r.Xb(Hf,8),r.Xb(zf,8),r.Xb(Kf,8),r.Xb(Xf,8),r.Xb($f,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(g.c),Object(r.Xb)(g.b,8),Object(r.Xb)(r.C),Object(r.Xb)(r.A),Object(r.Xb)(Bf,8),Object(r.Xb)(Hf,8),Object(r.Xb)(zf,8),Object(r.Xb)(Kf,8),Object(r.Xb)(Xf,8),Object(r.Xb)($f,8))},token:t,providedIn:"any"}),t})();function Wf(t,e){return function(t,e=i.b){return new s.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Qf(t,e){return Wf(t,e).pipe(Object(l.a)(t=>({payload:t,type:"query"})))}function Yf(t,e){return Qf(t,e).pipe(Object(c.a)(void 0),Object(u.a)(),Object(l.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Jf(t,e,n){return Yf(t,n).pipe(Object(h.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zf(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zf(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zf(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(d.a)(),Object(l.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zf(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function tp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(g.e)(Gf,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class ep{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Yf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(c.a)(void 0),Object(u.a)(),Object(f.a)(([t,e])=>e.length>0||!t),Object(l.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(h.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tp(t);return Jf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Qf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new np(this.ref.doc(t),this.afs)}}class np{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=cp(n,e);return new ep(r,i,this.afs)}snapshotChanges(){return Wf(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(c.a)(void 0),Object(u.a)(),Object(l.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(l.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(o.a)(this.ref.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}class rp{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Yf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(f.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Yf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(h.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tp(t);return Jf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Qf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(l.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}const ip=new r.r("angularfire2.enableFirestorePersistence"),sp=new r.r("angularfire2.firestore.persistenceSettings"),op=new r.r("angularfire2.firestore.settings"),ap=new r.r("angularfire2.firestore.use-emulator");function cp(t,e=(t=>t)){return{query:e(t),ref:t}}let up=(()=>{class t{constructor(t,e,n,r,i,s,c,u,l){this.schedulers=new g.d(s),this.keepUnstableUntilFirst=Object(g.h)(this.schedulers);const h=Object(g.g)(t,s,e);!y.a.auth&&l&&Object(g.j)();const d=u;[this.firestore,this.persistenceEnabled$]=Object(g.f)(`${h.name}.firestore`,"AngularFirestore",h,()=>{const t=s.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),d&&t.useEmulator(...d),n&&!Object(m.q)(i)){const e=()=>{try{return Object(o.a)(t.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Pf){return"undefined"!=typeof console&&console.warn(Pf),Object(a.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=cp(n,e),s=this.schedulers.ngZone.run(()=>r);return new ep(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new rp(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new np(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(g.c),r.Xb(g.b,8),r.Xb(ip,8),r.Xb(op,8),r.Xb(r.C),r.Xb(r.A),r.Xb(sp,8),r.Xb(ap,8),r.Xb(Bf,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(g.c),Object(r.Xb)(g.b,8),Object(r.Xb)(ip,8),Object(r.Xb)(op,8),Object(r.Xb)(r.C),Object(r.Xb)(r.A),Object(r.Xb)(sp,8),Object(r.Xb)(ap,8),Object(r.Xb)(Bf,8))},token:t,providedIn:"any"}),t})(),lp=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ip,useValue:!0},{provide:sp,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[up]}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IRxH:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-progress-bar"]],decls:2,vars:0,consts:[[1,"progress"],[1,"indeterminate",2,"width","70%"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Ob(1,"div",1),r.Sb())},styles:['.progress[_ngcontent-%COMP%]{position:relative;height:5px;display:block;width:100%;background-color:var(--secondary-light);overflow:hidden}.progress[_ngcontent-%COMP%]   .determinate[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;transition:width .3s linear}.progress[_ngcontent-%COMP%]   .determinate[_ngcontent-%COMP%], .progress[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]{background-color:var(--secondary)}.progress[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{animation:indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after, .progress[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right}.progress[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after{animation:indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}']}),t})()},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},J8y7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL"),i=n("kzYg");let s=(()=>{class t{constructor(t){this.menuService=t,this._isDisabled=!1}set itemDisabled(t){this._isDisabled=t}get isDisabled(){return this._isDisabled}get isEnabled(){return!this.isDisabled}onClick(){this.isDisabled||this.menuService.hide()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(i.a))},t.\u0275dir=r.Ib({type:t,selectors:[["","appMenuItem",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",function(t){return e.onClick(t)}),2&t&&r.Fb("disabled",e.isDisabled)},inputs:{itemDisabled:"itemDisabled"}}),t})()},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const s=Object(r.c)(n,i);s!==i&&this.add(s)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.2","app")},KM81:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("fXoL"),i=n("PyX0");const s=["*"];let o=(()=>{class t{constructor(t,e){this.radioGroupService=t,this.elementRef=e,this.isSelected=!1}ngOnInit(){this.radioGroupService.addOption(this)}select(){this.enabled&&this.radioGroupService.select(this)}onKeyDown(t){this.enabled&&" "===t.key&&(this.select(),t.preventDefault())}get disabled(){return this.formControl.disabled}get formControl(){return this.radioGroupService.formControl}get enabled(){return this.formControl.enabled}get tabindex(){return this.enabled?0:-1}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(i.a),r.Nb(r.l))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-radio-option"]],hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("selected",e.isSelected)("disabled",e.disabled)},inputs:{value:"value"},ngContentSelectors:s,decls:3,vars:1,consts:[["role","button",1,"wrapper",3,"tabindex","click","keydown"],[1,"radio"]],template:function(t,e){1&t&&(r.hc(),r.Tb(0,"div",0),r.ac("click",function(){return e.select()})("keydown",function(t){return e.onKeyDown(t)}),r.Ob(1,"div",1),r.gc(2),r.Sb()),2&t&&r.ic("tabindex",e.tabindex)},styles:['[_nghost-%COMP%]{--radio-size:19px;--radio-color:var(--font-color);--cursor:pointer;--background:var(--input-background);display:flex;margin:9px 0}[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:var(--cursor);outline:none;color:var(--radio-color)}[_nghost-%COMP%]:not(.disabled)   .wrapper[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]:not(.disabled)   .wrapper[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]:hover{border-width:2px}.selected[_nghost-%COMP%]   .radio[_ngcontent-%COMP%]{--background:#000}.selected[_nghost-%COMP%]   .radio[_ngcontent-%COMP%]:before{--radio-size:9px;content:"";display:block;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);border-radius:50%;background:var(--content-very-light)}.disabled[_nghost-%COMP%]   .radio[_ngcontent-%COMP%]{--radio-color:var(--content-dark);--background:var(--content-dark);--cursor:not-allowed}[_nghost-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);border-radius:50%;margin-right:14px;border:1px solid var(--radio-color);background-color:var(--background);outline:none;transition:var(--btn-transition)}']}),t})()},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},Kszi:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("rDax"),i=n("+rOU"),s=n("tyNb"),o=n("fXoL"),a=n("ofXK");function c(t,e){1&t&&o.Pb(0)}let u=(()=>{class t{constructor(){this.closed=new o.n}handleKeydown(t){"Escape"===t.key&&this.close()}close(){this.overlayRef.dispose(),this.closed.next(),this.closed.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["app-modal"]],hostVars:1,hostBindings:function(t,e){1&t&&o.ac("keydown",function(t){return e.handleKeydown(t)},!1,o.mc),2&t&&o.Db("data-size",e.modalSize)},outputs:{closed:"closed"},decls:7,vars:3,consts:[[1,"title"],[1,"material-icons",3,"click"],[1,"content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"h3"),o.uc(2),o.Sb(),o.Tb(3,"i",1),o.ac("click",function(){return e.close()}),o.uc(4,"close"),o.Sb(),o.Sb(),o.Tb(5,"div",2),o.sc(6,c,1,0,"ng-container",3),o.Sb()),2&t&&(o.Cb(2),o.vc(e.title),o.Cb(4),o.ic("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",e.templateContext))},directives:[a.l],styles:["[_nghost-%COMP%]{padding:20px;background:var(--content-very-light);box-shadow:0 0 3px 0 rgba(0,0,0,.5);animation:scale-in .15s}@keyframes scale-in{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}[data-size=big][_nghost-%COMP%]{width:746px}[data-size=medium][_nghost-%COMP%]{width:530px}[data-size=small][_nghost-%COMP%]{width:480px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),l=(()=>{class t{constructor(t,e){this.overlay=t,e.events.subscribe(t=>{t instanceof s.b&&this.closeCurrent()})}open(t,e,n={size:"medium"}){const s=new r.b({positionStrategy:this.overlay.position().global().centerHorizontally().top("15vh"),hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block()}),o=this.overlay.create(s),a=new i.b(u),c=o.attach(a);return this.modal=c.instance,this.modal.overlayRef=o,this.modal.templateRef=e,this.modal.templateContext=n.templateContext,this.modal.title=t,this.modal.modalSize=n.size,o.backdropClick().subscribe(()=>this.closeCurrent()),this.modal.closed.subscribe(()=>this.modal=null),this.modal}closeCurrent(){this.modal&&this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a),o.Xb(s.e))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},LzDw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("AytR"),i=n("fXoL"),s=n("tyNb"),o=n("ofXK"),a=n("EHvl"),c=n("J8y7");function u(t,e){1&t&&(i.Tb(0,"a",8),i.uc(1,"playground"),i.Sb())}function l(t,e){if(1&t&&(i.Tb(0,"div",5),i.Tb(1,"a",6),i.Tb(2,"i",2),i.uc(3,"more_vert"),i.Sb(),i.Sb(),i.sc(4,u,2,0,"ng-template",null,7,i.tc),i.Sb()),2&t){const t=i.lc(5);i.Cb(1),i.ic("appMenu",t)}}let h=(()=>{class t{constructor(){this.features=r.a.features}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-top-bar"]],decls:8,vars:1,consts:[[1,"logo"],["routerLink","/"],[1,"material-icons"],["routerLink","/playground"],["class","navigation",4,"ngIf"],[1,"navigation"],[3,"appMenu"],["tmpMenuItem",""],["appMenuItem","","routerLink","playground"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"a",1),i.Tb(2,"i",2),i.uc(3,"home"),i.Sb(),i.uc(4,"Home"),i.Sb(),i.Tb(5,"a",3),i.uc(6,"Playground"),i.Sb(),i.Sb(),i.sc(7,l,6,1,"div",4)),2&t&&(i.Cb(7),i.ic("ngIf",e.features.playground))},directives:[s.g,o.k,a.a,c.a],styles:["[_nghost-%COMP%]{justify-content:space-between;background:var(--primary);padding:15px 10px}[_nghost-%COMP%], [_nghost-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--content-very-light)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})()},MnCw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3Pt+");function i(t){if(t.validator){const e=t.validator(r.p.required);return e&&e.required}return!1}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},"P/Yz":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("ofXK"),i=n("3Pt+"),s=(n("93s0"),n("lED/"),n("68if"),n("TigF"),n("KM81"),n("583G")),o=n("fXoL");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({providers:[s.a],imports:[[r.b,i.h,i.o]]}),t})()},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ofXK"),i=n("3Pt+"),s=n("rDax"),o=n("Kszi"),a=n("fXoL");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({providers:[o.a],imports:[[r.b,s.c],s.c]}),t})();const u=[r.b,i.h,i.o,c];let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({imports:[[u],r.b,i.h,i.o,c]}),t})()},PyX0:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{constructor(){this.change=new r.n,this.options=[]}addOption(t){this.options.push(t),this.initialValue===t.value&&(t.isSelected=!0)}select(t){this.options.forEach(t=>t.isSelected=!1),t.isSelected=!0,this.formControl&&(this.formControl.markAsDirty(),this.formControl.setValue(t.value)),this.change.next(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},R0Ic:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p});class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function c(t,e=null){return{type:2,steps:t,options:e}}function u(t){return{type:6,styles:t,offset:null}}function l(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function h(t){Promise.resolve(null).then(t)}class d{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class f{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?h(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const p="!"},R8Gn:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL");const i=["content"];let s=(()=>{class t{constructor(){this.closingPromise=new Promise((t,e)=>{this.closingResolve=t})}ngOnInit(){this.templateRef?this.content.createEmbeddedView(this.templateRef):console.error("SimpleMenuComponent: template not specified")}onHistoryChange(){this.hide()}hide(){this.closingResolve()}ngOnDestroy(){this.hide()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-simple-menu"]],viewQuery:function(t,e){if(1&t&&r.xc(i,7,r.R),2&t){let t;r.kc(t=r.bc())&&(e.content=t.first)}},hostBindings:function(t,e){1&t&&r.ac("popstate",function(){return e.onHistoryChange()},!1,r.nc)},decls:3,vars:0,consts:[[1,"content"],["content",""]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Pb(1,null,1),r.Sb())},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     a{padding:10px}[_nghost-%COMP%]     a:hover{text-decoration:initial;color:var(--content-very-light);background:var(--content)}[_nghost-%COMP%]     a.disabled{color:var(--content-dark);cursor:not-allowed}@keyframes scale-in{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{--box-shadow:0 4px 6px 0 rgba(0,0,0,0.1);display:flex;flex-direction:column;animation:scale-in .15s;box-shadow:var(--box-shadow),var(--box-shadow);background:var(--content-very-light)}"]}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function u(t,e){const n=arguments.length>=2;return u=>u.pipe(t?Object(i.a)((e,n)=>t(e,n,u)):c.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},TigF:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7KQv"),i=n("PyX0"),s=n("fXoL");const o=["*"];let a=(()=>{class t extends r.a{constructor(t){super(),this.radioGroupService=t,this.change=this.radioGroupService.change}ngOnInit(){super.ngOnInit(),this.radioGroupService.formControl=this.formControl,this.radioGroupService.initialValue=this.value?this.value:this.formControl.value}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(i.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-radio-group"]],inputs:{value:"value"},outputs:{change:"change"},features:[s.Bb([i.a]),s.zb],ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(s.hc(),s.gc(0))},styles:['.touched.invalid[_nghost-%COMP%]{--input-border-color:var(--danger)}.focused[_nghost-%COMP%]{--input-border-color:var(--input-border-color-active)}.required[_nghost-%COMP%]   .label[_ngcontent-%COMP%]:after{content:"*";color:var(--danger)}.disabled[_nghost-%COMP%]{cursor:not-allowed;opacity:.6}',"[_nghost-%COMP%]{margin-bottom:45px;display:block}"]}),t})()},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,o,a=0,c=!1,u=!1;return function(l){let h;a++,!s||c?(c=!1,s=new r.a(t,e,i),h=s.subscribe(this),o=l.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){u=!0,o=void 0,s.complete()}}),u&&(o=void 0)):h=s.subscribe(this),this.add(()=>{a--,h.unsubscribe(),h=void 0,o&&!u&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(i))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},VqzS:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("+rOU"),i=n("quSY"),s=n("pLZG"),o=n("IzEk"),a=n("o6G+"),c=n("fXoL"),u=n("rDax"),l=n("jtHE"),h=n("/uUt");let d=(()=>{class t{constructor(){this._isTabletOnly$=new l.a,this.isTabletOnly$=this._isTabletOnly$.asObservable().pipe(Object(h.a)()),this._isTabletOrBelow$=new l.a,this.isTabletOrBelow$=this._isTabletOrBelow$.asObservable().pipe(Object(h.a)()),this._isMobile$=new l.a,this.isMobile$=this._isMobile$.asObservable().pipe(Object(h.a)()),this._isDesktop$=new l.a,this.isDesktop$=this._isDesktop$.asObservable().pipe(Object(h.a)()),this._isSmartphone$=new l.a,this.isSmartphone$=this._isSmartphone$.asObservable().pipe(Object(h.a)()),this._isTabletOrAbove$=new l.a,this.isTabletOrAbove$=this._isTabletOrAbove$.asObservable().pipe(Object(h.a)()),window.addEventListener("resize",()=>{this.checkResolution()}),this.checkResolution()}get isMobile(){return window.innerWidth<=1024}get isDesktop(){return window.innerWidth>1024}get isTabletOrAbove(){return window.innerWidth>=768}get isTabletOrBelow(){return window.innerWidth<=767}get isSmartphone(){return window.innerWidth<=468}get isTabletOnly(){return window.innerWidth<=768&&window.innerWidth>468}checkResolution(){this._isTabletOrBelow$.next(this.isTabletOrBelow),this._isMobile$.next(this.isMobile),this._isDesktop$.next(this.isDesktop),this._isSmartphone$.next(this.isSmartphone),this._isTabletOrAbove$.next(this.isTabletOrAbove),this._isTabletOnly$.next(this.isTabletOnly)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f=(()=>{class t{constructor(t,e,n,r){this.overlay=t,this.overlayPositionBuilder=e,this.elementRef=n,this.responsivenessService=r,this.subscription=new i.a,this.tooltipText=""}ngOnInit(){const t=this.overlay.scrollStrategies.close();let e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetY:-8,offsetX:8}]);this.subscription.add(this.responsivenessService.isTabletOrBelow$.pipe(Object(s.a)(t=>!!t),Object(o.a)(1)).subscribe(t=>{t&&(e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:10,offsetX:0}]))})),this.overlayRef=this.overlay.create({positionStrategy:e,scrollStrategy:t})}ngOnDestroy(){this.subscription.unsubscribe()}show(){const t=new r.b(a.a);this.overlayRef.attach(t).instance.text=this.tooltipText}hide(){this.overlayRef.detach()}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(u.a),c.Nb(u.d),c.Nb(c.l),c.Nb(d))},t.\u0275dir=c.Ib({type:t,selectors:[["","appTooltip",""]],hostBindings:function(t,e){1&t&&c.ac("mouseenter",function(){return e.show()})("mouseleave",function(){return e.hide()})},inputs:{tooltipText:"tooltipText"}}),t})()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=c){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YoVG:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("q/i9"),i=n("fXoL"),s=n("ofXK");function o(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",2),i.ac("click",function(){const e=i.oc(t).$implicit;return i.dc().activateTab(e)}),i.uc(1),i.Sb()}if(2&t){const t=e.$implicit,n=i.dc();i.Fb("active",t===n.activeTab),i.Cb(1),i.wc(" ",t.tabTitle," ")}}const a=["*"];let c=(()=>{class t{ngAfterContentInit(){this.activateTab(this.tabs.first)}activateTab(t){this.activeTab&&this.activeTab.hide(),this.activeTab=t,this.activeTab.show()}activateFirstTab(){this.activateTab(this.tabs.first)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-tabs"]],contentQueries:function(t,e,n){if(1&t&&i.Gb(n,r.a,4),2&t){let t;i.kc(t=i.bc())&&(e.tabs=t)}},ngContentSelectors:a,decls:3,vars:1,consts:[[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab",3,"click"]],template:function(t,e){1&t&&(i.hc(),i.Tb(0,"div",0),i.sc(1,o,2,3,"div",1),i.Sb(),i.gc(2)),2&t&&(i.Cb(1),i.ic("ngForOf",e.tabs))},directives:[s.j],styles:["[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]{padding-bottom:8px}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:5px;cursor:pointer}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:first-of-type){margin-left:10px}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{border-bottom:2px solid var(--font-color)}"]}),t})()},Zy1z:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new o(t))}}class o extends r.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return Nc}),n.d(e,"c",function(){return kc}),n.d(e,"d",function(){return xc}),n.d(e,"e",function(){return Ic}),n.d(e,"f",function(){return xu}),n.d(e,"g",function(){return yu}),n.d(e,"h",function(){return Pa}),n.d(e,"i",function(){return Kc}),n.d(e,"j",function(){return ta}),n.d(e,"k",function(){return Lc}),n.d(e,"l",function(){return ia}),n.d(e,"m",function(){return wr}),n.d(e,"n",function(){return oc}),n.d(e,"o",function(){return cs}),n.d(e,"p",function(){return Tn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return Cs}),n.d(e,"t",function(){return Ca}),n.d(e,"u",function(){return Ea}),n.d(e,"v",function(){return Mc}),n.d(e,"w",function(){return qa}),n.d(e,"x",function(){return bu}),n.d(e,"y",function(){return Ua}),n.d(e,"z",function(){return du}),n.d(e,"A",function(){return Gc}),n.d(e,"B",function(){return xn}),n.d(e,"C",function(){return Dc}),n.d(e,"D",function(){return jc}),n.d(e,"E",function(){return cc}),n.d(e,"F",function(){return aa}),n.d(e,"G",function(){return oa}),n.d(e,"H",function(){return Tr}),n.d(e,"I",function(){return ua}),n.d(e,"J",function(){return pr}),n.d(e,"K",function(){return In}),n.d(e,"L",function(){return Ou}),n.d(e,"M",function(){return Ma}),n.d(e,"N",function(){return eu}),n.d(e,"O",function(){return on}),n.d(e,"P",function(){return ha}),n.d(e,"Q",function(){return la}),n.d(e,"R",function(){return Ha}),n.d(e,"S",function(){return L}),n.d(e,"T",function(){return fu}),n.d(e,"U",function(){return lu}),n.d(e,"V",function(){return g}),n.d(e,"W",function(){return Cn}),n.d(e,"X",function(){return uu}),n.d(e,"Y",function(){return Eu}),n.d(e,"Z",function(){return iu}),n.d(e,"ab",function(){return Rc}),n.d(e,"bb",function(){return ls}),n.d(e,"cb",function(){return Uo}),n.d(e,"db",function(){return dr}),n.d(e,"eb",function(){return Wn}),n.d(e,"fb",function(){return Fn}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return Bn}),n.d(e,"jb",function(){return qn}),n.d(e,"kb",function(){return Hn}),n.d(e,"lb",function(){return Mo}),n.d(e,"mb",function(){return Su}),n.d(e,"nb",function(){return Lo}),n.d(e,"ob",function(){return Fo}),n.d(e,"pb",function(){return Vn}),n.d(e,"qb",function(){return B}),n.d(e,"rb",function(){return Ds}),n.d(e,"sb",function(){return Js}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return Ys}),n.d(e,"vb",function(){return Ro}),n.d(e,"wb",function(){return xt}),n.d(e,"xb",function(){return d}),n.d(e,"yb",function(){return Ln}),n.d(e,"zb",function(){return Es}),n.d(e,"Ab",function(){return _t}),n.d(e,"Bb",function(){return Yo}),n.d(e,"Cb",function(){return fi}),n.d(e,"Db",function(){return Ms}),n.d(e,"Eb",function(){return Po}),n.d(e,"Fb",function(){return mo}),n.d(e,"Gb",function(){return _c}),n.d(e,"Hb",function(){return Z}),n.d(e,"Ib",function(){return ot}),n.d(e,"Jb",function(){return O}),n.d(e,"Kb",function(){return C}),n.d(e,"Lb",function(){return rt}),n.d(e,"Mb",function(){return at}),n.d(e,"Nb",function(){return Us}),n.d(e,"Ob",function(){return Ks}),n.d(e,"Pb",function(){return Gs}),n.d(e,"Qb",function(){return $s}),n.d(e,"Rb",function(){return Xs}),n.d(e,"Sb",function(){return zs}),n.d(e,"Tb",function(){return Hs}),n.d(e,"Ub",function(){return Ws}),n.d(e,"Vb",function(){return Je}),n.d(e,"Wb",function(){return Ao}),n.d(e,"Xb",function(){return On}),n.d(e,"Yb",function(){return tn}),n.d(e,"Zb",function(){return Tc}),n.d(e,"ac",function(){return Zs}),n.d(e,"bc",function(){return wc}),n.d(e,"cc",function(){return me}),n.d(e,"dc",function(){return no}),n.d(e,"ec",function(){return ic}),n.d(e,"fc",function(){return sc}),n.d(e,"gc",function(){return so}),n.d(e,"hc",function(){return io}),n.d(e,"ic",function(){return qs}),n.d(e,"jc",function(){return oo}),n.d(e,"kc",function(){return vc}),n.d(e,"lc",function(){return Vs}),n.d(e,"mc",function(){return Sr}),n.d(e,"nc",function(){return Cr}),n.d(e,"oc",function(){return Kt}),n.d(e,"pc",function(){return gr}),n.d(e,"qc",function(){return it}),n.d(e,"rc",function(){return go}),n.d(e,"sc",function(){return Fs}),n.d(e,"tc",function(){return Ec}),n.d(e,"uc",function(){return xo}),n.d(e,"vc",function(){return Io}),n.d(e,"wc",function(){return ko}),n.d(e,"xc",function(){return bc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),c=n("x+ZX");function u(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,x)||E(t,k)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(P))?t[I]:null}const x=l({"\u0275prov":l}),I=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),P=l({ngInjectorDef:l});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function D(t){const e=j;return j=t,e}function N(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||V||U,H={},z=[],K=l({"\u0275cmp":l}),X=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),G=l({"\u0275mod":l}),W=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let J=0;function Z(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[X]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{nt[t.id]=t.type}),e}function it(t,e){return R(()=>{const n=ut(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=Z;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function ut(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),Ot}function Ot(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===H),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let Tt;function xt(t){Tt=t}function It(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return Pt(e[t])}function jt(t,e){return Pt(e[t.index])}function Dt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function zt(){return qt.lFrame.tView}function Kt(t){return qt.lFrame.contextLView=t,t[8]}function Xt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return qt.lFrame.currentTNode}function Gt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return qt.lFrame.isParent}function Qt(){qt.lFrame.isParent=!1}function Yt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Zt(){return qt.lFrame.bindingIndex++}function te(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){qt.lFrame.currentDirectiveIndex=t}function re(){return qt.lFrame.currentQueryIndex}function ie(t){qt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ce(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return qt.lFrame.selectedIndex}function pe(t){qt.lFrame.selectedIndex=t}function ge(){const t=qt.lFrame;return Dt(t.tView,t.selectedIndex)}function me(){qt.lFrame.currentNamespace=Et}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){we(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ce=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Te(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return t!==Ce}function Ae(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Ne(t){const e=De;return De=t,e}let Re=0;function Me(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Ve(t,e),s=t.injectorIndex;if(Pe(i)){const t=Ae(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Re++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function qe(t,e,n){if(n&A.Optional)return t;w(e,"NodeInjector")}function Be(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&A.Optional):N(e,r,n&A.Optional)}finally{D(s)}}return qe(r,e,n)}function He(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!oe(e,t,r))return r&A.Host?qe(i,n,r):Be(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;w(n)}finally{he()}}else if("number"==typeof s){let i=null,o=Fe(t,e),a=Ce,c=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],a!==Ce&&Qe(r,!1)?(i=e[1],o=Ae(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if(We(s,o,t.data)){const t=Xe(o,e,n,i,r,c);if(t!==ze)return t}a=e[o+8],a!==Ce&&Qe(r,e[1].data[o+8]===c)&&We(s,o,e)?(i=t,o=Ae(a),e=je(a,e)):o=-1}}}return Be(e,n,r,i)}const ze={};function Ke(){return new Ye(Xt(),Ht())}function Xe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=$e(a,o,n,null==r?gt(a)&&De:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?Ge(e,o,c,a):ze}function $e(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&yt(t)&&t.type===n)return c}return null}function Ge(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Se){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Ne(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;oe(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&D(c),Ne(a),o.resolving=!1,he()}}return i}function We(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&A.Self||t&A.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function Je(t){return R(()=>{const e=t.prototype.constructor,n=e[Q]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ze(t){return y(t)?()=>{const e=Ze(m(t));return e&&e()}:vt(t)}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Xt(),t)}const en="__parameters__";function nn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sn=new rn("AnalyzeForEntryComponents"),on=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},mn=/\n/gm,yn="__source",vn=l({provide:String,useValue:l});let bn;function _n(t){const e=bn;return bn=t,e}function wn(t,e=A.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?N(t,void 0,e):bn.get(t,e&A.Optional?null:void 0,e)}function On(t,e=A.Default){return(j||wn)(m(t),e)}const Cn=On;function Sn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Tn=En(nn("Inject",t=>({token:t})),-1),xn=En(nn("Optional"),8),In=En(nn("SkipSelf"),4);let kn;function Pn(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,B.trustedTypes))try{kn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jn extends An{getTypeName(){return"HTML"}}class Dn extends An{getTypeName(){return"Style"}}class Nn extends An{getTypeName(){return"Script"}}class Rn extends An{getTypeName(){return"URL"}}class Mn extends An{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof An&&t.getTypeName()||null}function Un(t){return new jn(t)}function qn(t){return new Dn(t)}function Bn(t){return new Nn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Mn(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Xn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match($n)||t.match(Gn)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Yn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Qn("area,br,col,hr,img,wbr"),Zn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Qn("rp,rt"),er=Yn(tr,Zn),nr=Yn(Jn,Yn(Zn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yn(tr,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Qn("srcset"),sr=Yn(rr,ir,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Qn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;rr[s]&&(o=Wn(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ur=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ur,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(t,e){let n=null;try{hr=hr||function(t){const e=new Xn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);return Pn((new ar).sanitizeChildren(fr(n)||n))}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(pr.URL,t)||"":Fn(t,"URL")?Ln(t):Wn(b(t))}function mr(t,e){t.__ngContext__=e}function yr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function vr(t){return t.ngDebugContext}function br(t){return t.ngOriginalError}function _r(t,...e){t.error(...e)}class wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_r}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vr(t)?vr(t):this._findContext(br(t)):null}_findOriginalError(t){let e=br(t);for(;e&&br(e);)e=br(e);return e}}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Sr(t){return{name:"document",target:t.ownerDocument}}function Er(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return ft(e)?e[3]:e}function kr(t){return Ar(t[13])}function Pr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!ft(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Pt(r);0===t&&null!==n?null==i?Ur(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Pt(n)&&jr(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];Qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Dr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Rr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Nr(s,r),e>0&&(t[n-1][4]=r[4]);const o=ln(t,ht+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Pt(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return jt(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):Ur(t,e,n)}function Br(t,e){return It(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?jt(t,n):null};function Kr(t,e,n,r){const i=Fr(t,r,e),s=e[11],o=Hr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(s,i,n[a],o,!1);else qr(s,i,n,o,!1)}function Xr(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Xr(t,n);{const n=t[e.index];return ft(n)?Gr(-1,n):Pt(n)}}if(32&n)return xr(e,t)()||Pt(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:Xr(Ir(t[16]),n):Xr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Xr(t,r)}return e[7]}function Wr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&mr(Pt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Wr(t,e,n.child,r,i,s,!1),jr(e,t,i,a,s);else if(32&c){const o=xr(n,r);let c;for(;c=o();)jr(e,t,i,c,s);jr(e,t,i,a,s)}else 16&c?Yr(t,e,r,n,i,s):jr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qr(t,e,n,r,i,s){Wr(n,r,t.firstChild,e,i,s,!1)}function Yr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)jr(e,t,i,a[c],s);else Wr(t,e,a,o[3],i,s,!0)}function Jr(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ii(t,c,n)||""===c&&1===e.length){if(oi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,u,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":c,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,u,0)||2&r&&u!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(c))return!1;if(o&&oi(c))continue;o=!1,r=c|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=li(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=li(s,i)),e}const di={};function fi(t){pi(zt(),Ht(),fe()+t,Yt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}pe(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function yi(t){return 2|t}function vi(t){return(131068&t)>>2}function bi(t,e){return-131069&t|e<<2}function _i(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ie(i),n.contentQueries(2,e[s],s)}}}function Oi(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ci(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=$t(),o=Wt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Gt(s,!0),s}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ei(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&es(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Qi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const s=Yt();try{Vt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),_e(e,0)}if(function(t){for(let e=kr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=kr(t);null!==e;e=Pr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,s=n[++t],o=n[++t];ee(s,i),o(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&es(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{de()}}function xi(t,e,n,r){const i=e[10],s=!Yt(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ei(t,e,r),Ti(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ii(t,e,n,r,i){const s=fe();try{pe(-1),2&r&&e.length>lt&&pi(t,e,lt,Yt()),n(r,i)}finally{pe(s)}}function ki(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Pi(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),mr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&zi(e,n,r);const c=Ge(e,t,a,n);mr(c,e),null!==o&&Ki(0,a-i,c,r,0,o),s&&(Rt(n.index,e)[8]=c)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qt.lFrame.currentDirectiveIndex;try{pe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{pe(-1),ne(o)}}(t,e,n))}function Ai(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Di(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Di(t,e,n,r,i,s,o,a,c,u){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ni(t,e,n,r){const i=rs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&is(t).push(r,i.length-1))}function Ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,s,o,a){const c=jt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(os(t,n,u,r,i),gt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(c,r,i):xe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Li(t,e,n,r){let i=!1;if(Bt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),Ue(Me(n,e),t,o.type),yt(o)?(Ui(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Bi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Si(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ie(n.mergedAttrs,u.hostAttrs),Hi(t,n,e,c,u),qi(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||ri(e)?null:Xi(n,i);s.push(u),o=Ri(n,c,o),a=Ri(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),i}function Fi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new Se(s,yt(i),null);t.blueprint[r]=o,n[r]=o,Fi(t,e,0,r,Si(t,n,i.hostVars,di),i)}function zi(t,e,n){const r=jt(e,t),i=ji(n),s=t[10],o=Yi(t,Oi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ki(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Xi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=kr(t);null!==n;n=Pr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&Wi(r)}}function Qi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ei(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw ss(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=yr(n),i=r[1];xi(i,r,i.template,n)}}(t[8])}function es(t,e,n){ie(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function rs(t){return t[7]||(t[7]=[])}function is(t){return t.cleanup||(t.cleanup=[])}function ss(t,e){const n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function os(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const cs=new rn("INJECTOR",-1);class us{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new rn("Set Injector scope."),hs={},ds={};let fs;function ps(){return void 0===fs&&(fs=new us),fs}function gs(t,e=null,n=null,r){return new ms(t,n,e||ps(),r)}class ms{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(cs,bs(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=A.Default){this.assertNotDestroyed();const r=_n(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&S(t);e=n&&this.injectableDefInScope(n)?bs(ys(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?ps():this.parent).get(t,e=n&A.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{_n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||z))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,bs(a,hs));const c=r.providers;if(null!=c&&!o){const e=t;cn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ws(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return _s(t)?bs(void 0,t.useValue):bs(vs(t),hs)}(t);if(ws(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=bs(void 0,hs,!0),e.factory=()=>Sn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ys(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof rn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vs(t,e,n){let r;if(ws(t)){const e=m(t);return vt(e)||ys(e)}if(_s(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Sn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ys(e);r=()=>new e(...Sn(t.deps))}var i;return r}function bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _s(t){return null!==t&&"object"==typeof t&&vn in t}function ws(t){return"function"==typeof t}const Os=function(t,e,n){return function(t,e=null,n=null,r){const i=gs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?Os(t,e,""):Os(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new us,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>On(cs)}),t.__NG_ELEMENT_ID__=-1,t})();function Ss(t,e){ye(yr(t)[1],Xt())}function Es(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&ks(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(t,s),o&&Is(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Es&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ie(i.hostAttrs,n=Ie(n,i.hostAttrs))}}(r)}function Ts(t){return t===H?{}:t===z?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ps=null;function As(){if(!Ps){const t=B.Symbol;if(t&&t.iterator)Ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ps=n)}}}return Ps}class js{constructor(t){this.wrapped=t}static wrap(t){return new js(t)}static unwrap(t){return js.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof js}}function Ds(t){return!!Ns(t)&&(Array.isArray(t)||!(t instanceof Map)&&As()in t)}function Ns(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=Ht();return Rs(i,Zt(),e)&&(zt(),function(t,e,n,r,i,s){const o=jt(t,e);!function(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ge(),i,t,e,n,r)),Ms}function Ls(t,e,n,r){return Rs(t,Zt(),n)?e+b(n)+r:di}function Fs(t,e,n,r,i,s,o,a){const c=Ht(),u=zt(),l=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Ci(e,t,4,o||null,Ft(u,a));Li(e,n,l,Ft(u,c)),ye(e,l);const h=l.tViews=Di(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Gt(h,!1);const d=c[11].createComment("");Kr(u,c,d,h),mr(d,c),Yi(c,c[l]=$i(d,c,d,h)),mt(h)&&Pi(u,c,h),null!=o&&Ai(c,h,a)}function Vs(t){return Nt(qt.lFrame.contextLView,lt+t)}function Us(t,e=A.Default){const n=Ht();return null===n?On(t,e):He(Xt(),n,m(t),e)}function qs(t,e,n){const r=Ht();return Rs(r,Zt(),e)&&Mi(zt(),ge(),r,t,e,r[11],n,!1),qs}function Bs(t,e,n,r,i){const s=i?"class":"style";os(t,n,e.inputs[s],s,r)}function Hs(t,e,n,r){const i=Ht(),s=zt(),o=lt+t,a=i[11],c=i[o]=Dr(a,e,qt.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ci(e,t,2,i,Ft(a,s));return Li(e,n,c,Ft(a,o)),null!==c.attrs&&as(c,c.attrs,!1),null!==c.mergedAttrs&&as(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Gt(u,!0);const l=u.mergedAttrs;null!==l&&Ee(a,c,l);const h=u.classes;null!==h&&Zr(a,c,h);const d=u.styles;null!==d&&Jr(a,c,d),64!=(64&u.flags)&&Kr(s,i,c,u),0===qt.lFrame.elementDepthCount&&mr(c,i),qt.lFrame.elementDepthCount++,mt(u)&&(Pi(s,i,u),ki(s,u,i)),null!==r&&Ai(i,u)}function zs(){let t=Xt();Wt()?Qt():(t=t.parent,Gt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ye(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bs(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bs(n,e,Ht(),e.stylesWithoutHost,!1)}function Ks(t,e,n,r){Hs(t,e,n,r),zs()}function Xs(t,e,n){const r=Ht(),i=zt(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ft(s,r),a=Ci(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Li(e,n,a,Ft(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gt(o,!0);const a=r[s]=r[11].createComment("");Kr(i,r,a,o),mr(a,r),mt(o)&&(Pi(i,r,o),ki(i,o,r)),null!=n&&Ai(r,o)}function $s(){let t=Xt();const e=zt();Wt()?Qt():(t=t.parent,Gt(t,!1)),e.firstCreatePass&&(ye(e,t),pt(t)&&e.queries.elementEnd(t))}function Gs(t,e,n){Xs(t,e,n),$s()}function Ws(){return Ht()}function Qs(t){return!!t&&"function"==typeof t.then}function Ys(t){return!!t&&"function"==typeof t.subscribe}const Js=Ys;function Zs(t,e,n=!1,r){const i=Ht(),s=zt(),o=Xt();return function(t,e,n,r,i,s,o=!1,a){const c=mt(r),u=t.firstCreatePass&&is(t),l=rs(e);let h=!0;if(3&r.type){const d=jt(r,e),f=a?a(d):H,p=f.target||d,g=l.length,m=a?t=>a(Pt(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=eo(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,m,g,g+1)}}else s=eo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,m,g,o)}else s=eo(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Zs}function to(t,e,n){try{return!1!==e(n)}catch(r){return ss(t,r),!1}}function eo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Ji(o);let a=to(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=to(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function no(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function ro(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ci(t,s,!0):ui(r,s))return i}else n=i}return n}function io(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ro(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function so(t,e=0,n){const r=Ht(),i=zt(),s=Ci(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Qt(),64!=(64&s.flags)&&function(t,e,n){Yr(e[11],0,e,n,Fr(t,n,e),Hr(n.parent||e[6],n,e))}(i,r,s)}function oo(t,e,n){return ao(t,"",e,"",n),oo}function ao(t,e,n,r,i){const s=Ht(),o=Ls(s,e,n,r);return o!==di&&Mi(zt(),ge(),s,t,o,s[11],i,!1),ao}function co(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?mi(s):vi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];uo(t[a],e)&&(c=!0,t[a+1]=r?_i(n):yi(n)),a=r?mi(n):vi(n)}c&&(t[n+1]=r?yi(s):_i(s))}function uo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(lo.key,lo.keyEnd)}function fo(t,e){const n=lo.textEnd;return n===e?-1:(e=lo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,lo.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function go(t,e,n){return vo(t,e,n,!1),go}function mo(t,e){return vo(t,e,null,!0),mo}function yo(t,e){for(let n=function(t){return function(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),fo(t,po(t,0,lo.textEnd))}(e);n>=0;n=fo(e,n))dn(t,ho(e),!0)}function vo(t,e,n,r){const i=Ht(),s=zt(),o=te(2);s.firstUpdatePass&&_o(s,t,o,r),e!==di&&Rs(i,o,e)&&Co(s,s.data[fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(Ln(t)))),t}(e,n),r,o)}function bo(t,e){return e>=t.expandoStartIndex}function _o(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fe()],o=bo(t,n);To(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Oo(n=wo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=wo(null,t,e,n[1],r),n=Oo(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oo(r,t[s].hostAttrs,n);return Oo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mi(o),c=vi(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=bi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=bi(t[a+1],r)),a=r;else t[r+1]=gi(c,0),0===a?a=r:t[c+1]=bi(t[c+1],r),c=r;l&&(t[r+1]=yi(t[r+1])),co(t,u,r,!0),co(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&pn(s,e)>=0&&(n[r+1]=_i(n[r+1]))}(e,u,t,r,s),o=gi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function wo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Co(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Eo(1==(1&u)?So(c,e,n,i,vi(u),o):void 0)||(Eo(s)||2==(2&u)&&(s=So(c,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Tr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,At(fe(),n),i,s))}function So(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===di&&(l=u?z:void 0);let h=u?fn(l,r):c===r?l:void 0;if(s&&!Eo(h)&&(h=fn(e,r)),Eo(h)&&(a=h,o))return a;const d=t[i+1];i=o?mi(d):vi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=fn(t,r))}return a}function Eo(t){return void 0!==t}function To(t,e){return 0!=(t.flags&(e?16:32))}function xo(t,e=""){const n=Ht(),r=zt(),i=t+lt,s=r.firstCreatePass?Ci(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Kr(r,n,o,s),Gt(s,!1)}function Io(t){return ko("",t,""),Io}function ko(t,e,n){const r=Ht(),i=Ls(r,t,e,n);return i!==di&&function(t,e,n){const r=At(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),ko}function Po(t,e,n){!function(t,e,n,r){const i=zt(),s=te(2);i.firstUpdatePass&&_o(i,null,s,r);const o=Ht();if(n!==di&&Rs(o,s,n)){const a=i.data[fe()];if(To(a,r)&&!bo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=f(t,n||"")),Bs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===di&&(i=z);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<i.length?i[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let f,p=null;l===h?(c+=2,u+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,f=d),null!==p&&Co(t,e,n,r,p,f,true,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Ln(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(dn,yo,Ls(Ht(),t,e,n),!0)}function Ao(t,e,n){const r=Ht();return Rs(r,Zt(),e)&&Mi(zt(),ge(),r,t,e,r[11],n,!0),Ao}const jo=void 0;var Do=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let No={};function Ro(t,e,n){"string"!=typeof e&&(n=e,e=t[Uo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),No[e]=t,n&&(No[e][Uo.ExtraData]=n)}function Mo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Vo(e);if(n)return n;const r=e.split("-")[0];if(n=Vo(r),n)return n;if("en"===r)return Do;throw new Error(`Missing locale data for the locale "${t}".`)}function Lo(t){return Mo(t)[Uo.CurrencyCode]||null}function Fo(t){return Mo(t)[Uo.PluralCase]}function Vo(t){return t in No||(No[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),No[t]}var Uo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const qo="en-US";let Bo=qo;function Ho(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Bo=t.toLowerCase().replace(/_/g,"-"))}function zo(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)zo(t[s],e,n,r,i);else{const s=zt(),o=Ht();let a=ws(t)?t:m(t.provide),c=vs(t);const u=Xt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(ws(t)||!t.multi){const r=new Se(c,i,Us),f=$o(a,e,i?l:l+d,h);-1===f?(Ue(Me(u,o),s,a),Ko(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=$o(a,e,l+d,h),p=$o(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ue(Me(u,o),s,a);const l=function(t,e,n,r,i){const s=new Se(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Xo(s,i,r&&!n),s}(i?Wo:Go,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Ko(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else Ko(s,t,f>-1?f:p,Xo(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ko(t,e,n,r){const i=ws(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Xo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $o(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Go(t,e,n,r){return Qo(this.multi,[])}function Wo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Qo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Qo(i,s);return s}function Qo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Yo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=yt(t);zo(n,r.data,r.blueprint,i,!0),zo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Jo{}class Zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ta=(()=>{class t{}return t.NULL=new Zo,t})();function ea(...t){}function na(t,e){return new ia(jt(t,e))}const ra=function(){return na(Xt(),Ht())};let ia=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ra,t})();function sa(t){return t instanceof ia?t.nativeElement:t}class oa{}let aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ca(),t})();const ca=function(){const t=Ht(),e=Rt(Xt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ua=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class la{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ha=new la("12.0.0-next.5");class da{constructor(){}supports(t){return Ds(t)}create(t){return new pa(t)}}const fa=(t,e)=>e;class pa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<va(n,r,i)?e:n,o=va(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ds(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[As()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ga(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ya),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ya),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ga{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ma{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ya{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ma,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function va(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ba{constructor(){}supports(t){return t instanceof Map||Ns(t)}create(){return new _a}}class _a{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ns(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new wa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class wa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Oa(){return new Ca([new da])}let Ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Oa()),deps:[[t,new In,new xn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Oa}),t})();function Sa(){return new Ea([new ba])}let Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Sa()),deps:[[t,new In,new xn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Sa}),t})();function Ta(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pt(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ta(e[1],e,n,r)}const o=n.type;if(8&o)Ta(t,e,n.child,r);else if(32&o){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ir(e[16]);Ta(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class xa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ta(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Rr(t,n),ln(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Ni(this._lView[1],this._lView,null,t)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Zi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends xa{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){Jt(!0);try{ts(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const ka=Aa;let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t.__ChangeDetectorRef__=!0,t})();function Aa(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Rt(t.index,e);return new xa(n,n)}return 47&t.type?new xa(e[16],e):null}(Xt(),Ht(),t)}const ja=[new ba],Da=new Ca([new da]),Na=new Ea(ja),Ra=function(){return Va(Xt(),Ht())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const La=Ma,Fa=class extends La{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ei(e,n,t),new xa(n)}};function Va(t,e){return 4&t.type?new Fa(e,t,na(t,e)):null}class Ua{}class qa{}const Ba=function(){return Ga(Xt(),Ht())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ba,t})();const za=Ha,Ka=class extends za{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Pe(t)){const e=je(t,this._hostLView),n=Ae(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ua,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ka(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],un(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],c=Br(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Qr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),un($a(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);n&&(ln($a(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);return n&&null!=ln($a(this._lContainer),e)?new xa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Xa(t){return t[8]}function $a(t){return t[8]||(t[8]=[])}function Ga(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Vr(n,Br(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Yi(e,n)}return new Ka(n,t,e)}const Wa={};class Qa extends ta{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Za(e,this.ngModule)}}function Ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ja=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Za extends Jo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ya(this.componentDef.inputs)}get outputs(){return Ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Wa,i);return s!==Wa||r===Wa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(oa,kt),o=i.get(ua,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:ns,playerHandler:null,flags:0},d=Di(0,null,null,1,0,null,null,null,null,null),f=Oi(null,d,h,l,null,null,s,a,o,i);let p,g;ae(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ci(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(as(a,c,!0),null!==t&&(Ee(i,t,c),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const u=r.createRenderer(t,e),l=Oi(n,ji(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Ue(Me(a,n),o,e.type),Ui(o,a),Bi(a,n.length,1)),Yi(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)Ee(a,u,["ng-version",ha.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,u,t),e&&e.length>0&&Zr(a,u,e.join(" "))}if(g=Dt(d,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(t,r,e,Si(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);mr(i,e);const s=jt(r,e);return s&&mr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Xt();e.contentQueries(1,o,t.directiveStart)}const a=Xt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Fi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,o)),o}(t,this.componentDef,f,h,[Ss]),Ei(d,f,null)}finally{de()}return new tc(this.componentType,p,na(g,f),f,g)}}class tc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ec=new Map;class nc extends Ua{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qa(this);const n=ut(t),r=t[W]||null;r&&Ho(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=gs(t,e,[{provide:Ua,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=A.Default){return t===Cs||t===Ua||t===cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class rc extends qa{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,ec.get(i),n),ec.set(i,n));const s=Er(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new nc(this.moduleType,t)}}function ic(t,e){const n=zt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=D(Us);try{const t=Ne(!1),e=s();return Ne(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{D(o)}}function sc(t,e,n){const r=t+lt,i=Ht(),s=Nt(i,r);return function(t,e){return js.isWrapped(e)&&(e=js.unwrap(e),t[qt.lFrame.bindingIndex]=di),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Rs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===di?void 0:n}(t,o+1)}(i,function(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}const oc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ac(){return this._results[As()]()}class cc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=As(),n=cc.prototype;n[e]||(n[e]=ac)}get changes(){return this._changes||(this._changes=new oc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=an(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class uc{constructor(t){this.queryList=t,this.matches=null}clone(){return new uc(this.queryList)}setDirty(){this.queryList.setDirty()}}class lc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new lc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Sc(t,e).matches&&this.queries[e].setDirty()}}class hc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class dc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new dc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,pc(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===Ma?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ia||r===Ha||r===Ma&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function gc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?na(t,e):4&t.type?Va(t,e):null}(e,t):-2===n?function(t,e,n){return n===ia?na(e,t):n===Ma?Va(e,t):n===Ha?Ga(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function mc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:gc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function yc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=mc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&yc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];yc(n[1],n,i,r)}}}}}return r}function vc(t){const e=Ht(),n=zt(),r=re();ie(r+1);const i=Sc(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?yc(n,e,r,[]):mc(n,e,i,r);t.reset(s,sa),t.notifyOnChanges()}return!0}return!1}function bc(t,e,n){const r=zt();r.firstCreatePass&&(Cc(r,new hc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Oc(r,Ht(),e)}function _c(t,e,n,r){const i=zt();if(i.firstCreatePass){const s=Xt();Cc(i,new hc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Oc(i,Ht(),n)}function wc(){return t=Ht(),e=re(),t[19].queries[e].queryList;var t,e}function Oc(t,e,n){const r=new cc(4==(4&n));Ni(t,e,r,r.destroy),null===e[19]&&(e[19]=new lc),e[19].queries.push(new uc(r))}function Cc(t,e,n){null===t.queries&&(t.queries=new dc),t.queries.track(new fc(e,n))}function Sc(t,e){return t.queries.getByIndex(e)}function Ec(t,e){return Va(t,e)}function Tc(t=A.Default){const e=Aa(!0);if(null!=e||t&A.Optional)return e;w("ChangeDetectorRef")}const xc=new rn("Application Initializer");let Ic=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ea,this.reject=ea,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Qs(e))t.push(e);else if(Js(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(xc,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const kc=new rn("AppId"),Pc={provide:kc,useFactory:function(){return`${Ac()}${Ac()}${Ac()}`},deps:[]};function Ac(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jc=new rn("Platform Initializer"),Dc=new rn("Platform ID"),Nc=new rn("appBootstrapListener");let Rc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Mc=new rn("LocaleId"),Lc=new rn("DefaultCurrencyCode");class Fc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Vc=function(t){return new rc(t)},Uc=Vc,qc=function(t){return Promise.resolve(Vc(t))},Bc=function(t){const e=Vc(t),n=Er(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Za(n)),t},[]);return new Fc(e,n)},Hc=Bc,zc=function(t){return Promise.resolve(Bc(t))};let Kc=(()=>{class t{constructor(){this.compileModuleSync=Uc,this.compileModuleAsync=qc,this.compileModuleAndAllComponentsSync=Hc,this.compileModuleAndAllComponentsAsync=zc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Xc=(()=>Promise.resolve(0))();function $c(t){"undefined"==typeof Zone?Xc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yc(t),t.isCheckStableRunning=!0,Qc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Jc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Zc(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Jc(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yc(t),Qc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Wc,ea,ea);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Wc={};function Qc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zc(t){t._nesting--,Qc(t)}class tu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let eu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gc.assertNotInAngularZone(),$c(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$c(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(Gc))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),nu=(()=>{class t{constructor(){this._applications=new Map,ou.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ou.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class ru{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function iu(t){ou=t}let su,ou=new ru,au=!0,cu=!1;function uu(){return cu=!0,au}function lu(){if(cu)throw new Error("Cannot enable prod mode after platform setup.");au=!1}const hu=new rn("AllowMultipleToken");class du{constructor(t,e){this.name=t,this.token=e}}function fu(t,e,n=[]){const r=`Platform: ${e}`,i=new rn(r);return(e=[])=>{let s=pu();if(!s||s.injector.get(hu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(su&&!su.destroyed&&!su.injector.get(hu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");su=t.get(gu);const e=t.get(jc,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:r}))}return function(t){const e=pu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pu(){return su&&!su.destroyed?su:null}let gu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new tu:("zone.js"===t?void 0:t)||new Gc({enableLongStackTrace:uu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Gc,useValue:n}];return n.run(()=>{const e=Cs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(wr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{vu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ic);return t.runInitializers(),t.donePromise.then(()=>(Ho(i.injector.get(Mc,qo)||qo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=mu({},e);return function(t,e,n){const r=new rc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(Cs))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function mu(t,e){return Array.isArray(e)?e.reduce(mu,t):Object.assign(Object.assign({},t),e)}let yu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gc.assertNotInAngularZone(),$c(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(c.a)()((e=u,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Jo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ua),i=n.create(Cs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(eu,null),a=o&&i.injector.get(nu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),vu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;vu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Nc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(Gc),On(Cs),On(wr),On(ta),On(Ic))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function vu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bu{}class _u{}const wu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ou=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Cu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Cu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(Kc),On(_u,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Cu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Su=function(t){return null},Eu=fu(null,"core",[{provide:Dc,useValue:"unknown"},{provide:gu,deps:[Cs]},{provide:nu,deps:[]},{provide:Rc,deps:[]}]),Tu=[{provide:yu,useClass:yu,deps:[Gc,Cs,wr,ta,Ic]},{provide:Ja,deps:[Gc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ic,useClass:Ic,deps:[[new xn,xc]]},{provide:Kc,useClass:Kc,deps:[]},Pc,{provide:Ca,useFactory:function(){return Da},deps:[]},{provide:Ea,useFactory:function(){return Na},deps:[]},{provide:Mc,useFactory:function(t){return Ho(t=t||"undefined"!=typeof $localize&&$localize.locale||qo),t},deps:[[new Tn(Mc),new xn,new In]]},{provide:Lc,useValue:"USD"}];let xu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(yu))},t.\u0275mod=rt({type:t}),t.\u0275inj=C({providers:Tu}),t})()},"fwJ/":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL"),i=n("I/3d");let s=(()=>{class t{constructor(t){this.db=t}addUser(t){return this.db.collection("users").add(t)}getUsers(){return this.db.collection("users").snapshotChanges()}updateUser(t,e){return this.db.doc("users/"+t).update(e)}deleteUser(t){return this.db.doc("users/"+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(i.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},gnL1:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("3Pt+"),i=n("fXoL"),s=n("ofXK");const o=["radio"];function a(t,e){if(1&t){const t=i.Ub();i.Rb(0),i.Tb(1,"label",1),i.Tb(2,"input",3,4),i.ac("ngModelChange",function(e){return i.oc(t),i.dc().handleChange(e)}),i.Sb(),i.Ob(4,"span",5),i.Tb(5,"span",6),i.uc(6),i.Sb(),i.Sb(),i.Qb()}if(2&t){const t=e.$implicit,n=i.dc();i.Cb(2),i.ic("ngModel",n.value)("value",t.value)("name",n.name)("disabled",n.isDisabled),i.Cb(4),i.vc(t.name)}}let c=(()=>{class t{constructor(){this.isDisabled=!1,this.onChange=t=>{},this.onTouched=()=>{}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.value=t}setDisabledState(t){this.isDisabled=t}handleChange(t){this.onChange(t),this.onTouched()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-radio-grp"]],viewQuery:function(t,e){if(1&t&&i.xc(o,5),2&t){let t;i.kc(t=i.bc())&&(e.radio=t)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Fb("disabled",e.isDisabled)},inputs:{items:"items",label:"label",name:"name"},features:[i.Bb([{provide:r.i,useExisting:t,multi:!0}])],decls:4,vars:2,consts:[[1,"radio-description"],[1,"container"],[4,"ngFor","ngForOf"],["type","radio",3,"ngModel","value","name","disabled","ngModelChange"],["radio",""],[1,"custom-radio"],[1,"name"]],template:function(t,e){1&t&&(i.Tb(0,"span",0),i.uc(1),i.Sb(),i.Tb(2,"div",1),i.sc(3,a,7,5,"ng-container",2),i.Sb()),2&t&&(i.Cb(1),i.vc(e.label),i.Cb(2),i.ic("ngForOf",e.items))},directives:[s.j,r.n,r.b,r.k,r.m],styles:['[_nghost-%COMP%]{display:block;margin-bottom:var(--input-bottom-space)}.disabled[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6}.disabled[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .custom-radio[_ngcontent-%COMP%]{border-color:var(--content)}.disabled[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .custom-radio[_ngcontent-%COMP%]:before{background:var(--content)}[_nghost-%COMP%]   .radio-description[_ngcontent-%COMP%]{display:block;font-size:12px;margin-bottom:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:inline-flex;align-items:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:inline-flex;align-items:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:first-child){margin-left:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + .custom-radio[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--content-very-light);border-radius:50%;border:1px solid var(--content)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .custom-radio[_ngcontent-%COMP%]{border-color:var(--primary)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .custom-radio[_ngcontent-%COMP%]:before{content:"";position:absolute;display:inline-flex;width:10px;height:10px;background:var(--primary);border-radius:50%}']}),t})()},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class u extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=s.a.EMPTY:(this.observers.push(t),u=new c.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kzYg:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("+rOU"),i=n("R8Gn"),s=n("fXoL"),o=n("rDax");const a=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}];let c=(()=>{class t{constructor(t){this.overlay=t,window.addEventListener("click",t=>{this.overlayRef&&this.overlayRef.hostElement&&(this.overlayRef.hostElement.contains(t.target)||this.hide())})}open(t,e={}){this.hide(),e.overlayConfig=e.overlayConfig||{};const n=e.connectTo,s=this.getWidth(e),o=e.overlayConfig.maxHeight||250,c=this.overlay.scrollStrategies[e.scrollStrategy||"close"](),u=this.overlay.position().flexibleConnectedTo(n).withPositions(e.positions||a),l=this.overlay.create({width:s,height:e.overlayConfig.height,maxHeight:o,positionStrategy:u,scrollStrategy:c}),h=new r.b(i.a),d=l.attach(h).instance;return d.templateRef=t,Object.assign(d,e),d.closingPromise.then(()=>this.hide(l,d)),this.overlayRef=l,this.menu=d,d}hide(t=this.overlayRef,e=this.menu){e&&(t.dispose(),e.closingResolve(),this.menu===e&&(this.menu=null))}getWidth(t){return"matchParent"===t.widthStrategy&&t.connectTo?t.connectTo.offsetWidth:t.overlayConfig.width?t.overlayConfig.width:"big"===t.size?260:200}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(o.a))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t})()},"lED/":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("quSY"),i=n("fXoL"),s=n("583G"),o=n("ofXK");function a(t,e){if(1&t&&(i.Tb(0,"div",1),i.uc(1),i.Sb()),2&t){const t=e.$implicit;i.Cb(1),i.wc(" ",t,"\n")}}let c=(()=>{class t{constructor(t,e){this.cdr=t,this.validationMsg=e,this.subscription=new r.a,this.errors=[]}ngOnDestroy(){this.clearSubscription()}clearSubscription(){this.subscription.unsubscribe()}set formControl(t){this._formControl=t,this.computeErrors(),this.subscription.add(this.formControl.statusChanges.subscribe(()=>this.computeErrors()))}get formControl(){return this._formControl}computeErrors(){this.errors=this.formControl.touched&&this.formControl.errors?Object.keys(this.formControl.errors).map(t=>{const e=this.formControl.errors[t];return this.validationMsg[t]?this.validationMsg[t](e):e}):[],this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h),i.Nb(s.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-form-errors"]],inputs:{formControl:["control","formControl"]},decls:1,vars:1,consts:[["class","error error-label",4,"ngFor","ngForOf"],[1,"error","error-label"]],template:function(t,e){1&t&&i.sc(0,a,2,1,"div",0),2&t&&i.ic("ngForOf",e.errors)},directives:[o.j],styles:["[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--danger)}"],changeDetection:0}),t})()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nLfN:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return f});var r=n("fXoL"),i=n("ofXK");let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(m){s=!1}let o,a,c,u,l=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(i.p)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.C))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(r.C))},token:t,providedIn:"root"}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();function d(t){return function(){if(null==o&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>o=!0}))}finally{o=o||!1}return o}()?t:!!t.capture}function f(){if(null==c){if("object"!=typeof document||!document)return c=!1,c;if("scrollBehavior"in document.documentElement.style)c=!0;else{const t=Element.prototype.scrollTo;c=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return c}function p(){if("object"!=typeof document||!document)return 0;if(null==a){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),a=0,0===t.scrollLeft&&(t.scrollLeft=1,a=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return a}function g(t){if(function(){if(null==u){const t="undefined"!=typeof document?document.head:null;u=!(!t||!t.createShadowRoot&&!t.attachShadow)}return u}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},"o6G+":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("R0Ic"),i=n("fXoL");let s=(()=>{class t{constructor(){this.text=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-tooltip"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tooltip-content"],[1,"arrow"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Ob(1,"span",1),i.Tb(2,"span"),i.uc(3),i.Sb(),i.Sb()),2&t&&(i.ic("@tooltip",void 0),i.Cb(3),i.vc(e.text))},styles:['@media (max-width:768px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:769px){.mobile-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1382px){.laptop-and-below-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width:1381px){.desktop-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1025px){.hide-above-tablet-landscape[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:1024px){.hide-tablet-landscape-and-below[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 10px rgba(0,0,0,.2);max-width:400px;padding:20px;box-sizing:border-box;border-radius:5px;position:relative}[_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:20px;overflow:hidden;position:absolute;left:-10px;top:7px}[_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;background:#fff;transform:rotate(45deg);top:6px;right:-5px;box-shadow:0 2px 12px -2px rgba(0,0,0,.3)}@media (max-width:768px){[_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:17px;height:20px;top:-20px;left:20px}[_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:after{width:12px;height:12px;top:14px;right:3px;box-shadow:0 0 2px 0 rgba(0,0,0,.3)}}'],data:{animation:[Object(r.i)("tooltip",[Object(r.h)(":enter",[Object(r.g)({opacity:0}),Object(r.e)(300,Object(r.g)({opacity:1}))]),Object(r.h)(":leave",[Object(r.e)(300,Object(r.g)({opacity:0}))])])]},changeDetection:0}),t})()},oRDy:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("+rOU"),i=n("ofXK"),s=n("tyNb"),o=n("P/Yz"),a=n("PCNd"),c=n("4SXP"),u=(n("G7vn"),n("rpD9"),n("tUC8"),n("DYkS"),n("Hb2C"),n("51hj"),n("1DKR"),n("fXoL"));n("IRxH"),n("gnL1"),n("wX64"),n("q/i9"),n("YoVG"),n("C2jZ"),n("VqzS"),n("o6G+"),n("LzDw");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({providers:[],imports:[[i.b,s.h,r.d,c.a,a.a,o.a]]}),t})()},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return U}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return O}),n.d(e,"e",function(){return V}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return v}),n.d(e,"i",function(){return A}),n.d(e,"j",function(){return D}),n.d(e,"k",function(){return R}),n.d(e,"l",function(){return F}),n.d(e,"m",function(){return w}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return z}),n.d(e,"p",function(){return B}),n.d(e,"q",function(){return H}),n.d(e,"r",function(){return a}),n.d(e,"s",function(){return q}),n.d(e,"t",function(){return s}),n.d(e,"u",function(){return P}),n.d(e,"v",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const c=new r.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Xb)(d)}const h=new r.r("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(c))},t.\u0275prov=Object(r.Jb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Xb)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Xb)(c).location;return new w(Object(r.Xb)(u),e&&e.origin||"")}const _=new r.r("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(u),r.Xb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(u),r.Xb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(v),r.Xb(u))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Jb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new C(Object(r.Xb)(v),Object(r.Xb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.ob;class I{}let k=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.v))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function P(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.t),r.Nb(r.u),r.Nb(r.l),r.Nb(r.F))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M),r.Nb(r.t))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}let F=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.Ab]}),t})(),V=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Mb({name:"json",type:t,pure:!1}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[{provide:I,useClass:k}]}),t})();const q="browser";function B(t){return t===q}function H(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new K(Object(r.Xb)(c),window)}),t})();class K{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},"q/i9":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("fXoL"),i=n("ofXK");function s(t,e){1&t&&r.gc(0,0,["*ngIf","isVisible"])}const o=["*"];let a=(()=>{class t{constructor(){this.isVisible=!1}hide(){this.isVisible=!1}show(){this.isVisible=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle"},ngContentSelectors:o,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.hc(),r.sc(0,s,1,0,"ng-content",0)),2&t&&r.ic("ngIf",e.isVisible)},directives:[i.k],styles:[""]}),t})()},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new m(i,a,r);return c},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},rDax:function(t,e,n){"use strict";n.d(e,"a",function(){return ht}),n.d(e,"b",function(){return K}),n.d(e,"c",function(){return ft}),n.d(e,"d",function(){return ut});var r=n("8LU1"),i=n("fXoL"),s=n("XNiG"),o=n("LRne"),a=n("HDdC"),c=n("DH7j"),u=n("n6bG"),l=n("lJxs");function h(t,e,n,r){return Object(u.a)(n)&&(r=n,n=void 0),r?h(t,e,n).pipe(Object(l.a)(t=>Object(c.a)(t)?r(...t):r(t))):new a.a(r=>{d(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function d(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)d(t[s],e,n,r,i)}r.add(s)}n("3N8a"),n("IjjT"),n("7Hc7");var f=n("quSY");n("/uUt");var p=n("D0XW"),g=n("zx2A");class m{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new y(t,this.durationSelector))}}class y extends g.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(g.c)(n,new g.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var v=n("Y7HM"),b=n("z+Ro");function _(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function w(t,e=p.a){return n=()=>function(t=0,e,n){let r=-1;return Object(v.a)(e)?r=Number(e)<1?1:Number(e):Object(b.a)(e)&&(n=e),Object(b.a)(n)||(n=p.a),new a.a(e=>{const i=Object(v.a)(t)?t:+t-n.now();return n.schedule(_,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new m(n))};var n}var O=n("pLZG");class C{constructor(t){this.notifier=t}call(t,e){const n=new S(t),r=Object(g.c)(this.notifier,new g.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class S extends g.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}n("JX91"),n("Zy1z"),n("eIep"),n("UXun");var E=n("nLfN"),T=n("ofXK");const x=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.W)(T.c)}});let I=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(x,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(x,8))},token:t,providedIn:"root"}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({}),t})(),P=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new s.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new a.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(w(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(o.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(O.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Object(r.d)(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>h(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.A),i.Xb(E.a),i.Xb(T.c,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(i.A),Object(i.Xb)(E.a),Object(i.Xb)(T.c,8))},token:t,providedIn:"root"}),t})(),A=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new s.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(w(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(E.a),i.Xb(i.A),i.Xb(T.c,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(E.a),Object(i.Xb)(i.A),Object(i.Xb)(T.c,8))},token:t,providedIn:"root"}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({imports:[[k,E.b,j],k,j]}),t})();var N=n("+rOU"),R=n("VRyK"),M=n("IzEk");n("7o/Q"),n("FtGj");const L=Object(E.f)();class F{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(r.c)(-this._previousScrollPosition.left),t.style.top=Object(r.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),L&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),L&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class V{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class U{enable(){}disable(){}attach(){}}function q(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function B(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class H{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();q(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let z=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new U,this.close=t=>new V(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new F(this._viewportRuler,this._document),this.reposition=t=>new H(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(P),i.Xb(A),i.Xb(i.A),i.Xb(T.c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(P),Object(i.Xb)(A),Object(i.Xb)(i.A),Object(i.Xb)(T.c))},token:t,providedIn:"root"}),t})();class K{constructor(t){if(this.scrollStrategy=new U,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class X{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class ${constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let G=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(T.c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(T.c))},token:t,providedIn:"root"}),t})(),W=(()=>{class t extends G{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(T.c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(T.c))},token:t,providedIn:"root"}),t})(),Q=(()=>{class t extends G{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(T.c),i.Xb(E.a))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(T.c),Object(i.Xb)(E.a))},token:t,providedIn:"root"}),t})();const Y=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let J=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Y){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Y?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(T.c),i.Xb(E.a))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(T.c),Object(i.Xb)(E.a))},token:t,providedIn:"root"}),t})();class Z{constructor(t,e,n,r,i,o,a,c,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new s.a,this._attachments=new s.a,this._detachments=new s.a,this._locationChanges=f.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new s.a,this._outsidePointerEvents=new s.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(M.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Object(r.c)(this._config.width),t.height=Object(r.c)(this._config.height),t.minWidth=Object(r.c)(this._config.minWidth),t.minHeight=Object(r.c)(this._config.minHeight),t.maxWidth=Object(r.c)(this._config.maxWidth),t.maxHeight=Object(r.c)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Object(r.a)(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((e=Object(R.a)(this._attachments,this._detachments),t=>t.lift(new C(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const tt="cdk-overlay-connected-position-bounding-box",et=/([A-Za-z%]+)$/;class nt{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new s.a,this._resizeSubscription=f.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(tt),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=st(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=it(this._overlayRef.getConfig().minHeight),o=it(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=st(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new $(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Object(r.c)(n.height),i.top=Object(r.c)(n.top),i.bottom=Object(r.c)(n.bottom),i.width=Object(r.c)(n.width),i.left=Object(r.c)(n.left),i.right=Object(r.c)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Object(r.c)(t)),s&&(i.maxWidth=Object(r.c)(s))}this._lastBoundingBoxSize=n,rt(this._boundingBox.style,i)}_resetBoundingBoxStyles(){rt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const r=this._viewportRuler.getViewportScrollPosition();rt(n,this._getExactOverlayY(e,t,r)),rt(n,this._getExactOverlayX(e,t,r))}else n.position="static";let a="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),n.transform=a.trim(),o.maxHeight&&(i?n.maxHeight=Object(r.c)(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Object(r.c)(o.maxWidth):s&&(n.maxWidth="")),rt(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Object(r.c)(s.y),i}_getExactOverlayX(t,e,n){let i,s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=Object(r.c)(o.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(t,n),isOriginOutsideView:q(t,n),isOverlayClipped:B(e,n),isOverlayOutsideView:q(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Object(r.a)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function rt(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function it(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(et);return n&&"px"!==n?null:parseFloat(e)}return t||null}function st(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class ot{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new nt(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new X(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const at="cdk-global-overlay-wrapper";class ct{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(at),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(at),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ut=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new ct}connectedTo(t,e,n){return new ot(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new nt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(A),i.Xb(T.c),i.Xb(E.a),i.Xb(J))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(A),Object(i.Xb)(T.c),Object(i.Xb)(E.a),Object(i.Xb)(J))},token:t,providedIn:"root"}),t})(),lt=0,ht=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new K(t);return i.direction=i.direction||this._directionality.value,new Z(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+lt++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new N.c(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(z),i.Xb(J),i.Xb(i.j),i.Xb(ut),i.Xb(W),i.Xb(i.s),i.Xb(i.A),i.Xb(T.c),i.Xb(I),i.Xb(T.g),i.Xb(Q))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const dt={provide:new i.r("cdk-connected-overlay-scroll-strategy"),deps:[ht],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:[ht,dt],imports:[[k,N.d,D],D]}),t})()},rpD9:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("3Pt+"),i=n("MnCw"),s=n("fXoL"),o=n("ofXK");function a(t,e){1&t&&s.Ob(0,"div",3)}const c=["*"];let u=(()=>{class t{constructor(t){this.injector=t,this.required=!1,this.checked=!1,this.onChange=t=>{},this.onTouched=()=>{}}ngAfterViewInit(){const t=this.injector.get(r.j,null);t&&(this.control=t.control,setTimeout(()=>{this.required=Object(i.a)(this.control)}))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.checked=t}onModelChange(t){this.checked=t,this.onChange(t),this.onTouched()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(s.s))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-custom-checkbox"]],hostVars:2,hostBindings:function(t,e){2&t&&s.Fb("required",e.required)},features:[s.Bb([{provide:r.i,useExisting:t,multi:!0}])],ngContentSelectors:c,decls:7,vars:2,consts:[["type","checkbox",1,"checkbox-input",3,"ngModel","ngModelChange"],[1,"custom-checkbox"],["class","filling",4,"ngIf"],[1,"filling"]],template:function(t,e){1&t&&(s.hc(),s.Tb(0,"label"),s.Tb(1,"div"),s.Tb(2,"input",0),s.ac("ngModelChange",function(t){return e.onModelChange(t)}),s.Sb(),s.Tb(3,"div",1),s.sc(4,a,1,0,"div",2),s.Sb(),s.Sb(),s.Tb(5,"span"),s.gc(6),s.Sb(),s.Sb()),2&t&&(s.Cb(2),s.ic("ngModel",e.checked),s.Cb(2),s.ic("ngIf",e.checked))},directives:[r.a,r.k,r.m,o.k],styles:['[_nghost-%COMP%]{display:block;margin-bottom:var(--input-bottom-space)}.required[_nghost-%COMP%]   span[_ngcontent-%COMP%]:after{color:var(--danger);content:"*";margin-left:5px}.ng-touched.ng-invalid[_nghost-%COMP%]   span[_ngcontent-%COMP%]{color:var(--danger)}.ng-touched.ng-invalid[_nghost-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]{border-color:var(--danger)}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:20px;height:20px;margin-right:10px;border:1px solid var(--content);border-radius:3px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   .filling[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:1px;background:var(--primary)}']}),t})()},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.r("angularfire2.app.options"),b=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[v,c.A,[new c.B,b]]};let T=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.Xb(c.C))},t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({providers:[E]}),t})()}).call(this,n("3UD+")(t))},tUC8:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL"),i=n("+ezf");let s=(()=>{class t{constructor(t,e){this.customDropdownService=t,this.hostElement=e,this.active=!1,this.select=this.customDropdownService.getSelect()}get selected(){return this.select.selectedOption===this}onClick(t){t.preventDefault(),t.stopPropagation(),this.select.selectOption(this)}setActiveStyles(){this.active=!0}setInactiveStyles(){this.active=!1}get optionComponentHeight(){return this.hostElement.nativeElement.offsetHeight}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(i.a),r.Nb(r.l))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-custom-select-option"]],hostVars:4,hostBindings:function(t,e){1&t&&r.ac("click",function(t){return e.onClick(t)}),2&t&&r.Fb("selected",e.selected)("active",e.active)},inputs:{key:"key",value:"value"},decls:2,vars:1,template:function(t,e){1&t&&(r.Tb(0,"span"),r.uc(1),r.Sb()),2&t&&(r.Cb(1),r.wc(" ",e.value,"\n"))},styles:["[_nghost-%COMP%]{display:block;padding:0 15px;height:40px;align-items:center;line-height:40px;background-color:var(--content-very-light);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.selected[_nghost-%COMP%]{color:var(--primary);background-color:var(--content);font-weight:700}.active[_nghost-%COMP%], .selected.active[_nghost-%COMP%], .selected[_nghost-%COMP%]:hover, [_nghost-%COMP%]:hover{background-color:var(--content-light)}.active[_nghost-%COMP%], [_nghost-%COMP%]:hover{outline:none}.disabled[_nghost-%COMP%]{color:var(--content-dark);cursor:auto}.disabled[_nghost-%COMP%]:focus, .disabled[_nghost-%COMP%]:hover{outline:none;background-color:var(--content-very-light)}@media screen and (-ms-high-contrast:active){.disabled[_nghost-%COMP%]:focus, .disabled[_nghost-%COMP%]:hover{background-color:var(--content-very-light)}}"]}),t})()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},"tk/3":function(t,e,n){"use strict";n.d(e,"a",function(){return P}),n.d(e,"b",function(){return I}),n.d(e,"c",function(){return H}),n.d(e,"d",function(){return m});var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),c=n("lJxs"),u=n("ofXK");class l{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function g(t){return`${t}`}class m{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new m({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(g(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(g(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function v(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function b(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}class w{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.context||(this.context=new y),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new m,this.urlWithParams=e}serializeBody(){return null===this.body?null:v(this.body)||b(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_(this.body)?null:b(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new w(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var O=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class C{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S extends C{constructor(t={}){super(t),this.type=O.ResponseHeader}clone(t={}){return new S({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class E extends C{constructor(t={}){super(t),this.type=O.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new E({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T extends C{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function x(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let I=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof w)r=t;else{let i,s;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new w(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(i.a)(r).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof w||"events"===n.observe)return s;const u=s.pipe(Object(a.a)(t=>t instanceof E));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(c.a)(t=>t.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,x(n,e))}post(t,e,n={}){return this.request("POST",t,x(n,e))}put(t,e,n={}){return this.request("PUT",t,x(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(l))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class k{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const P=new r.r("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const j=/^\)\]\}',?\n/;class D{}let N=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new S({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(j,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new E({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new T({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new T({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:O.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:O.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:O.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(D))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const M=new r.r("XSRF_COOKIE_NAME"),L=new r.r("XSRF_HEADER_NAME");class F{}let V=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.u)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(u.c),r.Xb(r.C),r.Xb(M))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(F),r.Xb(L))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),q=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(P,[]);this.chain=t.reduceRight((t,e)=>new k(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(h),r.Xb(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:U,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:M,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[U,{provide:P,useExisting:U,multi:!0},{provide:F,useClass:V},{provide:M,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[I,{provide:l,useClass:q},R,{provide:h,useExisting:R},N,{provide:D,useExisting:N}],imports:[[B.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return Z}),n.d(e,"b",function(){return J}),n.d(e,"c",function(){return tt}),n.d(e,"d",function(){return Y}),n.d(e,"e",function(){return En}),n.d(e,"f",function(){return kn}),n.d(e,"g",function(){return xn}),n.d(e,"h",function(){return Un}),n.d(e,"i",function(){return Pn});var r=n("ofXK"),i=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("XNiG"),c=n("9ppp");class u extends a.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.a;return this._value}next(t){super.next(this._value=t)}}var l=n("z+Ro"),h=n("DH7j"),d=n("7o/Q");class f extends d.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class p extends d.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var g=n("SeVD"),m=n("HDdC");function y(t,e,n,r,i=new p(t,n,r)){if(!i.closed)return e instanceof m.a?e.subscribe(i):Object(g.a)(e)(i)}var v=n("yCtX");const b={};class _{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new w(t,this.resultSelector))}}class w extends f{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(b),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(y(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===b?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var O=n("sVev"),C=n("GyhO"),S=n("EY2u");function E(t){return new m.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(S.b)()).subscribe(e)})}var T=n("EQ5u"),x=n("lJxs"),I=n("eIep"),k=n("IzEk"),P=n("JX91"),A=n("Kqap"),j=n("pLZG"),D=n("JIr8"),N=n("bOdf"),R=n("4I5i");function M(t){return function(e){return 0===t?Object(S.b)():e.lift(new L(t))}}class L{constructor(t){if(this.total=t,this.total<0)throw new R.a}call(t,e){return e.subscribe(new F(t,this.total))}}class F extends d.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var V=n("XDbj"),U=n("xbPD"),q=n("SpAZ"),B=n("SxV6"),H=n("5+tZ"),z=n("vkgz"),K=n("x+ZX"),X=n("quSY");class ${constructor(t){this.callback=t}call(t,e){return e.subscribe(new G(t,this.callback))}}class G extends d.a{constructor(t,e){super(t),this.add(new X.a(e))}}var W=n("bHdf");class Q{constructor(t,e){this.id=t,this.url=e}}class Y extends Q{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J extends Q{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Z extends Q{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tt extends Q{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class et extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Q{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class it extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class at{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ct{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class pt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gt(t){return new pt(t)}function mt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vt(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bt(t[i],e[i]))return!1;return!0}function bt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function _t(t){return Array.prototype.concat.apply([],t)}function wt(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ct(t){return Object(i.sb)(t)?t:Object(i.tb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}const St={exact:function t(e,n,r){if(!Dt(e.segments,n.segments))return!1;if(!kt(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:xt},Et={exact:function(t,e){return vt(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bt(t[n],e[n]))},ignored:()=>!0};function Tt(t,e,n){return St[n.paths](t.root,e.root,n.matrixParams)&&Et[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xt(t,e,n){return It(t,e,e.segments,n)}function It(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Dt(i,n)&&!e.hasChildren()&&!!kt(i,n,r)}if(t.segments.length===n.length){if(!Dt(t.segments,n))return!1;if(!kt(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xt(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Dt(t.segments,i)&&!!kt(t.segments,i,r)&&!!t.children.primary&&It(t.children.primary,e,s,r)}}function kt(t,e,n){return e.every((e,r)=>Et[n](t[r].parameters,e.parameters))}class Pt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class At{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ot(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lt(this)}}class jt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return zt(this)}}function Dt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nt{}class Rt{parse(t){const e=new Wt(t);return new Pt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ft(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ut(e)}=${Ut(t)}`).join("&"):`${Ut(e)}=${Ut(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Mt=new Rt;function Lt(t){return t.segments.map(t=>zt(t)).join("/")}function Ft(t,e){if(!t.hasChildren())return Lt(t);if(e){const e=t.children.primary?Ft(t.children.primary,!1):"",n=[];return Ot(t.children,(t,e)=>{e!==ft&&n.push(`${e}:${Ft(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ot(t.children,(t,r)=>{r===ft&&(n=n.concat(e(t,r)))}),Ot(t.children,(t,r)=>{r!==ft&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ft?[Ft(t.children.primary,!1)]:[`${n}:${Ft(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Lt(t)}/${e[0]}`:`${Lt(t)}/(${e.join("//")})`}}function Vt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ut(t){return Vt(t).replace(/%3B/gi,";")}function qt(t){return Vt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bt(t){return decodeURIComponent(t)}function Ht(t){return Bt(t.replace(/\+/g,"%20"))}function zt(t){return`${qt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qt(t)}=${qt(e[t])}`).join("")}`;var e}const Kt=/^[^\/()?;=#]+/;function Xt(t){const e=t.match(Kt);return e?e[0]:""}const $t=/^[^=?&#]+/,Gt=/^[^?&#]+/;class Wt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new At(t,e)),n}parseSegment(){const t=Xt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new jt(Bt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Xt(this.remaining);t&&(n=t,this.capture(n))}t[Bt(e)]=Bt(n)}parseQueryParam(t){const e=function(t){const e=t.match($t);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ht(e),i=Ht(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Xt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ft);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new At([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jt(t,this._root).map(t=>t.value)}}function Yt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yt(t,n);if(e)return e}return null}function Jt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jt(t,n);if(r.length)return r.unshift(e),r}return[]}class Zt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function te(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ee extends Qt{constructor(t,e){super(t),this.snapshot=e,ae(this,t)}toString(){return this.snapshot.toString()}}function ne(t,e){const n=function(t,e){const n=new se([],{},{},"",{},ft,e,null,t.root,-1,{});return new oe("",new Zt(n,[]))}(t,e),r=new u([new jt("",{})]),i=new u({}),s=new u({}),o=new u({}),a=new u(""),c=new re(r,i,o,a,s,ft,e,n.root);return c.snapshot=n.root,new ee(new Zt(c,[]),n)}class re{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(x.a)(t=>gt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(x.a)(t=>gt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ie(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class se{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oe extends Qt{constructor(t,e){super(e),this.url=t,ae(this,e)}toString(){return ce(this._root)}}function ae(t,e){e.value._routerState=t,e.children.forEach(e=>ae(t,e))}function ce(t){const e=t.children.length>0?` { ${t.children.map(ce).join(", ")} } `:"";return`${t.value}${e}`}function ue(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function le(t,e){var n,r;return vt(t.params,e.params)&&Dt(n=t.url,r=e.url)&&n.every((t,e)=>vt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||le(t.parent,e.parent))}function he(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return he(t,e,r);return he(t,e)})}(t,e,n);return new Zt(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return de(e,t),t}{const n=new re(new u((r=e.value).url),new u(r.params),new u(r.queryParams),new u(r.fragment),new u(r.data),r.outlet,r.component,r),i=e.children.map(e=>he(t,e));return new Zt(n,i)}}var r}function de(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)de(t.children[n],e.children[n])}function fe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pe(t){return"object"==typeof t&&null!=t&&t.outlets}function ge(t,e,n,r,i){let s={};return r&&Ot(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Pt(n.root===t?e:me(n.root,t,e),s,i)}function me(t,e,n){const r={};return Ot(t.children,(t,i)=>{r[i]=t===e?n:me(t,e,n)}),new At(t.segments,r)}class ye{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fe(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pe);if(r&&r!==wt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ve{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function be(t,e,n){if(t||(t=new At([],{})),0===t.segments.length&&t.hasChildren())return _e(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(pe(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Se(a,c,e))return s;r+=2}else{if(!Se(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new At(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new At(t.segments.slice(r.pathIndex),t.children),_e(e,0,i)}return r.match&&0===i.length?new At(t.segments,{}):r.match&&!t.hasChildren()?we(t,e,n):r.match?_e(t,0,i):we(t,e,n)}function _e(t,e,n){if(0===n.length)return new At(t.segments,{});{const r=function(t){return pe(t[0])?t[0].outlets:{[ft]:t}}(n),i={};return Ot(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=be(t.children[r],e,n))}),Ot(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new At(t.segments,i)}}function we(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(pe(s)){const t=Oe(s.outlets);return new At(r,t)}if(0===i&&fe(n[0])){r.push(new jt(t.segments[e].path,Ce(n[0]))),i++;continue}const o=pe(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&fe(a)?(r.push(new jt(o,Ce(a))),i+=2):(r.push(new jt(o,{})),i++)}return new At(r,{})}function Oe(t){const e={};return Ot(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=we(new At([],{}),0,t))}),e}function Ce(t){const e={};return Ot(t,(t,n)=>e[n]=`${t}`),e}function Se(t,e,n){return t==n.path&&vt(e,n.parameters)}class Ee{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ue(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=te(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ot(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=te(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=te(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ht(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ut(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ue(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Te(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Te(t){ue(t.value),t.children.forEach(Te)}class xe{constructor(t,e){this.routes=t,this.module=e}}function Ie(t){return"function"==typeof t}function ke(t){return t instanceof Pt}const Pe=Symbol("INITIAL_VALUE");function Ae(){return Object(I.a)(t=>function(...t){let e,n;return Object(l.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(h.a)(t[0])&&(t=t[0]),Object(v.a)(t,n).lift(new _(e))}(t.map(t=>t.pipe(Object(k.a)(1),Object(P.a)(Pe)))).pipe(Object(A.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Pe)return t;if(r===Pe&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ke(r))return r}return t},t)},Pe),Object(j.a)(t=>t!==Pe),Object(x.a)(t=>ke(t)?t:!0===t),Object(k.a)(1)))}let je=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Ob(0,"router-outlet")},directives:function(){return[Pn]},encapsulation:2}),t})();function De(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ne(r,Re(e,r))}}function Ne(t,e){t.children&&De(t.children,e)}function Re(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Me(t){const e=t.children&&t.children.map(Me),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=je),n}function Le(t){return t.outlet||ft}function Fe(t,e){const n=t.filter(t=>Le(t)===e);return n.push(...t.filter(t=>Le(t)!==e)),n}const Ve={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ue(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ve):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yt)(n,t,e);if(!i)return Object.assign({},Ve);const s={};Ot(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function qe(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Be(t,e,n)&&Le(n)!==ft)}(t,n,r)){const i=new At(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Le(s)!==ft){const n=new At([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Le(s)]=n}return i}(t,e,r,new At(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Be(t,e,n))}(t,n,r)){const s=new At(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Be(t,n,a)&&!i[Le(a)]){const n=new At([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Le(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new At(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Be(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function He(t,e,n,r){return!!(Le(t)===r||r!==ft&&Be(e,n,t))&&("**"===t.path||Ue(e,t,n).matched)}function ze(t,e,n){return 0===e.length&&!t.children[n]}class Ke{constructor(t){this.segmentGroup=t||null}}class Xe{constructor(t){this.urlTree=t}}function $e(t){return new m.a(e=>e.error(new Ke(t)))}function Ge(t){return new m.a(e=>e.error(new Xe(t)))}function We(t){return new m.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Qe{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=qe(this.urlTree.root,[],[],this.config).segmentGroup,e=new At(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ft).pipe(Object(x.a)(t=>this.createUrlTree(Ye(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(D.a)(t=>{if(t instanceof Xe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ke)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ft).pipe(Object(x.a)(e=>this.createUrlTree(Ye(e),t.queryParams,t.fragment))).pipe(Object(D.a)(t=>{if(t instanceof Ke)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new At([],{[ft]:t}):t;return new Pt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(x.a)(t=>new At([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(Object(N.a)(r=>{const i=n.children[r],s=Fe(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(x.a)(t=>({segment:t,outlet:r})))}),Object(A.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(j.a)((e,n)=>t(e,n,r)):q.a,M(1),n?Object(U.a)(e):Object(V.a)(()=>new O.a))}())}expandSegment(t,e,n,r,i,a){return Object(s.a)(n).pipe(Object(N.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(Object(D.a)(t=>{if(t instanceof Ke)return Object(o.a)(null);throw t}))),Object(B.a)(t=>!!t),Object(D.a)((t,n)=>{if(t instanceof O.a||"EmptyError"===t.name){if(ze(e,r,i))return Object(o.a)(new At([],{}));throw new Ke(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return He(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):$e(e):$e(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ge(i):this.lineralizeSegments(n,i).pipe(Object(H.a)(n=>{const i=new At(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Ue(e,r,i);if(!o)return $e(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ge(l):this.lineralizeSegments(r,l).pipe(Object(H.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(x.a)(t=>(n._loadedConfig=t,new At(r,{})))):Object(o.a)(new At(r,{}));const{matched:s,consumedSegments:a,lastChild:c}=Ue(e,n,r);if(!s)return $e(e);const u=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(H.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:c,slicedSegments:l}=qe(e,a,u,s),h=new At(c.segments,c.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe(Object(x.a)(t=>new At(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new At(a,{}));const d=Le(n)===i;return this.expandSegment(r,h,s,l,d?ft:i,!0).pipe(Object(x.a)(t=>new At(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new xe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(H.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(x.a)(t=>(e._loadedConfig=t,t))):function(t){return new m.a(e=>e.error(mt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new xe([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Ie(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Ie(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ct(s)});return Object(o.a)(i).pipe(Ae(),Object(z.a)(t=>{if(!ke(t))return;const e=mt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(x.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return We(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Pt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ot(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ot(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new At(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ye(t){const e={};for(const n of Object.keys(t.children)){const r=Ye(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new At(t.segments.concat(e.segments),e.children)}return t}(new At(t.segments,e))}class Je{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ze{constructor(t,e){this.component=t,this.route=e}}function tn(t,e,n){const r=t._root;return nn(r,e?e._root:null,n,[r.value])}function en(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=te(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dt(t.url,e.url)||!vt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!le(t,e)||!vt(t.queryParams,e.queryParams);case"paramsChange":default:return!le(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Je(r)):(s.data=o.data,s._resolvedData=o._resolvedData),nn(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ze(a.outlet.component,o))}else o&&rn(e,a,i),i.canActivateChecks.push(new Je(r)),nn(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Ot(s,(t,e)=>rn(t,n.getContext(e),i)),i}function rn(t,e,n){const r=te(t),i=t.value;Ot(r,(t,r)=>{rn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ze(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class sn{}function on(t){return new m.a(e=>e.error(t))}class an{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=qe(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ft);if(null===e)return null;const n=new se([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zt(n,e),i=new oe(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ie(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Fe(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!cn(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===ft?-1:e.value.outlet===ft?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ze(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!He(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?wt(n).parameters:{};i=new se(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),Le(t),t.component,t,un(e),ln(e)+n.length,dn(t))}else{const r=Ue(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new se(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hn(t),Le(t),t.component,t,un(e),ln(e)+s.length,dn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=qe(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Zt(i,t)]}if(0===a.length&&0===u.length)return[new Zt(i,[])];const l=Le(t)===r,h=this.processSegment(a,c,u,l?ft:r);return null===h?null:[new Zt(i,h)]}}function cn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function un(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ln(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hn(t){return t.data||{}}function dn(t){return t.resolve||{}}function fn(t){return Object(I.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(x.a)(()=>e)):Object(o.a)(e)})}class pn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gn=new i.r("ROUTES");class mn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(x.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xe(_t(r.injector.get(gn,void 0,i.q.Self|i.q.Optional)).map(Me),r)}),Object(D.a)(t=>{throw e._loader$=void 0,t}));return e._loader$=new T.a(n,()=>new a.a).pipe(Object(K.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Ct(t()).pipe(Object(H.a)(t=>t instanceof i.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class yn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vn,this.attachRef=null}}class vn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class bn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _n(t){throw t}function wn(t,e,n){return e.parse("/")}function On(t,e){return Object(o.a)(null)}const Cn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let En=(()=>{class t{constructor(t,e,n,r,s,o,c,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new a.a,this.errorHandler=_n,this.malformedUriErrorHandler=wn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:On,afterPreactivation:On},this.urlHandlingStrategy=new bn,this.routeReuseStrategy=new pn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.y),this.console=s.get(i.ab);const h=s.get(i.A);this.isNgZoneEnabled=h instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Pt(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mn(o,c,t=>this.triggerEvent(new ot(t)),t=>this.triggerEvent(new at(t))),this.routerState=ne(this.currentUrlTree,this.rootComponentType),this.transitions=new u({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(j.a)(t=>0!==t.id),Object(x.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(I.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(z.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(I.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(I.a)(t=>{const n=this.transitions.getValue();return e.next(new Y(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?S.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,Object(I.a)(t=>function(t,e,n,r,i){return new Qe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(x.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(z.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(H.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const a=new an(t,e,n,r,i,s).recognize();return null===a?on(new sn):Object(o.a)(a)}catch(a){return on(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(x.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(z.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,c=new Y(n,this.serializeUrl(r),i,s);e.next(c);const u=ne(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),S.a}),fn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(z.a)(t=>{const e=new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(x.a)(t=>Object.assign(Object.assign({},t),{guards:tn(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(H.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(H.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=en(s,e,i);let a;if(function(t){return t&&Ie(t.canDeactivate)}(o))a=Ct(o.canDeactivate(t,e,n,r));else{if(!Ie(o))throw new Error("Invalid CanDeactivate guard");a=Ct(o(t,e,n,r))}return a.pipe(Object(B.a)())});return Object(o.a)(a).pipe(Ae())}(t.component,t.route,n,e,r)),Object(B.a)(t=>!0!==t,!0))}(c,r,i,t).pipe(Object(H.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(N.a)(e=>Object(C.a)(function(t,e){return null!==t&&e&&e(new ct(t)),Object(o.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new lt(t)),Object(o.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>E(()=>{const i=e.guards.map(i=>{const s=en(i,e.node,n);let o;if(function(t){return t&&Ie(t.canActivateChild)}(s))o=Ct(s.canActivateChild(r,t));else{if(!Ie(s))throw new Error("Invalid CanActivateChild guard");o=Ct(s(r,t))}return o.pipe(Object(B.a)())});return Object(o.a)(i).pipe(Ae())}));return Object(o.a)(i).pipe(Ae())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>E(()=>{const i=en(r,e,n);let s;if(function(t){return t&&Ie(t.canActivate)}(i))s=Ct(i.canActivate(e,t));else{if(!Ie(i))throw new Error("Invalid CanActivate guard");s=Ct(i(e,t))}return s.pipe(Object(B.a)())}));return Object(o.a)(i).pipe(Ae())}(t,e.route,n))),Object(B.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(x.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(z.a)(t=>{if(ke(t.guardsResult)){const e=mt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new rt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(j.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Z(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),fn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(z.a)(t=>{const e=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(I.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(H.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(N.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(H.a)(i=>function(t,e,n,r){const i=en(t,e,r);return Ct(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(z.a)(t=>{a[i]=t}))),M(1),Object(H.a)(()=>Object.keys(a).length===i.length?Object(o.a)(a):S.a))}(t._resolve,t,e,r).pipe(Object(x.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ie(t,n).resolve),null)))}(t.route,e,r,i)),Object(z.a)(()=>a++),M(1),Object(H.a)(e=>a===n.length?Object(o.a)(t):S.a))})),Object(z.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Z(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(z.a)(t=>{const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),fn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(x.a)(t=>{const e=function(t,e,n){const r=he(t,e._root,n?n._root:void 0);return new ee(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(z.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,c=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(x.a)(t=>(new Ee(c,t.targetRouterState,t.currentRouterState,u).activate(a),t))),Object(z.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Z(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new $(i))),Object(D.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ke(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Z(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new tt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return S.a}));var i,a,c,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){De(t),this.config=t.map(Me),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return ge(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ye(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ot(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ye(n,e,r)}(n);if(s.toRoot())return ge(e.root,new At([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ve(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ve(t,t===e.root,0)}const r=fe(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ve(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?_e(o.segmentGroup,o.index,s.commands):be(o.segmentGroup,o.index,s.commands);return ge(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ke(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Cn):!1===e?Object.assign({},Sn):e,ke(t))return Tt(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Tt(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.O),i.Xb(Nt),i.Xb(vn),i.Xb(r.g),i.Xb(i.s),i.Xb(i.x),i.Xb(i.i),i.Xb(void 0))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Tn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new a.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:In(this.skipLocationChange),replaceUrl:In(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:In(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(En),i.Nb(re),i.Yb("tabindex"),i.Nb(i.F),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.ac("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Ab]}),t})(),xn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new a.a,this.subscription=t.events.subscribe(t=>{t instanceof J&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:In(this.skipLocationChange),replaceUrl:In(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:In(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(En),i.Nb(re),i.Nb(r.h))},t.\u0275dir=i.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.ac("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Wb("href",e.href,i.pc),i.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Ab]}),t})();function In(t){return""===t||!!t}let kn=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof J&&this.update()})}ngAfterContentInit(){Object(o.a)(this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)).pipe(Object(W.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(W.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(En),i.Nb(i.l),i.Nb(i.F),i.Nb(i.h),i.Nb(Tn,8),i.Nb(xn,8))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(i.Gb(n,Tn,5),i.Gb(n,xn,5)),2&t){let t;i.kc(t=i.bc())&&(e.links=t),i.kc(t=i.bc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.Ab]}),t})(),Pn=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new An(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(vn),i.Nb(i.R),i.Nb(i.j),i.Yb("name"),i.Nb(i.h))},t.\u0275dir=i.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class An{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===re?this.route:t===vn?this.childContexts:this.parent.get(t,e)}}class jn{}class Dn{preload(t,e){return Object(o.a)(null)}}let Nn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new mn(e,n,e=>t.triggerEvent(new ot(e)),e=>t.triggerEvent(new at(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(j.a)(t=>t instanceof J),Object(N.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(W.a)(),Object(x.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(H.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(En),i.Xb(i.x),i.Xb(i.i),i.Xb(i.s),i.Xb(jn))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Rn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new dt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(En),i.Xb(r.o),i.Xb(void 0))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const Mn=new i.r("ROUTER_CONFIGURATION"),Ln=new i.r("ROUTER_FORROOT_GUARD"),Fn=[r.g,{provide:Nt,useClass:Rt},{provide:En,useFactory:function(t,e,n,r,i,s,o,a={},c,u){const l=new En(null,t,e,n,r,i,s,_t(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Nt,vn,r.g,i.s,i.x,i.i,gn,Mn,[class{},new i.B],[class{},new i.B]]},vn,{provide:re,useFactory:function(t){return t.routerState.root},deps:[En]},{provide:i.x,useClass:i.L},Nn,Dn,class{preload(t,e){return e().pipe(Object(D.a)(()=>Object(o.a)(null)))}},{provide:Mn,useValue:{enableTracing:!1}}];function Vn(){return new i.z("Router",En)}let Un=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Fn,zn(e),{provide:Ln,useFactory:Hn,deps:[[En,new i.B,new i.K]]},{provide:Mn,useValue:n||{}},{provide:r.h,useFactory:Bn,deps:[r.n,[new i.p(r.a),new i.B],Mn]},{provide:Rn,useFactory:qn,deps:[En,r.o,Mn]},{provide:jn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Dn},{provide:i.z,multi:!0,useFactory:Vn},[Kn,{provide:i.d,multi:!0,useFactory:Xn,deps:[Kn]},{provide:Gn,useFactory:$n,deps:[Kn]},{provide:i.b,multi:!0,useExisting:Gn}]]}}static forChild(e){return{ngModule:t,providers:[zn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(Ln,8),i.Xb(En,8))},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({}),t})();function qn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Rn(t,e,n)}function Bn(t,e,n={}){return n.useHash?new r.d(t,e):new r.m(t,e)}function Hn(t){return"guarded"}function zn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:gn,multi:!0,useValue:t}]}let Kn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new a.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(En),r=this.injector.get(Mn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Mn),n=this.injector.get(Nn),r=this.injector.get(Rn),s=this.injector.get(En),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.s))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();function Xn(t){return t.appInitializer.bind(t)}function $n(t){return t.bootstrapListener.bind(t)}const Gn=new i.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},wX64:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{constructor(t){this.cdr=t,this.DELAY_TIME=500,this.visible=!1,this.delayed=!0}ngOnInit(){this.delayed?setTimeout(()=>{this.visible=!0,this.cdr.markForCheck()},this.DELAY_TIME):this.visible=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-spinner"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("is-visible",e.visible)},inputs:{delayed:"delayed"},decls:2,vars:0,consts:[["version","1.1","id","loader-1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","40px","height","40px","viewBox","0 0 50 50",0,"xml","space","preserve",2,"enable-background","new 0 0 50 50"],["d","M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"]],template:function(t,e){1&t&&(r.cc(),r.Tb(0,"svg",0),r.Ob(1,"path",1),r.Sb())},styles:["[_nghost-%COMP%]{--spinner-size:40px;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]:not(.is-visible){display:none}@keyframes rotator{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.spinner-small[_nghost-%COMP%]{--spinner-size:27px}.spinner-big[_nghost-%COMP%]{--spinner-size:80px}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:var(--spinner-size);height:var(--spinner-size);fill:var(--primary);animation:rotator .6s linear infinite}"],changeDetection:0}),t})()},wwfQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("fXoL");let i=(()=>{class t{constructor(){this.messages=[]}info(t){this.push("info",t)}success(t){this.push("success",t)}warning(t){this.push("warning",t)}error(t){this.push("error",t)}push(t,e){this.messages.push({type:t,message:e}),window.setTimeout(()=>this.dismiss(-1),5e3)}dismiss(t){this.messages.splice(t,1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.3.2",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.18",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("fXoL");class s extends r.r{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){Object(r.v)(new o)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Object(r.u)(document.cookie,t)}}let a,c=null;const u=new i.r("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.t)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[u,r.c,i.s],multi:!0}];class h{static init(){Object(i.Z)(new h)}addToWindow(t){i.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.qb.getAllAngularRootElements=()=>t.getAllRootElements(),i.qb.frameworkStabilizers||(i.qb.frameworkStabilizers=[]),i.qb.frameworkStabilizers.push(t=>{const e=i.qb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.t)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new i.r("EventManagerPlugins");let f=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(d),i.Xb(i.A))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.t)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.t)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function b(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?b(t,i,n):(i=i.replace(v,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new O(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.S.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(f),i.Xb(m),i.Xb(i.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class O{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.H.DashCase|i.H.Important)?t.style.setProperty(e,n,r&i.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class C extends O{constructor(t,e,n,r){super(t),this.component=n;const i=b(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(v,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(v,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class S extends O{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=b(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let E=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const T=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let P=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.t)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(T.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&I.hasOwnProperty(e)&&(e=I[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),T.forEach(r=>{r!=n&&(0,k[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const A=[{provide:i.C,useValue:r.s},{provide:i.D,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.c,useFactory:function(){return Object(i.wb)(document),document},deps:[]}],j=Object(i.T)(i.Y,"browser",A),D=[[],{provide:i.bb,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:d,useClass:E,multi:!0,deps:[r.c,i.A,i.C]},{provide:d,useClass:P,multi:!0,deps:[r.c]},[],{provide:w,useClass:w,deps:[f,m,i.c]},{provide:i.G,useExisting:w},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[r.c]},{provide:i.N,useClass:i.N,deps:[i.A]},{provide:f,useClass:f,deps:[d,i.A]},[]];let N=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:u,useExisting:i.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(t,12))},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:D,imports:[r.b,i.f]}),t})();function R(){return new M(Object(i.Xb)(r.c))}let M=(()=>{class t{constructor(t){this._doc=t,this._dom=Object(r.t)()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(this._getMetaKeyMap(n),t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(this._getMetaKeyMap(n))===t[n])}_getMetaKeyMap(t){return L[t]||t}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c))},t.\u0275prov=Object(i.Jb)({factory:R,token:t,providedIn:"root"}),t})();const L={httpEquiv:"http-equiv"};function F(){return new V(Object(i.Xb)(r.c))}let V=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c))},t.\u0275prov=Object(i.Jb)({factory:F,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var U=n("spgP"),q=n("I/3d"),B=n("R0Ic");function H(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function z(t){switch(t.length){case 0:return new B.d;case 1:return t[0];default:return new B.j(t)}}function K(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case B.k:a=i[n];break;case B.a:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function X(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&$(n,"start",t)));break;case"done":t.onDone(()=>r(n&&$(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&$(n,"destroy",t)))}}function $(t,e,n){const r=n.totalTime,i=G(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function G(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function W(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Q(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Y=(t,e)=>!1,J=(t,e)=>!1,Z=(t,e,n)=>[];const tt=H();(tt||"undefined"!=typeof Element)&&(Y=(t,e)=>t.contains(e),J=(()=>{if(tt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):J}})(),Z=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let et=null,nt=!1;function rt(t){et||(et=("undefined"!=typeof document?document.body:null)||{},nt=!!et.style&&"WebkitAppearance"in et.style);let e=!0;return et.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in et.style,!e&&nt)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in et.style),e}const it=J,st=Y,ot=Z;function at(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let ct=(()=>{class t{validateStyleProperty(t){return rt(t)}matchesElement(t,e){return it(t,e)}containsElement(t,e){return st(t,e)}query(t,e,n){return ot(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new B.d(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),ut=(()=>{class t{}return t.NOOP=new ct,t})();const lt="ng-enter",ht="ng-leave",dt="ng-trigger",ft=".ng-trigger",pt="ng-animating",gt=".ng-animating";function mt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yt(parseFloat(e[1]),e[2])}function yt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function vt(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=yt(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=yt(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function bt(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function _t(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else bt(t,n);return n}function wt(t,e,n){return n?e+":"+n+";":""}function Ot(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=wt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=wt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ct(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=At(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),H()&&Ot(t))}function St(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=At(e);t.style[n]=""}),H()&&Ot(t))}function Et(t){return Array.isArray(t)?1==t.length?t[0]:Object(B.f)(t):t}const Tt=new RegExp("{{\\s*(.+?)\\s*}}","g");function xt(t){let e=[];if("string"==typeof t){let n;for(;n=Tt.exec(t);)e.push(n[1]);Tt.lastIndex=0}return e}function It(t,e,n){const r=t.toString(),i=r.replace(Tt,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function kt(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Pt=/-+([a-z0-9])/g;function At(t){return t.replace(Pt,(...t)=>t[1].toUpperCase())}function jt(t,e){return 0===t||0===e}function Dt(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Rt(t,e)})}}return e}function Nt(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Rt(t,e){return window.getComputedStyle(t)[e]}const Mt="*";function Lt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Ut(i,o)),"<"!=s[0]||i==Mt&&o==Mt||e.push(Ut(o,i))}(t,n,e)):n.push(t),n}const Ft=new Set(["true","1"]),Vt=new Set(["false","0"]);function Ut(t,e){const n=Ft.has(t)||Vt.has(t),r=Ft.has(e)||Vt.has(e);return(i,s)=>{let o=t==Mt||t==i,a=e==Mt||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ft.has(t):Vt.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ft.has(e):Vt.has(e)),o&&a}}const qt=new RegExp("s*:selfs*,?","g");function Bt(t,e,n){return new Ht(t).build(e,n)}class Ht{constructor(t){this._driver=t}build(t,e){const n=new zt(e);return this._resetContextStyleTimingState(n),Nt(this,Et(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Kt(t)){const e=t;Object.keys(e).forEach(t=>{xt(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=kt(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Nt(this,Et(t.animation),e);return{type:1,matchers:Lt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Xt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Nt(this,t,e)),options:Xt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Nt(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Xt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $t(vt(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=$t(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||vt(r,e),$t(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(B.g)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(B.g)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==B.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Kt(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=xt(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Nt(this,Et(t.animation),e),options:Xt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Xt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(qt,"")),[t=t.replace(/@\*/g,ft).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,gt),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,W(e.collectedStyles,e.currentQuerySelector,{});const o=Nt(this,Et(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Xt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:vt(t.timings,e.errors,!0);return{type:12,animation:Nt(this,Et(t.animation),e),timings:n,options:null}}}class zt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Kt(t){return!Array.isArray(t)&&"object"==typeof t}function Xt(t){var e;return t?(t=bt(t)).params&&(t.params=(e=t.params)?bt(e):null):t={},t}function $t(t,e,n){return{duration:t,delay:e,easing:n}}function Gt(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Qt=new RegExp(":enter","g"),Yt=new RegExp(":leave","g");function Jt(t,e,n,r,i,s={},o={},a,c,u=[]){return(new Zt).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class Zt{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new Wt;const l=new ee(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Nt(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Gt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?mt(n.duration):null,s=null!=n.delay?mt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Nt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=te);const t=mt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Nt(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?mt(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Nt(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return vt(e.params?It(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?mt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=te);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Nt(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;Nt(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const te={};class ee{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=te,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ne(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=mt(n.duration)),null!=n.delay&&(r.delay=mt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=It(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ee(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=te,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new re(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Qt,"."+this._enterClassName)).replace(Yt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ne{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ne(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||B.a,this._currentKeyframe[t]=B.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=B.a})):_t(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=It(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:B.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=_t(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==B.k?t.add(n):r==B.a&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?kt(t.values()):[],s=e.size?kt(e.values()):[];if(n){const t=r[0],e=bt(t);t.offset=0,e.offset=1,r=[t,e]}return Gt(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class re extends ne{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=_t(t[0],!1);a.offset=0,i.push(a);const c=_t(t[0],!1);c.offset=ie(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=_t(t[r],!1);o.offset=ie((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Gt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ie(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class se{}class oe extends se{normalizePropertyName(t,e){return At(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ae[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ae=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ce(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const ue={};class le{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||ue,d=this.buildStyles(n,o&&o.params||ue,l),f=a&&a.params||ue,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:Jt(t,e,this.ast.animation,i,s,d,p,b,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ce(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=W(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=W(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=kt(g.values());return ce(e,this._triggerName,n,r,v,d,p,_,O,m,y,w)}}class he{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=bt(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=It(s,r,e)),n[t]=s})}}),n}}class de{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new he(t.style,t.options&&t.options.params||{})}),fe(this.states,"true","1"),fe(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new le(t,e,this.states))}),this.fallbackTransition=new le(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function fe(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const pe=new Wt;class ge{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Bt(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=K(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Jt(this._driver,e,i,lt,ht,{},{},n,pe,r),s.forEach(t=>{const e=W(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,B.a)})});const a=z(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=G(e,"","","");return X(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const me="ng-animate-queued",ye="ng-animate-disabled",ve=".ng-animate-disabled",be=[],_e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},we={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Oe{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=bt(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ce="void",Se=new Oe(Ce);class Ee{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,je(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=W(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=W(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(je(t,dt),je(t,"ng-trigger-"+e),a[e]=Se),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new xe(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(je(t,dt),je(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Oe(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Se),c.value!==Ce&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{St(t,n),Ct(t,r)})}return}const u=W(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(je(t,me),s.onStart(()=>{De(t,me)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ft,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ce,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&z(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Se,a=new Oe(Ce),c=new xe(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==_e||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){je(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=G(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,X(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Te{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Ee(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ie(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ie(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),je(t,ye)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),De(t,ye))}removeNode(t,e,n,r){if(Ie(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ie(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ft,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gt,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return z(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=_e,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ve)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ve,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)je(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?z(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Wt,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ae(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=lt+p++;f.set(e,n),t.forEach(t=>je(t,n))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Ae(h,Array.from(m));b.forEach((t,e)=>{const n=ht+p++;v.set(e,n),t.forEach(t=>je(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>De(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>De(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>St(i,p.fromStyles)),e.onDestroy(()=>Ct(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>St(i,p.fromStyles)),e.onDestroy(()=>Ct(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>W(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{W(O,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Me(t,a,c)),E=new Map;Pe(E,this.driver,y,c,B.a).forEach(t=>{Me(t,a,c)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{Pe(T,this.driver,new Set(t),a,B.k)}),S.forEach(t=>{const e=E.get(t),n=T.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Ct(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,E);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=z(e)),r.push(s)}}else St(e,o.fromStyles),s.onDestroy(()=>Ct(e,o.toStyles)),I.push(s),u.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=z(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(De(t,ht),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,gt,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Ne(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ce;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=W(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}St(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new B.d(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Re(t,e),e}((n.get(h)||be).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=K(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new xe(t,o,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{W(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>je(t,pt));const d=z(h);return d.onDestroy(()=>{u.forEach(t=>De(t,pt)),Ct(a,e.toStyles)}),l.forEach(t=>{W(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new B.d(t.duration,t.delay)}}class xe{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new B.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>X(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){W(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ie(t){return t&&1===t.nodeType}function ke(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Pe(t,e,n,r,i){const s=[];n.forEach(t=>s.push(ke(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=we,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>ke(t,s[a++])),o}function Ae(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function je(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function De(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Ne(t,e,n){z(n).onDone(()=>t.processLeaveNode(e))}function Re(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof B.j?Re(r.players,e):e.push(r)}}function Me(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Le{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Te(t,e,n),this._timelineEngine=new ge(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Bt(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new de(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Q(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Q(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ue(e[0]),e.length>1&&(r=Ue(e[e.length-1]))):e&&(n=Ue(e)),n||r?new Ve(t,n,r):null}let Ve=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ct(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ct(this._element,this._initialStyles),this._endStyles&&(Ct(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(St(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),Ct(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ue(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];qe(i)&&(e=e||{},e[i]=t[i])}return e}function qe(t){return"display"===t||"position"===t}const Be="animation",He="animationend";class ze{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qe(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),We(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ge(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ke(this._element,this._name,"paused")}resume(){Ke(this._element,this._name,"running")}setPosition(t){const e=Xe(this._element,this._name);this._position=t*this._duration,We(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ge(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qe(t,"").split(","),r=$e(n,e);r>=0&&(n.splice(r,1),We(t,"",n.join(",")))}(this._element,this._name))}}function Ke(t,e,n){We(t,"PlayState",n,Xe(t,e))}function Xe(t,e){const n=Qe(t,"");return n.indexOf(",")>0?$e(n.split(","),e):$e([n],e)}function $e(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ge(t,e,n){n?t.removeEventListener(He,e):t.addEventListener(He,e)}function We(t,e,n,r){const i=Be+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qe(t,e){return t.style[Be+e]||""}class Ye{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ze(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Rt(this.element,n))})}this.currentSnapshot=t}}class Je extends B.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=at(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ze{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return rt(t)}matchesElement(t,e){return it(t,e)}containsElement(t,e){return st(t,e)}query(t,e,n){return ot(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>at(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Ye),c={};jt(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Dt(t,e,c));if(0==n)return new Je(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Fe(t,e),f=new Ye(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class tn{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Rt(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class en{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nn().toString()),this._cssKeyframesDriver=new Ze}validateStyleProperty(t){return rt(t)}matchesElement(t,e){return it(t,e)}containsElement(t,e){return st(t,e)}query(t,e,n){return ot(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof tn);jt(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Fe(t,e=Dt(t,e=e.map(t=>_t(t,!1)),c));return new tn(t,e,a,l)}}function nn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let rn=(()=>{class t extends B.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(B.f)(t):t;return an(this._renderer,null,e,"register",[n]),new sn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.G),i.Xb(r.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class sn extends B.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new on(this._id,t,e||{},this._renderer)}}class on{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return an(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function an(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const cn="@",un="@.disabled";let ln=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new hn("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new dn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.G),i.Xb(Le),i.Xb(i.A))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class hn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==cn&&e==un?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dn extends hn{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==cn?"."==e.charAt(1)&&e==un?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==cn){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=cn&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let fn=(()=>{class t extends Le{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(r.c),i.Xb(ut),i.Xb(se))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const pn=new i.r("AnimationModuleType"),gn=[{provide:B.b,useClass:rn},{provide:se,useFactory:function(){return new oe}},{provide:Le,useClass:fn},{provide:i.G,useFactory:function(t,e,n){return new ln(t,e,n)},deps:[w,Le,i.A]}],mn=[{provide:ut,useFactory:function(){return"function"==typeof nn()?new en:new Ze}},{provide:pn,useValue:"BrowserAnimations"},...gn],yn=[{provide:ut,useClass:ct},{provide:pn,useValue:"NoopAnimations"},...gn];let vn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?yn:mn}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:mn,imports:[N]}),t})();var bn=n("AytR"),_n=n("tyNb");let wn=(()=>{class t{constructor(t){this.router=t}canLoad(t){return t.data.featureFlag||this.router.navigateByUrl("/"),t.data.featureFlag}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(_n.e))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const On=[{path:"",pathMatch:"full",loadChildren:()=>n.e(4).then(n.bind(null,"Shpw")).then(t=>t.LandingPageModule)},{path:"playground",canLoad:[wn],data:{featureFlag:bn.a.features.playground},loadChildren:()=>n.e(5).then(n.bind(null,"51wc")).then(t=>t.PlaygroundModule)},{path:"**",component:(()=>{class t{goBack(){window.history.back()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-page-not-found"]],decls:6,vars:0,consts:[["src","assets/404.gif"],[1,"page-not-found-info"],[1,"secondary",3,"click"]],template:function(t,e){1&t&&(i.Ob(0,"img",0),i.Tb(1,"div",1),i.Tb(2,"p"),i.uc(3," Strona, kt\xf3rej szukasz nie istnieje lub zosta\u0142a usuni\u0119ta "),i.Sb(),i.Tb(4,"button",2),i.ac("click",function(){return e.goBack()}),i.uc(5,"Powr\xf3t"),i.Sb(),i.Sb())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:70px}[_nghost-%COMP%]   .page-not-found-info[_ngcontent-%COMP%]{margin-top:20px;text-align:center}[_nghost-%COMP%]   .page-not-found-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;width:100%}"]}),t})()}];let Cn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:[],imports:[[_n.h.forRoot(On,{relativeLinkResolution:"legacy"})],_n.h]}),t})();var Sn=n("LzDw"),En=n("wwfQ");const Tn={info:"error_outline",success:"done",warning:"warning",error:"highlight_off"};let xn=(()=>{class t{get icon(){return Tn[this.toast.type]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-toast"]],inputs:{toast:"toast"},decls:8,vars:5,consts:[[1,"toast-title"],[1,"material-icons"],[1,"material-icons","close"]],template:function(t,e){1&t&&(i.Tb(0,"div"),i.Tb(1,"div",0),i.Tb(2,"i",1),i.uc(3),i.Sb(),i.Tb(4,"p"),i.uc(5),i.Sb(),i.Sb(),i.Tb(6,"i",2),i.uc(7,"close"),i.Sb(),i.Sb()),2&t&&(i.Eb("toast ",e.toast.type,""),i.Cb(3),i.vc(e.icon),i.Cb(2),i.wc(" ",e.toast.message," "))},styles:["@media (max-width:768px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:769px){.mobile-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1382px){.laptop-and-below-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width:1381px){.desktop-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1025px){.hide-above-tablet-landscape[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:1024px){.hide-tablet-landscape-and-below[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .toast[_ngcontent-%COMP%]{margin:10px;padding:10px;justify-content:space-between;width:350px;max-width:100%;cursor:pointer;z-index:100;box-sizing:border-box;color:var(--content-very-light)}[_nghost-%COMP%]   .toast[_ngcontent-%COMP%], [_nghost-%COMP%]   .toast[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .toast[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .toast[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{opacity:.4}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{background:var(--primary)}[_nghost-%COMP%]   .success[_ngcontent-%COMP%]{background:#36b56f}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{background:var(--danger)}[_nghost-%COMP%]   .warning[_ngcontent-%COMP%]{background:var(--warning)}@media (max-width:768px){[_nghost-%COMP%]   .toast[_ngcontent-%COMP%]{width:100%;margin:0}}"]}),t})();function In(t,e){if(1&t){const t=i.Ub();i.Tb(0,"app-toast",1),i.ac("click",function(){const e=i.oc(t).index;return i.dc().toasts.dismiss(e)}),i.Sb()}2&t&&i.ic("toast",e.$implicit)("@slide",void 0)}let kn=(()=>{class t{constructor(t){this.toasts=t}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(En.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-toasts"]],decls:1,vars:1,consts:[[3,"toast","click",4,"ngFor","ngForOf"],[3,"toast","click"]],template:function(t,e){1&t&&i.sc(0,In,1,2,"app-toast",0),2&t&&i.ic("ngForOf",e.toasts.messages)},directives:[r.j,xn],styles:["@media (max-width:768px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:769px){.mobile-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1382px){.laptop-and-below-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width:1381px){.desktop-only[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width:1025px){.hide-above-tablet-landscape[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:1024px){.hide-tablet-landscape-and-below[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{position:fixed;bottom:0;right:0;display:flex;flex-direction:column}@media (max-width:768px){[_nghost-%COMP%]{width:100%}}"],data:{animation:[Object(B.i)("slide",[Object(B.h)(":enter",[Object(B.g)({opacity:0}),Object(B.e)("100ms ease-in",Object(B.g)({opacity:1}))]),Object(B.h)(":leave",[Object(B.g)({opacity:1}),Object(B.e)("300ms ease-in",Object(B.g)({opacity:0}))])])]}}),t})();var Pn=n("1DKR"),An=n("IRxH");function jn(t,e){1&t&&i.Ob(0,"app-progress-bar")}let Dn=(()=>{class t{constructor(t){this.router=t,this.loading=!1,this.router.events.subscribe(t=>{switch(!0){case t instanceof _n.d:this.loading=!0;break;case t instanceof _n.b:case t instanceof _n.a:case t instanceof _n.c:this.loading=!1}})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(_n.e))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-root"]],decls:6,vars:1,consts:[[4,"ngIf"],[1,"view-container"]],template:function(t,e){1&t&&(i.Ob(0,"app-top-bar"),i.sc(1,jn,1,0,"app-progress-bar",0),i.Tb(2,"div",1),i.Ob(3,"router-outlet"),i.Sb(),i.Ob(4,"app-toasts"),i.Ob(5,"app-footer")),2&t&&(i.Cb(1),i.ic("ngIf",e.loading))},directives:[Sn.a,r.k,_n.i,kn,Pn.a,An.a],styles:["[_nghost-%COMP%]{min-height:100vh}[_nghost-%COMP%], [_nghost-%COMP%]   .view-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .view-container[_ngcontent-%COMP%]{flex-grow:1}"]}),t})();var Nn=n("tk/3"),Rn=n("PCNd"),Mn=n("HyEY"),Ln=n("z6cu"),Fn=n("JIr8");let Vn=(()=>{class t{constructor(t){this.toastsService=t}intercept(t,e){return e.handle(t).pipe(Object(Fn.a)(t=>(navigator.onLine?500===t.status&&this.toastsService.error("Nieoczekiwany b\u0142\u0105d serwera."):this.toastsService.error("Brak po\u0142\u0105czenia z internetem."),Object(Ln.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(En.a))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Un=n("fwJ/");let qn=(()=>{class t{constructor(t,e){this.meta=t,this.title=e}setTitle(t){this.setFullTitle(`${t} - MyApp`)}setFullTitle(t){this.title.setTitle(t)}setDescription(t){this.meta.updateTag({name:"description",content:t})}removeDescription(){this.meta.removeTag("name=description")}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(M),i.Xb(V))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),Bn=(()=>{class t{constructor(t){!function(t,e){if(t)throw new Error("CoreModule has already been loaded. Import Core modules in the AppModule only.")}(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(t,12))},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:[qn,En.a,Mn.a,Un.a,wn,{provide:Nn.a,useClass:Vn,multi:!0}],imports:[[Nn.c,Rn.a]]}),t})();var Hn=n("P/Yz"),zn=n("oRDy");let Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t,bootstrap:[Dn]}),t.\u0275inj=i.Kb({imports:[[N,vn,Cn,Rn.a,Bn,zn.a,Hn.a,U.a.initializeApp(bn.a.firebaseConfig),q.b]]}),t})();bn.a.production&&Object(i.U)(),j().bootstrapModule(Kn).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);